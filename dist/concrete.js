//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

Service_about_args = function(args) {
};
Service_about_args.prototype = {};
Service_about_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Service_about_args.prototype.write = function(output) {
  output.writeStructBegin('Service_about_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Service_about_result = function(args) {
  this.success = null;
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new ServiceInfo(args.success);
    }
  }
};
Service_about_result.prototype = {};
Service_about_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new ServiceInfo();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Service_about_result.prototype.write = function(output) {
  output.writeStructBegin('Service_about_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Service_alive_args = function(args) {
};
Service_alive_args.prototype = {};
Service_alive_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Service_alive_args.prototype.write = function(output) {
  output.writeStructBegin('Service_alive_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Service_alive_result = function(args) {
  this.success = null;
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = args.success;
    }
  }
};
Service_alive_result.prototype = {};
Service_alive_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.BOOL) {
        this.success = input.readBool().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Service_alive_result.prototype.write = function(output) {
  output.writeStructBegin('Service_alive_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.BOOL, 0);
    output.writeBool(this.success);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
ServiceClient.prototype = {};

ServiceClient.prototype.about = function(callback) {
  if (callback === undefined) {
    this.send_about();
    return this.recv_about();
  } else {
    var postData = this.send_about(true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_about);
  }
};

ServiceClient.prototype.send_about = function(callback) {
  var args = new Service_about_args();
  try {
    this.output.writeMessageBegin('about', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ServiceClient.prototype.recv_about = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new Service_about_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.success) {
    return result.success;
  }
  throw 'about failed: unknown result';
};

ServiceClient.prototype.alive = function(callback) {
  if (callback === undefined) {
    this.send_alive();
    return this.recv_alive();
  } else {
    var postData = this.send_alive(true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_alive);
  }
};

ServiceClient.prototype.send_alive = function(callback) {
  var args = new Service_alive_args();
  try {
    this.output.writeMessageBegin('alive', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ServiceClient.prototype.recv_alive = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new Service_alive_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.success) {
    return result.success;
  }
  throw 'alive failed: unknown result';
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


FetchResult = function(args) {
  this.communications = null;
  if (args) {
    if (args.communications !== undefined && args.communications !== null) {
      this.communications = Thrift.copyList(args.communications, [Communication]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field communications is unset!');
    }
  }
};
FetchResult.prototype = {};
FetchResult.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.communications = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = new Communication();
          elem3.read(input);
          this.communications.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FetchResult.prototype.write = function(output) {
  output.writeStructBegin('FetchResult');
  if (this.communications !== null && this.communications !== undefined) {
    output.writeFieldBegin('communications', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.STRUCT, this.communications.length);
    for (var iter4 in this.communications) {
      if (this.communications.hasOwnProperty(iter4)) {
        iter4 = this.communications[iter4];
        iter4.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FetchRequest = function(args) {
  this.communicationIds = null;
  this.auths = null;
  if (args) {
    if (args.communicationIds !== undefined && args.communicationIds !== null) {
      this.communicationIds = Thrift.copyList(args.communicationIds, [null]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field communicationIds is unset!');
    }
    if (args.auths !== undefined && args.auths !== null) {
      this.auths = args.auths;
    }
  }
};
FetchRequest.prototype = {};
FetchRequest.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.communicationIds = [];
        var _rtmp36 = input.readListBegin();
        var _size5 = _rtmp36.size || 0;
        for (var _i7 = 0; _i7 < _size5; ++_i7) {
          var elem8 = null;
          elem8 = input.readString().value;
          this.communicationIds.push(elem8);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.auths = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FetchRequest.prototype.write = function(output) {
  output.writeStructBegin('FetchRequest');
  if (this.communicationIds !== null && this.communicationIds !== undefined) {
    output.writeFieldBegin('communicationIds', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.STRING, this.communicationIds.length);
    for (var iter9 in this.communicationIds) {
      if (this.communicationIds.hasOwnProperty(iter9)) {
        iter9 = this.communicationIds[iter9];
        output.writeString(iter9);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.auths !== null && this.auths !== undefined) {
    output.writeFieldBegin('auths', Thrift.Type.STRING, 2);
    output.writeString(this.auths);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

ActiveLearnerClientService_submitSort_args = function(args) {
  this.sessionId = null;
  this.unitIds = null;
  if (args) {
    if (args.sessionId !== undefined && args.sessionId !== null) {
      this.sessionId = new UUID(args.sessionId);
    }
    if (args.unitIds !== undefined && args.unitIds !== null) {
      this.unitIds = Thrift.copyList(args.unitIds, [AnnotationUnitIdentifier]);
    }
  }
};
ActiveLearnerClientService_submitSort_args.prototype = {};
ActiveLearnerClientService_submitSort_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.sessionId = new UUID();
        this.sessionId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.unitIds = [];
        var _rtmp311 = input.readListBegin();
        var _size10 = _rtmp311.size || 0;
        for (var _i12 = 0; _i12 < _size10; ++_i12) {
          var elem13 = null;
          elem13 = new AnnotationUnitIdentifier();
          elem13.read(input);
          this.unitIds.push(elem13);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ActiveLearnerClientService_submitSort_args.prototype.write = function(output) {
  output.writeStructBegin('ActiveLearnerClientService_submitSort_args');
  if (this.sessionId !== null && this.sessionId !== undefined) {
    output.writeFieldBegin('sessionId', Thrift.Type.STRUCT, 1);
    this.sessionId.write(output);
    output.writeFieldEnd();
  }
  if (this.unitIds !== null && this.unitIds !== undefined) {
    output.writeFieldBegin('unitIds', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRUCT, this.unitIds.length);
    for (var iter14 in this.unitIds) {
      if (this.unitIds.hasOwnProperty(iter14)) {
        iter14 = this.unitIds[iter14];
        iter14.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ActiveLearnerClientService_submitSort_result = function(args) {
};
ActiveLearnerClientService_submitSort_result.prototype = {};
ActiveLearnerClientService_submitSort_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ActiveLearnerClientService_submitSort_result.prototype.write = function(output) {
  output.writeStructBegin('ActiveLearnerClientService_submitSort_result');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ActiveLearnerClientServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(ActiveLearnerClientServiceClient, ServiceClient);

ActiveLearnerClientServiceClient.prototype.submitSort = function(sessionId, unitIds, callback) {
  if (callback === undefined) {
    this.send_submitSort(sessionId, unitIds);
    this.recv_submitSort();
  } else {
    var postData = this.send_submitSort(sessionId, unitIds, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_submitSort);
  }
};

ActiveLearnerClientServiceClient.prototype.send_submitSort = function(sessionId, unitIds, callback) {
  var params = {
    sessionId: sessionId,
    unitIds: unitIds
  };
  var args = new ActiveLearnerClientService_submitSort_args(params);
  try {
    this.output.writeMessageBegin('submitSort', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ActiveLearnerClientServiceClient.prototype.recv_submitSort = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ActiveLearnerClientService_submitSort_result();
  result.read(this.input);
  this.input.readMessageEnd();

  return;
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

ActiveLearnerServerService_start_args = function(args) {
  this.sessionId = null;
  this.task = null;
  this.contact = null;
  if (args) {
    if (args.sessionId !== undefined && args.sessionId !== null) {
      this.sessionId = new UUID(args.sessionId);
    }
    if (args.task !== undefined && args.task !== null) {
      this.task = new AnnotationTask(args.task);
    }
    if (args.contact !== undefined && args.contact !== null) {
      this.contact = new AsyncContactInfo(args.contact);
    }
  }
};
ActiveLearnerServerService_start_args.prototype = {};
ActiveLearnerServerService_start_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.sessionId = new UUID();
        this.sessionId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.task = new AnnotationTask();
        this.task.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.contact = new AsyncContactInfo();
        this.contact.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ActiveLearnerServerService_start_args.prototype.write = function(output) {
  output.writeStructBegin('ActiveLearnerServerService_start_args');
  if (this.sessionId !== null && this.sessionId !== undefined) {
    output.writeFieldBegin('sessionId', Thrift.Type.STRUCT, 1);
    this.sessionId.write(output);
    output.writeFieldEnd();
  }
  if (this.task !== null && this.task !== undefined) {
    output.writeFieldBegin('task', Thrift.Type.STRUCT, 2);
    this.task.write(output);
    output.writeFieldEnd();
  }
  if (this.contact !== null && this.contact !== undefined) {
    output.writeFieldBegin('contact', Thrift.Type.STRUCT, 3);
    this.contact.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ActiveLearnerServerService_start_result = function(args) {
  this.success = null;
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = args.success;
    }
  }
};
ActiveLearnerServerService_start_result.prototype = {};
ActiveLearnerServerService_start_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.BOOL) {
        this.success = input.readBool().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ActiveLearnerServerService_start_result.prototype.write = function(output) {
  output.writeStructBegin('ActiveLearnerServerService_start_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.BOOL, 0);
    output.writeBool(this.success);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ActiveLearnerServerService_stop_args = function(args) {
  this.sessionId = null;
  if (args) {
    if (args.sessionId !== undefined && args.sessionId !== null) {
      this.sessionId = new UUID(args.sessionId);
    }
  }
};
ActiveLearnerServerService_stop_args.prototype = {};
ActiveLearnerServerService_stop_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.sessionId = new UUID();
        this.sessionId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ActiveLearnerServerService_stop_args.prototype.write = function(output) {
  output.writeStructBegin('ActiveLearnerServerService_stop_args');
  if (this.sessionId !== null && this.sessionId !== undefined) {
    output.writeFieldBegin('sessionId', Thrift.Type.STRUCT, 1);
    this.sessionId.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ActiveLearnerServerService_stop_result = function(args) {
};
ActiveLearnerServerService_stop_result.prototype = {};
ActiveLearnerServerService_stop_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ActiveLearnerServerService_stop_result.prototype.write = function(output) {
  output.writeStructBegin('ActiveLearnerServerService_stop_result');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ActiveLearnerServerService_addAnnotations_args = function(args) {
  this.sessionId = null;
  this.annotations = null;
  if (args) {
    if (args.sessionId !== undefined && args.sessionId !== null) {
      this.sessionId = new UUID(args.sessionId);
    }
    if (args.annotations !== undefined && args.annotations !== null) {
      this.annotations = Thrift.copyList(args.annotations, [Annotation]);
    }
  }
};
ActiveLearnerServerService_addAnnotations_args.prototype = {};
ActiveLearnerServerService_addAnnotations_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.sessionId = new UUID();
        this.sessionId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.annotations = [];
        var _rtmp36 = input.readListBegin();
        var _size5 = _rtmp36.size || 0;
        for (var _i7 = 0; _i7 < _size5; ++_i7) {
          var elem8 = null;
          elem8 = new Annotation();
          elem8.read(input);
          this.annotations.push(elem8);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ActiveLearnerServerService_addAnnotations_args.prototype.write = function(output) {
  output.writeStructBegin('ActiveLearnerServerService_addAnnotations_args');
  if (this.sessionId !== null && this.sessionId !== undefined) {
    output.writeFieldBegin('sessionId', Thrift.Type.STRUCT, 1);
    this.sessionId.write(output);
    output.writeFieldEnd();
  }
  if (this.annotations !== null && this.annotations !== undefined) {
    output.writeFieldBegin('annotations', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRUCT, this.annotations.length);
    for (var iter9 in this.annotations) {
      if (this.annotations.hasOwnProperty(iter9)) {
        iter9 = this.annotations[iter9];
        iter9.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ActiveLearnerServerService_addAnnotations_result = function(args) {
};
ActiveLearnerServerService_addAnnotations_result.prototype = {};
ActiveLearnerServerService_addAnnotations_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ActiveLearnerServerService_addAnnotations_result.prototype.write = function(output) {
  output.writeStructBegin('ActiveLearnerServerService_addAnnotations_result');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ActiveLearnerServerServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(ActiveLearnerServerServiceClient, ServiceClient);

ActiveLearnerServerServiceClient.prototype.start = function(sessionId, task, contact, callback) {
  if (callback === undefined) {
    this.send_start(sessionId, task, contact);
    return this.recv_start();
  } else {
    var postData = this.send_start(sessionId, task, contact, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_start);
  }
};

ActiveLearnerServerServiceClient.prototype.send_start = function(sessionId, task, contact, callback) {
  var params = {
    sessionId: sessionId,
    task: task,
    contact: contact
  };
  var args = new ActiveLearnerServerService_start_args(params);
  try {
    this.output.writeMessageBegin('start', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ActiveLearnerServerServiceClient.prototype.recv_start = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ActiveLearnerServerService_start_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.success) {
    return result.success;
  }
  throw 'start failed: unknown result';
};

ActiveLearnerServerServiceClient.prototype.stop = function(sessionId, callback) {
  if (callback === undefined) {
    this.send_stop(sessionId);
    this.recv_stop();
  } else {
    var postData = this.send_stop(sessionId, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_stop);
  }
};

ActiveLearnerServerServiceClient.prototype.send_stop = function(sessionId, callback) {
  var params = {
    sessionId: sessionId
  };
  var args = new ActiveLearnerServerService_stop_args(params);
  try {
    this.output.writeMessageBegin('stop', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ActiveLearnerServerServiceClient.prototype.recv_stop = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ActiveLearnerServerService_stop_result();
  result.read(this.input);
  this.input.readMessageEnd();

  return;
};

ActiveLearnerServerServiceClient.prototype.addAnnotations = function(sessionId, annotations, callback) {
  if (callback === undefined) {
    this.send_addAnnotations(sessionId, annotations);
    this.recv_addAnnotations();
  } else {
    var postData = this.send_addAnnotations(sessionId, annotations, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_addAnnotations);
  }
};

ActiveLearnerServerServiceClient.prototype.send_addAnnotations = function(sessionId, annotations, callback) {
  var params = {
    sessionId: sessionId,
    annotations: annotations
  };
  var args = new ActiveLearnerServerService_addAnnotations_args(params);
  try {
    this.output.writeMessageBegin('addAnnotations', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ActiveLearnerServerServiceClient.prototype.recv_addAnnotations = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ActiveLearnerServerService_addAnnotations_result();
  result.read(this.input);
  this.input.readMessageEnd();

  return;
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

AnnotateCommunicationBatchService_annotate_args = function(args) {
  this.originals = null;
  if (args) {
    if (args.originals !== undefined && args.originals !== null) {
      this.originals = Thrift.copyList(args.originals, [Communication]);
    }
  }
};
AnnotateCommunicationBatchService_annotate_args.prototype = {};
AnnotateCommunicationBatchService_annotate_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.originals = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = new Communication();
          elem3.read(input);
          this.originals.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationBatchService_annotate_args.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationBatchService_annotate_args');
  if (this.originals !== null && this.originals !== undefined) {
    output.writeFieldBegin('originals', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.STRUCT, this.originals.length);
    for (var iter4 in this.originals) {
      if (this.originals.hasOwnProperty(iter4)) {
        iter4 = this.originals[iter4];
        iter4.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationBatchService_annotate_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [Communication]);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
AnnotateCommunicationBatchService_annotate_result.prototype = {};
AnnotateCommunicationBatchService_annotate_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        this.success = [];
        var _rtmp36 = input.readListBegin();
        var _size5 = _rtmp36.size || 0;
        for (var _i7 = 0; _i7 < _size5; ++_i7) {
          var elem8 = null;
          elem8 = new Communication();
          elem8.read(input);
          this.success.push(elem8);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationBatchService_annotate_result.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationBatchService_annotate_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter9 in this.success) {
      if (this.success.hasOwnProperty(iter9)) {
        iter9 = this.success[iter9];
        iter9.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationBatchService_getMetadata_args = function(args) {
};
AnnotateCommunicationBatchService_getMetadata_args.prototype = {};
AnnotateCommunicationBatchService_getMetadata_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationBatchService_getMetadata_args.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationBatchService_getMetadata_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationBatchService_getMetadata_result = function(args) {
  this.success = null;
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new AnnotationMetadata(args.success);
    }
  }
};
AnnotateCommunicationBatchService_getMetadata_result.prototype = {};
AnnotateCommunicationBatchService_getMetadata_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new AnnotationMetadata();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationBatchService_getMetadata_result.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationBatchService_getMetadata_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationBatchServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(AnnotateCommunicationBatchServiceClient, ServiceClient);

AnnotateCommunicationBatchServiceClient.prototype.annotate = function(originals, callback) {
  if (callback === undefined) {
    this.send_annotate(originals);
    return this.recv_annotate();
  } else {
    var postData = this.send_annotate(originals, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_annotate);
  }
};

AnnotateCommunicationBatchServiceClient.prototype.send_annotate = function(originals, callback) {
  var params = {
    originals: originals
  };
  var args = new AnnotateCommunicationBatchService_annotate_args(params);
  try {
    this.output.writeMessageBegin('annotate', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

AnnotateCommunicationBatchServiceClient.prototype.recv_annotate = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new AnnotateCommunicationBatchService_annotate_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'annotate failed: unknown result';
};

AnnotateCommunicationBatchServiceClient.prototype.getMetadata = function(callback) {
  if (callback === undefined) {
    this.send_getMetadata();
    return this.recv_getMetadata();
  } else {
    var postData = this.send_getMetadata(true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getMetadata);
  }
};

AnnotateCommunicationBatchServiceClient.prototype.send_getMetadata = function(callback) {
  var args = new AnnotateCommunicationBatchService_getMetadata_args();
  try {
    this.output.writeMessageBegin('getMetadata', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

AnnotateCommunicationBatchServiceClient.prototype.recv_getMetadata = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new AnnotateCommunicationBatchService_getMetadata_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.success) {
    return result.success;
  }
  throw 'getMetadata failed: unknown result';
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

AnnotateCommunicationService_annotate_args = function(args) {
  this.original = null;
  if (args) {
    if (args.original !== undefined && args.original !== null) {
      this.original = new Communication(args.original);
    }
  }
};
AnnotateCommunicationService_annotate_args.prototype = {};
AnnotateCommunicationService_annotate_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.original = new Communication();
        this.original.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationService_annotate_args.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationService_annotate_args');
  if (this.original !== null && this.original !== undefined) {
    output.writeFieldBegin('original', Thrift.Type.STRUCT, 1);
    this.original.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationService_annotate_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ConcreteThriftException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new Communication(args.success);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
AnnotateCommunicationService_annotate_result.prototype = {};
AnnotateCommunicationService_annotate_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new Communication();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ConcreteThriftException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationService_annotate_result.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationService_annotate_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationService_getMetadata_args = function(args) {
};
AnnotateCommunicationService_getMetadata_args.prototype = {};
AnnotateCommunicationService_getMetadata_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationService_getMetadata_args.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationService_getMetadata_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationService_getMetadata_result = function(args) {
  this.success = null;
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new AnnotationMetadata(args.success);
    }
  }
};
AnnotateCommunicationService_getMetadata_result.prototype = {};
AnnotateCommunicationService_getMetadata_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new AnnotationMetadata();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationService_getMetadata_result.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationService_getMetadata_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationService_getDocumentation_args = function(args) {
};
AnnotateCommunicationService_getDocumentation_args.prototype = {};
AnnotateCommunicationService_getDocumentation_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationService_getDocumentation_args.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationService_getDocumentation_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationService_getDocumentation_result = function(args) {
  this.success = null;
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = args.success;
    }
  }
};
AnnotateCommunicationService_getDocumentation_result.prototype = {};
AnnotateCommunicationService_getDocumentation_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRING) {
        this.success = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationService_getDocumentation_result.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationService_getDocumentation_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRING, 0);
    output.writeString(this.success);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationService_shutdown_args = function(args) {
};
AnnotateCommunicationService_shutdown_args.prototype = {};
AnnotateCommunicationService_shutdown_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationService_shutdown_args.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationService_shutdown_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationService_shutdown_result = function(args) {
};
AnnotateCommunicationService_shutdown_result.prototype = {};
AnnotateCommunicationService_shutdown_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateCommunicationService_shutdown_result.prototype.write = function(output) {
  output.writeStructBegin('AnnotateCommunicationService_shutdown_result');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateCommunicationServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
AnnotateCommunicationServiceClient.prototype = {};

AnnotateCommunicationServiceClient.prototype.annotate = function(original, callback) {
  if (callback === undefined) {
    this.send_annotate(original);
    return this.recv_annotate();
  } else {
    var postData = this.send_annotate(original, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_annotate);
  }
};

AnnotateCommunicationServiceClient.prototype.send_annotate = function(original, callback) {
  var params = {
    original: original
  };
  var args = new AnnotateCommunicationService_annotate_args(params);
  try {
    this.output.writeMessageBegin('annotate', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

AnnotateCommunicationServiceClient.prototype.recv_annotate = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new AnnotateCommunicationService_annotate_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'annotate failed: unknown result';
};

AnnotateCommunicationServiceClient.prototype.getMetadata = function(callback) {
  if (callback === undefined) {
    this.send_getMetadata();
    return this.recv_getMetadata();
  } else {
    var postData = this.send_getMetadata(true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getMetadata);
  }
};

AnnotateCommunicationServiceClient.prototype.send_getMetadata = function(callback) {
  var args = new AnnotateCommunicationService_getMetadata_args();
  try {
    this.output.writeMessageBegin('getMetadata', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

AnnotateCommunicationServiceClient.prototype.recv_getMetadata = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new AnnotateCommunicationService_getMetadata_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.success) {
    return result.success;
  }
  throw 'getMetadata failed: unknown result';
};

AnnotateCommunicationServiceClient.prototype.getDocumentation = function(callback) {
  if (callback === undefined) {
    this.send_getDocumentation();
    return this.recv_getDocumentation();
  } else {
    var postData = this.send_getDocumentation(true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getDocumentation);
  }
};

AnnotateCommunicationServiceClient.prototype.send_getDocumentation = function(callback) {
  var args = new AnnotateCommunicationService_getDocumentation_args();
  try {
    this.output.writeMessageBegin('getDocumentation', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

AnnotateCommunicationServiceClient.prototype.recv_getDocumentation = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new AnnotateCommunicationService_getDocumentation_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.success) {
    return result.success;
  }
  throw 'getDocumentation failed: unknown result';
};

AnnotateCommunicationServiceClient.prototype.shutdown = function(callback) {
  if (callback === undefined) {
    this.send_shutdown();
  } else {
    var postData = this.send_shutdown(true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_shutdown);
  }
};

AnnotateCommunicationServiceClient.prototype.send_shutdown = function(callback) {
  var args = new AnnotateCommunicationService_shutdown_args();
  try {
    this.output.writeMessageBegin('shutdown', Thrift.MessageType.ONEWAY, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

AnnotateWithContextService_annotate_args = function(args) {
  this.original = null;
  this.context = null;
  if (args) {
    if (args.original !== undefined && args.original !== null) {
      this.original = new Communication(args.original);
    }
    if (args.context !== undefined && args.context !== null) {
      this.context = new Context(args.context);
    }
  }
};
AnnotateWithContextService_annotate_args.prototype = {};
AnnotateWithContextService_annotate_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.original = new Communication();
        this.original.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.context = new Context();
        this.context.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateWithContextService_annotate_args.prototype.write = function(output) {
  output.writeStructBegin('AnnotateWithContextService_annotate_args');
  if (this.original !== null && this.original !== undefined) {
    output.writeFieldBegin('original', Thrift.Type.STRUCT, 1);
    this.original.write(output);
    output.writeFieldEnd();
  }
  if (this.context !== null && this.context !== undefined) {
    output.writeFieldBegin('context', Thrift.Type.STRUCT, 2);
    this.context.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateWithContextService_annotate_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ConcreteThriftException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new Communication(args.success);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
AnnotateWithContextService_annotate_result.prototype = {};
AnnotateWithContextService_annotate_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new Communication();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ConcreteThriftException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotateWithContextService_annotate_result.prototype.write = function(output) {
  output.writeStructBegin('AnnotateWithContextService_annotate_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotateWithContextServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(AnnotateWithContextServiceClient, ServiceClient);

AnnotateWithContextServiceClient.prototype.annotate = function(original, context, callback) {
  if (callback === undefined) {
    this.send_annotate(original, context);
    return this.recv_annotate();
  } else {
    var postData = this.send_annotate(original, context, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_annotate);
  }
};

AnnotateWithContextServiceClient.prototype.send_annotate = function(original, context, callback) {
  var params = {
    original: original,
    context: context
  };
  var args = new AnnotateWithContextService_annotate_args(params);
  try {
    this.output.writeMessageBegin('annotate', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

AnnotateWithContextServiceClient.prototype.recv_annotate = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new AnnotateWithContextService_annotate_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'annotate failed: unknown result';
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


Sound = function(args) {
  this.wav = null;
  this.mp3 = null;
  this.sph = null;
  this.path = null;
  if (args) {
    if (args.wav !== undefined && args.wav !== null) {
      this.wav = args.wav;
    }
    if (args.mp3 !== undefined && args.mp3 !== null) {
      this.mp3 = args.mp3;
    }
    if (args.sph !== undefined && args.sph !== null) {
      this.sph = args.sph;
    }
    if (args.path !== undefined && args.path !== null) {
      this.path = args.path;
    }
  }
};
Sound.prototype = {};
Sound.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.wav = input.readBinary().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.mp3 = input.readBinary().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.sph = input.readBinary().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.path = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Sound.prototype.write = function(output) {
  output.writeStructBegin('Sound');
  if (this.wav !== null && this.wav !== undefined) {
    output.writeFieldBegin('wav', Thrift.Type.STRING, 1);
    output.writeBinary(this.wav);
    output.writeFieldEnd();
  }
  if (this.mp3 !== null && this.mp3 !== undefined) {
    output.writeFieldBegin('mp3', Thrift.Type.STRING, 2);
    output.writeBinary(this.mp3);
    output.writeFieldEnd();
  }
  if (this.sph !== null && this.sph !== undefined) {
    output.writeFieldBegin('sph', Thrift.Type.STRING, 3);
    output.writeBinary(this.sph);
    output.writeFieldEnd();
  }
  if (this.path !== null && this.path !== undefined) {
    output.writeFieldBegin('path', Thrift.Type.STRING, 4);
    output.writeString(this.path);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


ClusterMember = function(args) {
  this.communicationId = null;
  this.setId = null;
  this.elementId = null;
  if (args) {
    if (args.communicationId !== undefined && args.communicationId !== null) {
      this.communicationId = new UUID(args.communicationId);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field communicationId is unset!');
    }
    if (args.setId !== undefined && args.setId !== null) {
      this.setId = new UUID(args.setId);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field setId is unset!');
    }
    if (args.elementId !== undefined && args.elementId !== null) {
      this.elementId = new UUID(args.elementId);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field elementId is unset!');
    }
  }
};
ClusterMember.prototype = {};
ClusterMember.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.communicationId = new UUID();
        this.communicationId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.setId = new UUID();
        this.setId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.elementId = new UUID();
        this.elementId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ClusterMember.prototype.write = function(output) {
  output.writeStructBegin('ClusterMember');
  if (this.communicationId !== null && this.communicationId !== undefined) {
    output.writeFieldBegin('communicationId', Thrift.Type.STRUCT, 1);
    this.communicationId.write(output);
    output.writeFieldEnd();
  }
  if (this.setId !== null && this.setId !== undefined) {
    output.writeFieldBegin('setId', Thrift.Type.STRUCT, 2);
    this.setId.write(output);
    output.writeFieldEnd();
  }
  if (this.elementId !== null && this.elementId !== undefined) {
    output.writeFieldBegin('elementId', Thrift.Type.STRUCT, 3);
    this.elementId.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Cluster = function(args) {
  this.clusterMemberIndexList = null;
  this.confidenceList = null;
  this.childIndexList = null;
  if (args) {
    if (args.clusterMemberIndexList !== undefined && args.clusterMemberIndexList !== null) {
      this.clusterMemberIndexList = Thrift.copyList(args.clusterMemberIndexList, [null]);
    }
    if (args.confidenceList !== undefined && args.confidenceList !== null) {
      this.confidenceList = Thrift.copyList(args.confidenceList, [null]);
    }
    if (args.childIndexList !== undefined && args.childIndexList !== null) {
      this.childIndexList = Thrift.copyList(args.childIndexList, [null]);
    }
  }
};
Cluster.prototype = {};
Cluster.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.clusterMemberIndexList = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = input.readI32().value;
          this.clusterMemberIndexList.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.confidenceList = [];
        var _rtmp35 = input.readListBegin();
        var _size4 = _rtmp35.size || 0;
        for (var _i6 = 0; _i6 < _size4; ++_i6) {
          var elem7 = null;
          elem7 = input.readDouble().value;
          this.confidenceList.push(elem7);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.childIndexList = [];
        var _rtmp39 = input.readListBegin();
        var _size8 = _rtmp39.size || 0;
        for (var _i10 = 0; _i10 < _size8; ++_i10) {
          var elem11 = null;
          elem11 = input.readI32().value;
          this.childIndexList.push(elem11);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Cluster.prototype.write = function(output) {
  output.writeStructBegin('Cluster');
  if (this.clusterMemberIndexList !== null && this.clusterMemberIndexList !== undefined) {
    output.writeFieldBegin('clusterMemberIndexList', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.I32, this.clusterMemberIndexList.length);
    for (var iter12 in this.clusterMemberIndexList) {
      if (this.clusterMemberIndexList.hasOwnProperty(iter12)) {
        iter12 = this.clusterMemberIndexList[iter12];
        output.writeI32(iter12);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.confidenceList !== null && this.confidenceList !== undefined) {
    output.writeFieldBegin('confidenceList', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.DOUBLE, this.confidenceList.length);
    for (var iter13 in this.confidenceList) {
      if (this.confidenceList.hasOwnProperty(iter13)) {
        iter13 = this.confidenceList[iter13];
        output.writeDouble(iter13);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.childIndexList !== null && this.childIndexList !== undefined) {
    output.writeFieldBegin('childIndexList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.I32, this.childIndexList.length);
    for (var iter14 in this.childIndexList) {
      if (this.childIndexList.hasOwnProperty(iter14)) {
        iter14 = this.childIndexList[iter14];
        output.writeI32(iter14);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Clustering = function(args) {
  this.uuid = null;
  this.metadata = null;
  this.clusterMemberList = null;
  this.clusterList = null;
  this.rootClusterIndexList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.clusterMemberList !== undefined && args.clusterMemberList !== null) {
      this.clusterMemberList = Thrift.copyList(args.clusterMemberList, [ClusterMember]);
    }
    if (args.clusterList !== undefined && args.clusterList !== null) {
      this.clusterList = Thrift.copyList(args.clusterList, [Cluster]);
    }
    if (args.rootClusterIndexList !== undefined && args.rootClusterIndexList !== null) {
      this.rootClusterIndexList = Thrift.copyList(args.rootClusterIndexList, [null]);
    }
  }
};
Clustering.prototype = {};
Clustering.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.clusterMemberList = [];
        var _rtmp316 = input.readListBegin();
        var _size15 = _rtmp316.size || 0;
        for (var _i17 = 0; _i17 < _size15; ++_i17) {
          var elem18 = null;
          elem18 = new ClusterMember();
          elem18.read(input);
          this.clusterMemberList.push(elem18);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.clusterList = [];
        var _rtmp320 = input.readListBegin();
        var _size19 = _rtmp320.size || 0;
        for (var _i21 = 0; _i21 < _size19; ++_i21) {
          var elem22 = null;
          elem22 = new Cluster();
          elem22.read(input);
          this.clusterList.push(elem22);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.LIST) {
        this.rootClusterIndexList = [];
        var _rtmp324 = input.readListBegin();
        var _size23 = _rtmp324.size || 0;
        for (var _i25 = 0; _i25 < _size23; ++_i25) {
          var elem26 = null;
          elem26 = input.readI32().value;
          this.rootClusterIndexList.push(elem26);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Clustering.prototype.write = function(output) {
  output.writeStructBegin('Clustering');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.clusterMemberList !== null && this.clusterMemberList !== undefined) {
    output.writeFieldBegin('clusterMemberList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.clusterMemberList.length);
    for (var iter27 in this.clusterMemberList) {
      if (this.clusterMemberList.hasOwnProperty(iter27)) {
        iter27 = this.clusterMemberList[iter27];
        iter27.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.clusterList !== null && this.clusterList !== undefined) {
    output.writeFieldBegin('clusterList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRUCT, this.clusterList.length);
    for (var iter28 in this.clusterList) {
      if (this.clusterList.hasOwnProperty(iter28)) {
        iter28 = this.clusterList[iter28];
        iter28.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.rootClusterIndexList !== null && this.rootClusterIndexList !== undefined) {
    output.writeFieldBegin('rootClusterIndexList', Thrift.Type.LIST, 5);
    output.writeListBegin(Thrift.Type.I32, this.rootClusterIndexList.length);
    for (var iter29 in this.rootClusterIndexList) {
      if (this.rootClusterIndexList.hasOwnProperty(iter29)) {
        iter29 = this.rootClusterIndexList[iter29];
        output.writeI32(iter29);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


CommunicationTagging = function(args) {
  this.uuid = null;
  this.metadata = null;
  this.taggingType = null;
  this.tagList = null;
  this.confidenceList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.taggingType !== undefined && args.taggingType !== null) {
      this.taggingType = args.taggingType;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field taggingType is unset!');
    }
    if (args.tagList !== undefined && args.tagList !== null) {
      this.tagList = Thrift.copyList(args.tagList, [null]);
    }
    if (args.confidenceList !== undefined && args.confidenceList !== null) {
      this.confidenceList = Thrift.copyList(args.confidenceList, [null]);
    }
  }
};
CommunicationTagging.prototype = {};
CommunicationTagging.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.taggingType = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.tagList = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = input.readString().value;
          this.tagList.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.LIST) {
        this.confidenceList = [];
        var _rtmp35 = input.readListBegin();
        var _size4 = _rtmp35.size || 0;
        for (var _i6 = 0; _i6 < _size4; ++_i6) {
          var elem7 = null;
          elem7 = input.readDouble().value;
          this.confidenceList.push(elem7);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

CommunicationTagging.prototype.write = function(output) {
  output.writeStructBegin('CommunicationTagging');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.taggingType !== null && this.taggingType !== undefined) {
    output.writeFieldBegin('taggingType', Thrift.Type.STRING, 3);
    output.writeString(this.taggingType);
    output.writeFieldEnd();
  }
  if (this.tagList !== null && this.tagList !== undefined) {
    output.writeFieldBegin('tagList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRING, this.tagList.length);
    for (var iter8 in this.tagList) {
      if (this.tagList.hasOwnProperty(iter8)) {
        iter8 = this.tagList[iter8];
        output.writeString(iter8);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.confidenceList !== null && this.confidenceList !== undefined) {
    output.writeFieldBegin('confidenceList', Thrift.Type.LIST, 5);
    output.writeListBegin(Thrift.Type.DOUBLE, this.confidenceList.length);
    for (var iter9 in this.confidenceList) {
      if (this.confidenceList.hasOwnProperty(iter9)) {
        iter9 = this.confidenceList[iter9];
        output.writeDouble(iter9);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Communication = function(args) {
  this.id = null;
  this.uuid = null;
  this.type = null;
  this.text = null;
  this.startTime = null;
  this.endTime = null;
  this.communicationTaggingList = null;
  this.metadata = null;
  this.keyValueMap = null;
  this.lidList = null;
  this.sectionList = null;
  this.entityMentionSetList = null;
  this.entitySetList = null;
  this.situationMentionSetList = null;
  this.situationSetList = null;
  this.originalText = null;
  this.sound = null;
  this.communicationMetadata = null;
  if (args) {
    if (args.id !== undefined && args.id !== null) {
      this.id = args.id;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field id is unset!');
    }
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.type !== undefined && args.type !== null) {
      this.type = args.type;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field type is unset!');
    }
    if (args.text !== undefined && args.text !== null) {
      this.text = args.text;
    }
    if (args.startTime !== undefined && args.startTime !== null) {
      this.startTime = args.startTime;
    }
    if (args.endTime !== undefined && args.endTime !== null) {
      this.endTime = args.endTime;
    }
    if (args.communicationTaggingList !== undefined && args.communicationTaggingList !== null) {
      this.communicationTaggingList = Thrift.copyList(args.communicationTaggingList, [CommunicationTagging]);
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.keyValueMap !== undefined && args.keyValueMap !== null) {
      this.keyValueMap = Thrift.copyMap(args.keyValueMap, [null]);
    }
    if (args.lidList !== undefined && args.lidList !== null) {
      this.lidList = Thrift.copyList(args.lidList, [LanguageIdentification]);
    }
    if (args.sectionList !== undefined && args.sectionList !== null) {
      this.sectionList = Thrift.copyList(args.sectionList, [Section]);
    }
    if (args.entityMentionSetList !== undefined && args.entityMentionSetList !== null) {
      this.entityMentionSetList = Thrift.copyList(args.entityMentionSetList, [EntityMentionSet]);
    }
    if (args.entitySetList !== undefined && args.entitySetList !== null) {
      this.entitySetList = Thrift.copyList(args.entitySetList, [EntitySet]);
    }
    if (args.situationMentionSetList !== undefined && args.situationMentionSetList !== null) {
      this.situationMentionSetList = Thrift.copyList(args.situationMentionSetList, [SituationMentionSet]);
    }
    if (args.situationSetList !== undefined && args.situationSetList !== null) {
      this.situationSetList = Thrift.copyList(args.situationSetList, [SituationSet]);
    }
    if (args.originalText !== undefined && args.originalText !== null) {
      this.originalText = args.originalText;
    }
    if (args.sound !== undefined && args.sound !== null) {
      this.sound = new Sound(args.sound);
    }
    if (args.communicationMetadata !== undefined && args.communicationMetadata !== null) {
      this.communicationMetadata = new CommunicationMetadata(args.communicationMetadata);
    }
  }
};
Communication.prototype = {};
Communication.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.id = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.type = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.text = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.I64) {
        this.startTime = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.I64) {
        this.endTime = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.LIST) {
        this.communicationTaggingList = [];
        var _rtmp311 = input.readListBegin();
        var _size10 = _rtmp311.size || 0;
        for (var _i12 = 0; _i12 < _size10; ++_i12) {
          var elem13 = null;
          elem13 = new CommunicationTagging();
          elem13.read(input);
          this.communicationTaggingList.push(elem13);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 9:
      if (ftype == Thrift.Type.MAP) {
        this.keyValueMap = {};
        var _rtmp315 = input.readMapBegin();
        var _size14 = _rtmp315.size || 0;
        for (var _i16 = 0; _i16 < _size14; ++_i16) {
          if (_i16 > 0 ) {
            if (input.rstack.length > input.rpos[input.rpos.length -1] + 1) {
              input.rstack.pop();
            }
          }
          var key17 = null;
          var val18 = null;
          key17 = input.readString().value;
          val18 = input.readString().value;
          this.keyValueMap[key17] = val18;
        }
        input.readMapEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 10:
      if (ftype == Thrift.Type.LIST) {
        this.lidList = [];
        var _rtmp320 = input.readListBegin();
        var _size19 = _rtmp320.size || 0;
        for (var _i21 = 0; _i21 < _size19; ++_i21) {
          var elem22 = null;
          elem22 = new LanguageIdentification();
          elem22.read(input);
          this.lidList.push(elem22);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 11:
      if (ftype == Thrift.Type.LIST) {
        this.sectionList = [];
        var _rtmp324 = input.readListBegin();
        var _size23 = _rtmp324.size || 0;
        for (var _i25 = 0; _i25 < _size23; ++_i25) {
          var elem26 = null;
          elem26 = new Section();
          elem26.read(input);
          this.sectionList.push(elem26);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 12:
      if (ftype == Thrift.Type.LIST) {
        this.entityMentionSetList = [];
        var _rtmp328 = input.readListBegin();
        var _size27 = _rtmp328.size || 0;
        for (var _i29 = 0; _i29 < _size27; ++_i29) {
          var elem30 = null;
          elem30 = new EntityMentionSet();
          elem30.read(input);
          this.entityMentionSetList.push(elem30);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 13:
      if (ftype == Thrift.Type.LIST) {
        this.entitySetList = [];
        var _rtmp332 = input.readListBegin();
        var _size31 = _rtmp332.size || 0;
        for (var _i33 = 0; _i33 < _size31; ++_i33) {
          var elem34 = null;
          elem34 = new EntitySet();
          elem34.read(input);
          this.entitySetList.push(elem34);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 14:
      if (ftype == Thrift.Type.LIST) {
        this.situationMentionSetList = [];
        var _rtmp336 = input.readListBegin();
        var _size35 = _rtmp336.size || 0;
        for (var _i37 = 0; _i37 < _size35; ++_i37) {
          var elem38 = null;
          elem38 = new SituationMentionSet();
          elem38.read(input);
          this.situationMentionSetList.push(elem38);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 15:
      if (ftype == Thrift.Type.LIST) {
        this.situationSetList = [];
        var _rtmp340 = input.readListBegin();
        var _size39 = _rtmp340.size || 0;
        for (var _i41 = 0; _i41 < _size39; ++_i41) {
          var elem42 = null;
          elem42 = new SituationSet();
          elem42.read(input);
          this.situationSetList.push(elem42);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 16:
      if (ftype == Thrift.Type.STRING) {
        this.originalText = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 20:
      if (ftype == Thrift.Type.STRUCT) {
        this.sound = new Sound();
        this.sound.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 21:
      if (ftype == Thrift.Type.STRUCT) {
        this.communicationMetadata = new CommunicationMetadata();
        this.communicationMetadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Communication.prototype.write = function(output) {
  output.writeStructBegin('Communication');
  if (this.id !== null && this.id !== undefined) {
    output.writeFieldBegin('id', Thrift.Type.STRING, 1);
    output.writeString(this.id);
    output.writeFieldEnd();
  }
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 2);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.type !== null && this.type !== undefined) {
    output.writeFieldBegin('type', Thrift.Type.STRING, 3);
    output.writeString(this.type);
    output.writeFieldEnd();
  }
  if (this.text !== null && this.text !== undefined) {
    output.writeFieldBegin('text', Thrift.Type.STRING, 4);
    output.writeString(this.text);
    output.writeFieldEnd();
  }
  if (this.startTime !== null && this.startTime !== undefined) {
    output.writeFieldBegin('startTime', Thrift.Type.I64, 5);
    output.writeI64(this.startTime);
    output.writeFieldEnd();
  }
  if (this.endTime !== null && this.endTime !== undefined) {
    output.writeFieldBegin('endTime', Thrift.Type.I64, 6);
    output.writeI64(this.endTime);
    output.writeFieldEnd();
  }
  if (this.communicationTaggingList !== null && this.communicationTaggingList !== undefined) {
    output.writeFieldBegin('communicationTaggingList', Thrift.Type.LIST, 7);
    output.writeListBegin(Thrift.Type.STRUCT, this.communicationTaggingList.length);
    for (var iter43 in this.communicationTaggingList) {
      if (this.communicationTaggingList.hasOwnProperty(iter43)) {
        iter43 = this.communicationTaggingList[iter43];
        iter43.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 8);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.keyValueMap !== null && this.keyValueMap !== undefined) {
    output.writeFieldBegin('keyValueMap', Thrift.Type.MAP, 9);
    output.writeMapBegin(Thrift.Type.STRING, Thrift.Type.STRING, Thrift.objectLength(this.keyValueMap));
    for (var kiter44 in this.keyValueMap) {
      if (this.keyValueMap.hasOwnProperty(kiter44)) {
        var viter45 = this.keyValueMap[kiter44];
        output.writeString(kiter44);
        output.writeString(viter45);
      }
    }
    output.writeMapEnd();
    output.writeFieldEnd();
  }
  if (this.lidList !== null && this.lidList !== undefined) {
    output.writeFieldBegin('lidList', Thrift.Type.LIST, 10);
    output.writeListBegin(Thrift.Type.STRUCT, this.lidList.length);
    for (var iter46 in this.lidList) {
      if (this.lidList.hasOwnProperty(iter46)) {
        iter46 = this.lidList[iter46];
        iter46.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.sectionList !== null && this.sectionList !== undefined) {
    output.writeFieldBegin('sectionList', Thrift.Type.LIST, 11);
    output.writeListBegin(Thrift.Type.STRUCT, this.sectionList.length);
    for (var iter47 in this.sectionList) {
      if (this.sectionList.hasOwnProperty(iter47)) {
        iter47 = this.sectionList[iter47];
        iter47.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.entityMentionSetList !== null && this.entityMentionSetList !== undefined) {
    output.writeFieldBegin('entityMentionSetList', Thrift.Type.LIST, 12);
    output.writeListBegin(Thrift.Type.STRUCT, this.entityMentionSetList.length);
    for (var iter48 in this.entityMentionSetList) {
      if (this.entityMentionSetList.hasOwnProperty(iter48)) {
        iter48 = this.entityMentionSetList[iter48];
        iter48.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.entitySetList !== null && this.entitySetList !== undefined) {
    output.writeFieldBegin('entitySetList', Thrift.Type.LIST, 13);
    output.writeListBegin(Thrift.Type.STRUCT, this.entitySetList.length);
    for (var iter49 in this.entitySetList) {
      if (this.entitySetList.hasOwnProperty(iter49)) {
        iter49 = this.entitySetList[iter49];
        iter49.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.situationMentionSetList !== null && this.situationMentionSetList !== undefined) {
    output.writeFieldBegin('situationMentionSetList', Thrift.Type.LIST, 14);
    output.writeListBegin(Thrift.Type.STRUCT, this.situationMentionSetList.length);
    for (var iter50 in this.situationMentionSetList) {
      if (this.situationMentionSetList.hasOwnProperty(iter50)) {
        iter50 = this.situationMentionSetList[iter50];
        iter50.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.situationSetList !== null && this.situationSetList !== undefined) {
    output.writeFieldBegin('situationSetList', Thrift.Type.LIST, 15);
    output.writeListBegin(Thrift.Type.STRUCT, this.situationSetList.length);
    for (var iter51 in this.situationSetList) {
      if (this.situationSetList.hasOwnProperty(iter51)) {
        iter51 = this.situationSetList[iter51];
        iter51.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.originalText !== null && this.originalText !== undefined) {
    output.writeFieldBegin('originalText', Thrift.Type.STRING, 16);
    output.writeString(this.originalText);
    output.writeFieldEnd();
  }
  if (this.sound !== null && this.sound !== undefined) {
    output.writeFieldBegin('sound', Thrift.Type.STRUCT, 20);
    this.sound.write(output);
    output.writeFieldEnd();
  }
  if (this.communicationMetadata !== null && this.communicationMetadata !== undefined) {
    output.writeFieldBegin('communicationMetadata', Thrift.Type.STRUCT, 21);
    this.communicationMetadata.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

CommunicationSet = function(args) {
  this.communicationIdList = null;
  this.corpus = null;
  this.entityMentionClusterList = null;
  this.entityClusterList = null;
  this.situationMentionClusterList = null;
  this.situationClusterList = null;
  if (args) {
    if (args.communicationIdList !== undefined && args.communicationIdList !== null) {
      this.communicationIdList = Thrift.copyList(args.communicationIdList, [UUID]);
    }
    if (args.corpus !== undefined && args.corpus !== null) {
      this.corpus = args.corpus;
    }
    if (args.entityMentionClusterList !== undefined && args.entityMentionClusterList !== null) {
      this.entityMentionClusterList = Thrift.copyList(args.entityMentionClusterList, [Clustering]);
    }
    if (args.entityClusterList !== undefined && args.entityClusterList !== null) {
      this.entityClusterList = Thrift.copyList(args.entityClusterList, [Clustering]);
    }
    if (args.situationMentionClusterList !== undefined && args.situationMentionClusterList !== null) {
      this.situationMentionClusterList = Thrift.copyList(args.situationMentionClusterList, [Clustering]);
    }
    if (args.situationClusterList !== undefined && args.situationClusterList !== null) {
      this.situationClusterList = Thrift.copyList(args.situationClusterList, [Clustering]);
    }
  }
};
CommunicationSet.prototype = {};
CommunicationSet.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.communicationIdList = [];
        var _rtmp353 = input.readListBegin();
        var _size52 = _rtmp353.size || 0;
        for (var _i54 = 0; _i54 < _size52; ++_i54) {
          var elem55 = null;
          elem55 = new UUID();
          elem55.read(input);
          this.communicationIdList.push(elem55);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.corpus = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.entityMentionClusterList = [];
        var _rtmp357 = input.readListBegin();
        var _size56 = _rtmp357.size || 0;
        for (var _i58 = 0; _i58 < _size56; ++_i58) {
          var elem59 = null;
          elem59 = new Clustering();
          elem59.read(input);
          this.entityMentionClusterList.push(elem59);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.entityClusterList = [];
        var _rtmp361 = input.readListBegin();
        var _size60 = _rtmp361.size || 0;
        for (var _i62 = 0; _i62 < _size60; ++_i62) {
          var elem63 = null;
          elem63 = new Clustering();
          elem63.read(input);
          this.entityClusterList.push(elem63);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.LIST) {
        this.situationMentionClusterList = [];
        var _rtmp365 = input.readListBegin();
        var _size64 = _rtmp365.size || 0;
        for (var _i66 = 0; _i66 < _size64; ++_i66) {
          var elem67 = null;
          elem67 = new Clustering();
          elem67.read(input);
          this.situationMentionClusterList.push(elem67);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.LIST) {
        this.situationClusterList = [];
        var _rtmp369 = input.readListBegin();
        var _size68 = _rtmp369.size || 0;
        for (var _i70 = 0; _i70 < _size68; ++_i70) {
          var elem71 = null;
          elem71 = new Clustering();
          elem71.read(input);
          this.situationClusterList.push(elem71);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

CommunicationSet.prototype.write = function(output) {
  output.writeStructBegin('CommunicationSet');
  if (this.communicationIdList !== null && this.communicationIdList !== undefined) {
    output.writeFieldBegin('communicationIdList', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.STRUCT, this.communicationIdList.length);
    for (var iter72 in this.communicationIdList) {
      if (this.communicationIdList.hasOwnProperty(iter72)) {
        iter72 = this.communicationIdList[iter72];
        iter72.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.corpus !== null && this.corpus !== undefined) {
    output.writeFieldBegin('corpus', Thrift.Type.STRING, 2);
    output.writeString(this.corpus);
    output.writeFieldEnd();
  }
  if (this.entityMentionClusterList !== null && this.entityMentionClusterList !== undefined) {
    output.writeFieldBegin('entityMentionClusterList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.entityMentionClusterList.length);
    for (var iter73 in this.entityMentionClusterList) {
      if (this.entityMentionClusterList.hasOwnProperty(iter73)) {
        iter73 = this.entityMentionClusterList[iter73];
        iter73.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.entityClusterList !== null && this.entityClusterList !== undefined) {
    output.writeFieldBegin('entityClusterList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRUCT, this.entityClusterList.length);
    for (var iter74 in this.entityClusterList) {
      if (this.entityClusterList.hasOwnProperty(iter74)) {
        iter74 = this.entityClusterList[iter74];
        iter74.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.situationMentionClusterList !== null && this.situationMentionClusterList !== undefined) {
    output.writeFieldBegin('situationMentionClusterList', Thrift.Type.LIST, 5);
    output.writeListBegin(Thrift.Type.STRUCT, this.situationMentionClusterList.length);
    for (var iter75 in this.situationMentionClusterList) {
      if (this.situationMentionClusterList.hasOwnProperty(iter75)) {
        iter75 = this.situationMentionClusterList[iter75];
        iter75.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.situationClusterList !== null && this.situationClusterList !== undefined) {
    output.writeFieldBegin('situationClusterList', Thrift.Type.LIST, 6);
    output.writeListBegin(Thrift.Type.STRUCT, this.situationClusterList.length);
    for (var iter76 in this.situationClusterList) {
      if (this.situationClusterList.hasOwnProperty(iter76)) {
        iter76 = this.situationClusterList[iter76];
        iter76.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


Context = function(args) {
  this.contents = null;
  if (args) {
    if (args.contents !== undefined && args.contents !== null) {
      this.contents = args.contents;
    }
  }
};
Context.prototype = {};
Context.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.contents = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Context.prototype.write = function(output) {
  output.writeStructBegin('Context');
  if (this.contents !== null && this.contents !== undefined) {
    output.writeFieldBegin('contents', Thrift.Type.STRING, 1);
    output.writeString(this.contents);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

ConvertCommunicationService_fromConcrete_args = function(args) {
  this.original = null;
  if (args) {
    if (args.original !== undefined && args.original !== null) {
      this.original = new Communication(args.original);
    }
  }
};
ConvertCommunicationService_fromConcrete_args.prototype = {};
ConvertCommunicationService_fromConcrete_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.original = new Communication();
        this.original.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ConvertCommunicationService_fromConcrete_args.prototype.write = function(output) {
  output.writeStructBegin('ConvertCommunicationService_fromConcrete_args');
  if (this.original !== null && this.original !== undefined) {
    output.writeFieldBegin('original', Thrift.Type.STRUCT, 1);
    this.original.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ConvertCommunicationService_fromConcrete_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = args.success;
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
ConvertCommunicationService_fromConcrete_result.prototype = {};
ConvertCommunicationService_fromConcrete_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRING) {
        this.success = input.readBinary().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ConvertCommunicationService_fromConcrete_result.prototype.write = function(output) {
  output.writeStructBegin('ConvertCommunicationService_fromConcrete_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRING, 0);
    output.writeBinary(this.success);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ConvertCommunicationService_toConcrete_args = function(args) {
  this.original = null;
  if (args) {
    if (args.original !== undefined && args.original !== null) {
      this.original = args.original;
    }
  }
};
ConvertCommunicationService_toConcrete_args.prototype = {};
ConvertCommunicationService_toConcrete_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.original = input.readBinary().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ConvertCommunicationService_toConcrete_args.prototype.write = function(output) {
  output.writeStructBegin('ConvertCommunicationService_toConcrete_args');
  if (this.original !== null && this.original !== undefined) {
    output.writeFieldBegin('original', Thrift.Type.STRING, 1);
    output.writeBinary(this.original);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ConvertCommunicationService_toConcrete_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new Communication(args.success);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
ConvertCommunicationService_toConcrete_result.prototype = {};
ConvertCommunicationService_toConcrete_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new Communication();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ConvertCommunicationService_toConcrete_result.prototype.write = function(output) {
  output.writeStructBegin('ConvertCommunicationService_toConcrete_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ConvertCommunicationServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(ConvertCommunicationServiceClient, ServiceClient);

ConvertCommunicationServiceClient.prototype.fromConcrete = function(original, callback) {
  if (callback === undefined) {
    this.send_fromConcrete(original);
    return this.recv_fromConcrete();
  } else {
    var postData = this.send_fromConcrete(original, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_fromConcrete);
  }
};

ConvertCommunicationServiceClient.prototype.send_fromConcrete = function(original, callback) {
  var params = {
    original: original
  };
  var args = new ConvertCommunicationService_fromConcrete_args(params);
  try {
    this.output.writeMessageBegin('fromConcrete', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ConvertCommunicationServiceClient.prototype.recv_fromConcrete = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ConvertCommunicationService_fromConcrete_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'fromConcrete failed: unknown result';
};

ConvertCommunicationServiceClient.prototype.toConcrete = function(original, callback) {
  if (callback === undefined) {
    this.send_toConcrete(original);
    return this.recv_toConcrete();
  } else {
    var postData = this.send_toConcrete(original, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_toConcrete);
  }
};

ConvertCommunicationServiceClient.prototype.send_toConcrete = function(original, callback) {
  var params = {
    original: original
  };
  var args = new ConvertCommunicationService_toConcrete_args(params);
  try {
    this.output.writeMessageBegin('toConcrete', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ConvertCommunicationServiceClient.prototype.recv_toConcrete = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ConvertCommunicationService_toConcrete_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'toConcrete failed: unknown result';
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


EmailAddress = function(args) {
  this.address = null;
  this.displayName = null;
  if (args) {
    if (args.address !== undefined && args.address !== null) {
      this.address = args.address;
    }
    if (args.displayName !== undefined && args.displayName !== null) {
      this.displayName = args.displayName;
    }
  }
};
EmailAddress.prototype = {};
EmailAddress.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.address = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.displayName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

EmailAddress.prototype.write = function(output) {
  output.writeStructBegin('EmailAddress');
  if (this.address !== null && this.address !== undefined) {
    output.writeFieldBegin('address', Thrift.Type.STRING, 1);
    output.writeString(this.address);
    output.writeFieldEnd();
  }
  if (this.displayName !== null && this.displayName !== undefined) {
    output.writeFieldBegin('displayName', Thrift.Type.STRING, 2);
    output.writeString(this.displayName);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

EmailCommunicationInfo = function(args) {
  this.messageId = null;
  this.contentType = null;
  this.userAgent = null;
  this.inReplyToList = null;
  this.referenceList = null;
  this.senderAddress = null;
  this.returnPathAddress = null;
  this.toAddressList = null;
  this.ccAddressList = null;
  this.bccAddressList = null;
  this.emailFolder = null;
  this.subject = null;
  this.quotedAddresses = null;
  this.attachmentPaths = null;
  this.salutation = null;
  this.signature = null;
  if (args) {
    if (args.messageId !== undefined && args.messageId !== null) {
      this.messageId = args.messageId;
    }
    if (args.contentType !== undefined && args.contentType !== null) {
      this.contentType = args.contentType;
    }
    if (args.userAgent !== undefined && args.userAgent !== null) {
      this.userAgent = args.userAgent;
    }
    if (args.inReplyToList !== undefined && args.inReplyToList !== null) {
      this.inReplyToList = Thrift.copyList(args.inReplyToList, [null]);
    }
    if (args.referenceList !== undefined && args.referenceList !== null) {
      this.referenceList = Thrift.copyList(args.referenceList, [null]);
    }
    if (args.senderAddress !== undefined && args.senderAddress !== null) {
      this.senderAddress = new EmailAddress(args.senderAddress);
    }
    if (args.returnPathAddress !== undefined && args.returnPathAddress !== null) {
      this.returnPathAddress = new EmailAddress(args.returnPathAddress);
    }
    if (args.toAddressList !== undefined && args.toAddressList !== null) {
      this.toAddressList = Thrift.copyList(args.toAddressList, [EmailAddress]);
    }
    if (args.ccAddressList !== undefined && args.ccAddressList !== null) {
      this.ccAddressList = Thrift.copyList(args.ccAddressList, [EmailAddress]);
    }
    if (args.bccAddressList !== undefined && args.bccAddressList !== null) {
      this.bccAddressList = Thrift.copyList(args.bccAddressList, [EmailAddress]);
    }
    if (args.emailFolder !== undefined && args.emailFolder !== null) {
      this.emailFolder = args.emailFolder;
    }
    if (args.subject !== undefined && args.subject !== null) {
      this.subject = args.subject;
    }
    if (args.quotedAddresses !== undefined && args.quotedAddresses !== null) {
      this.quotedAddresses = Thrift.copyList(args.quotedAddresses, [null]);
    }
    if (args.attachmentPaths !== undefined && args.attachmentPaths !== null) {
      this.attachmentPaths = Thrift.copyList(args.attachmentPaths, [null]);
    }
    if (args.salutation !== undefined && args.salutation !== null) {
      this.salutation = args.salutation;
    }
    if (args.signature !== undefined && args.signature !== null) {
      this.signature = args.signature;
    }
  }
};
EmailCommunicationInfo.prototype = {};
EmailCommunicationInfo.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.messageId = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.contentType = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.userAgent = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.inReplyToList = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = input.readString().value;
          this.inReplyToList.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.LIST) {
        this.referenceList = [];
        var _rtmp35 = input.readListBegin();
        var _size4 = _rtmp35.size || 0;
        for (var _i6 = 0; _i6 < _size4; ++_i6) {
          var elem7 = null;
          elem7 = input.readString().value;
          this.referenceList.push(elem7);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRUCT) {
        this.senderAddress = new EmailAddress();
        this.senderAddress.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.STRUCT) {
        this.returnPathAddress = new EmailAddress();
        this.returnPathAddress.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.LIST) {
        this.toAddressList = [];
        var _rtmp39 = input.readListBegin();
        var _size8 = _rtmp39.size || 0;
        for (var _i10 = 0; _i10 < _size8; ++_i10) {
          var elem11 = null;
          elem11 = new EmailAddress();
          elem11.read(input);
          this.toAddressList.push(elem11);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 9:
      if (ftype == Thrift.Type.LIST) {
        this.ccAddressList = [];
        var _rtmp313 = input.readListBegin();
        var _size12 = _rtmp313.size || 0;
        for (var _i14 = 0; _i14 < _size12; ++_i14) {
          var elem15 = null;
          elem15 = new EmailAddress();
          elem15.read(input);
          this.ccAddressList.push(elem15);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 10:
      if (ftype == Thrift.Type.LIST) {
        this.bccAddressList = [];
        var _rtmp317 = input.readListBegin();
        var _size16 = _rtmp317.size || 0;
        for (var _i18 = 0; _i18 < _size16; ++_i18) {
          var elem19 = null;
          elem19 = new EmailAddress();
          elem19.read(input);
          this.bccAddressList.push(elem19);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 11:
      if (ftype == Thrift.Type.STRING) {
        this.emailFolder = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 12:
      if (ftype == Thrift.Type.STRING) {
        this.subject = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 13:
      if (ftype == Thrift.Type.LIST) {
        this.quotedAddresses = [];
        var _rtmp321 = input.readListBegin();
        var _size20 = _rtmp321.size || 0;
        for (var _i22 = 0; _i22 < _size20; ++_i22) {
          var elem23 = null;
          elem23 = input.readString().value;
          this.quotedAddresses.push(elem23);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 14:
      if (ftype == Thrift.Type.LIST) {
        this.attachmentPaths = [];
        var _rtmp325 = input.readListBegin();
        var _size24 = _rtmp325.size || 0;
        for (var _i26 = 0; _i26 < _size24; ++_i26) {
          var elem27 = null;
          elem27 = input.readString().value;
          this.attachmentPaths.push(elem27);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 15:
      if (ftype == Thrift.Type.STRING) {
        this.salutation = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 16:
      if (ftype == Thrift.Type.STRING) {
        this.signature = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

EmailCommunicationInfo.prototype.write = function(output) {
  output.writeStructBegin('EmailCommunicationInfo');
  if (this.messageId !== null && this.messageId !== undefined) {
    output.writeFieldBegin('messageId', Thrift.Type.STRING, 1);
    output.writeString(this.messageId);
    output.writeFieldEnd();
  }
  if (this.contentType !== null && this.contentType !== undefined) {
    output.writeFieldBegin('contentType', Thrift.Type.STRING, 2);
    output.writeString(this.contentType);
    output.writeFieldEnd();
  }
  if (this.userAgent !== null && this.userAgent !== undefined) {
    output.writeFieldBegin('userAgent', Thrift.Type.STRING, 3);
    output.writeString(this.userAgent);
    output.writeFieldEnd();
  }
  if (this.inReplyToList !== null && this.inReplyToList !== undefined) {
    output.writeFieldBegin('inReplyToList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRING, this.inReplyToList.length);
    for (var iter28 in this.inReplyToList) {
      if (this.inReplyToList.hasOwnProperty(iter28)) {
        iter28 = this.inReplyToList[iter28];
        output.writeString(iter28);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.referenceList !== null && this.referenceList !== undefined) {
    output.writeFieldBegin('referenceList', Thrift.Type.LIST, 5);
    output.writeListBegin(Thrift.Type.STRING, this.referenceList.length);
    for (var iter29 in this.referenceList) {
      if (this.referenceList.hasOwnProperty(iter29)) {
        iter29 = this.referenceList[iter29];
        output.writeString(iter29);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.senderAddress !== null && this.senderAddress !== undefined) {
    output.writeFieldBegin('senderAddress', Thrift.Type.STRUCT, 6);
    this.senderAddress.write(output);
    output.writeFieldEnd();
  }
  if (this.returnPathAddress !== null && this.returnPathAddress !== undefined) {
    output.writeFieldBegin('returnPathAddress', Thrift.Type.STRUCT, 7);
    this.returnPathAddress.write(output);
    output.writeFieldEnd();
  }
  if (this.toAddressList !== null && this.toAddressList !== undefined) {
    output.writeFieldBegin('toAddressList', Thrift.Type.LIST, 8);
    output.writeListBegin(Thrift.Type.STRUCT, this.toAddressList.length);
    for (var iter30 in this.toAddressList) {
      if (this.toAddressList.hasOwnProperty(iter30)) {
        iter30 = this.toAddressList[iter30];
        iter30.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ccAddressList !== null && this.ccAddressList !== undefined) {
    output.writeFieldBegin('ccAddressList', Thrift.Type.LIST, 9);
    output.writeListBegin(Thrift.Type.STRUCT, this.ccAddressList.length);
    for (var iter31 in this.ccAddressList) {
      if (this.ccAddressList.hasOwnProperty(iter31)) {
        iter31 = this.ccAddressList[iter31];
        iter31.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.bccAddressList !== null && this.bccAddressList !== undefined) {
    output.writeFieldBegin('bccAddressList', Thrift.Type.LIST, 10);
    output.writeListBegin(Thrift.Type.STRUCT, this.bccAddressList.length);
    for (var iter32 in this.bccAddressList) {
      if (this.bccAddressList.hasOwnProperty(iter32)) {
        iter32 = this.bccAddressList[iter32];
        iter32.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.emailFolder !== null && this.emailFolder !== undefined) {
    output.writeFieldBegin('emailFolder', Thrift.Type.STRING, 11);
    output.writeString(this.emailFolder);
    output.writeFieldEnd();
  }
  if (this.subject !== null && this.subject !== undefined) {
    output.writeFieldBegin('subject', Thrift.Type.STRING, 12);
    output.writeString(this.subject);
    output.writeFieldEnd();
  }
  if (this.quotedAddresses !== null && this.quotedAddresses !== undefined) {
    output.writeFieldBegin('quotedAddresses', Thrift.Type.LIST, 13);
    output.writeListBegin(Thrift.Type.STRING, this.quotedAddresses.length);
    for (var iter33 in this.quotedAddresses) {
      if (this.quotedAddresses.hasOwnProperty(iter33)) {
        iter33 = this.quotedAddresses[iter33];
        output.writeString(iter33);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.attachmentPaths !== null && this.attachmentPaths !== undefined) {
    output.writeFieldBegin('attachmentPaths', Thrift.Type.LIST, 14);
    output.writeListBegin(Thrift.Type.STRING, this.attachmentPaths.length);
    for (var iter34 in this.attachmentPaths) {
      if (this.attachmentPaths.hasOwnProperty(iter34)) {
        iter34 = this.attachmentPaths[iter34];
        output.writeString(iter34);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.salutation !== null && this.salutation !== undefined) {
    output.writeFieldBegin('salutation', Thrift.Type.STRING, 15);
    output.writeString(this.salutation);
    output.writeFieldEnd();
  }
  if (this.signature !== null && this.signature !== undefined) {
    output.writeFieldBegin('signature', Thrift.Type.STRING, 16);
    output.writeString(this.signature);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


Entity = function(args) {
  this.uuid = null;
  this.id = null;
  this.mentionIdList = null;
  this.rawMentionList = null;
  this.type = null;
  this.confidence = null;
  this.canonicalName = null;
  this.propertyList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.id !== undefined && args.id !== null) {
      this.id = args.id;
    }
    if (args.mentionIdList !== undefined && args.mentionIdList !== null) {
      this.mentionIdList = Thrift.copyList(args.mentionIdList, [UUID]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field mentionIdList is unset!');
    }
    if (args.rawMentionList !== undefined && args.rawMentionList !== null) {
      this.rawMentionList = Thrift.copyList(args.rawMentionList, [TokenRefSequence]);
    }
    if (args.type !== undefined && args.type !== null) {
      this.type = args.type;
    }
    if (args.confidence !== undefined && args.confidence !== null) {
      this.confidence = args.confidence;
    }
    if (args.canonicalName !== undefined && args.canonicalName !== null) {
      this.canonicalName = args.canonicalName;
    }
    if (args.propertyList !== undefined && args.propertyList !== null) {
      this.propertyList = Thrift.copyList(args.propertyList, [Property]);
    }
  }
};
Entity.prototype = {};
Entity.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRING) {
        this.id = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.mentionIdList = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = new UUID();
          elem3.read(input);
          this.mentionIdList.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.LIST) {
        this.rawMentionList = [];
        var _rtmp35 = input.readListBegin();
        var _size4 = _rtmp35.size || 0;
        for (var _i6 = 0; _i6 < _size4; ++_i6) {
          var elem7 = null;
          elem7 = new TokenRefSequence();
          elem7.read(input);
          this.rawMentionList.push(elem7);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.type = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.DOUBLE) {
        this.confidence = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.canonicalName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.LIST) {
        this.propertyList = [];
        var _rtmp39 = input.readListBegin();
        var _size8 = _rtmp39.size || 0;
        for (var _i10 = 0; _i10 < _size8; ++_i10) {
          var elem11 = null;
          elem11 = new Property();
          elem11.read(input);
          this.propertyList.push(elem11);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Entity.prototype.write = function(output) {
  output.writeStructBegin('Entity');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.id !== null && this.id !== undefined) {
    output.writeFieldBegin('id', Thrift.Type.STRING, 6);
    output.writeString(this.id);
    output.writeFieldEnd();
  }
  if (this.mentionIdList !== null && this.mentionIdList !== undefined) {
    output.writeFieldBegin('mentionIdList', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRUCT, this.mentionIdList.length);
    for (var iter12 in this.mentionIdList) {
      if (this.mentionIdList.hasOwnProperty(iter12)) {
        iter12 = this.mentionIdList[iter12];
        iter12.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.rawMentionList !== null && this.rawMentionList !== undefined) {
    output.writeFieldBegin('rawMentionList', Thrift.Type.LIST, 7);
    output.writeListBegin(Thrift.Type.STRUCT, this.rawMentionList.length);
    for (var iter13 in this.rawMentionList) {
      if (this.rawMentionList.hasOwnProperty(iter13)) {
        iter13 = this.rawMentionList[iter13];
        iter13.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.type !== null && this.type !== undefined) {
    output.writeFieldBegin('type', Thrift.Type.STRING, 3);
    output.writeString(this.type);
    output.writeFieldEnd();
  }
  if (this.confidence !== null && this.confidence !== undefined) {
    output.writeFieldBegin('confidence', Thrift.Type.DOUBLE, 4);
    output.writeDouble(this.confidence);
    output.writeFieldEnd();
  }
  if (this.canonicalName !== null && this.canonicalName !== undefined) {
    output.writeFieldBegin('canonicalName', Thrift.Type.STRING, 5);
    output.writeString(this.canonicalName);
    output.writeFieldEnd();
  }
  if (this.propertyList !== null && this.propertyList !== undefined) {
    output.writeFieldBegin('propertyList', Thrift.Type.LIST, 8);
    output.writeListBegin(Thrift.Type.STRUCT, this.propertyList.length);
    for (var iter14 in this.propertyList) {
      if (this.propertyList.hasOwnProperty(iter14)) {
        iter14 = this.propertyList[iter14];
        iter14.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

EntitySet = function(args) {
  this.uuid = null;
  this.metadata = null;
  this.entityList = null;
  this.linkingList = null;
  this.mentionSetId = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.entityList !== undefined && args.entityList !== null) {
      this.entityList = Thrift.copyList(args.entityList, [Entity]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field entityList is unset!');
    }
    if (args.linkingList !== undefined && args.linkingList !== null) {
      this.linkingList = Thrift.copyList(args.linkingList, [Linking]);
    }
    if (args.mentionSetId !== undefined && args.mentionSetId !== null) {
      this.mentionSetId = new UUID(args.mentionSetId);
    }
  }
};
EntitySet.prototype = {};
EntitySet.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.entityList = [];
        var _rtmp316 = input.readListBegin();
        var _size15 = _rtmp316.size || 0;
        for (var _i17 = 0; _i17 < _size15; ++_i17) {
          var elem18 = null;
          elem18 = new Entity();
          elem18.read(input);
          this.entityList.push(elem18);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.linkingList = [];
        var _rtmp320 = input.readListBegin();
        var _size19 = _rtmp320.size || 0;
        for (var _i21 = 0; _i21 < _size19; ++_i21) {
          var elem22 = null;
          elem22 = new Linking();
          elem22.read(input);
          this.linkingList.push(elem22);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRUCT) {
        this.mentionSetId = new UUID();
        this.mentionSetId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

EntitySet.prototype.write = function(output) {
  output.writeStructBegin('EntitySet');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.entityList !== null && this.entityList !== undefined) {
    output.writeFieldBegin('entityList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.entityList.length);
    for (var iter23 in this.entityList) {
      if (this.entityList.hasOwnProperty(iter23)) {
        iter23 = this.entityList[iter23];
        iter23.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.linkingList !== null && this.linkingList !== undefined) {
    output.writeFieldBegin('linkingList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRUCT, this.linkingList.length);
    for (var iter24 in this.linkingList) {
      if (this.linkingList.hasOwnProperty(iter24)) {
        iter24 = this.linkingList[iter24];
        iter24.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.mentionSetId !== null && this.mentionSetId !== undefined) {
    output.writeFieldBegin('mentionSetId', Thrift.Type.STRUCT, 5);
    this.mentionSetId.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

EntityMention = function(args) {
  this.uuid = null;
  this.id = null;
  this.tokens = null;
  this.entityType = null;
  this.phraseType = null;
  this.confidence = null;
  this.text = null;
  this.childMentionIdList = null;
  this.propertyList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.id !== undefined && args.id !== null) {
      this.id = args.id;
    }
    if (args.tokens !== undefined && args.tokens !== null) {
      this.tokens = new TokenRefSequence(args.tokens);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field tokens is unset!');
    }
    if (args.entityType !== undefined && args.entityType !== null) {
      this.entityType = args.entityType;
    }
    if (args.phraseType !== undefined && args.phraseType !== null) {
      this.phraseType = args.phraseType;
    }
    if (args.confidence !== undefined && args.confidence !== null) {
      this.confidence = args.confidence;
    }
    if (args.text !== undefined && args.text !== null) {
      this.text = args.text;
    }
    if (args.childMentionIdList !== undefined && args.childMentionIdList !== null) {
      this.childMentionIdList = Thrift.copyList(args.childMentionIdList, [UUID]);
    }
    if (args.propertyList !== undefined && args.propertyList !== null) {
      this.propertyList = Thrift.copyList(args.propertyList, [Property]);
    }
  }
};
EntityMention.prototype = {};
EntityMention.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.STRING) {
        this.id = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.tokens = new TokenRefSequence();
        this.tokens.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.entityType = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.phraseType = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.DOUBLE) {
        this.confidence = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRING) {
        this.text = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.LIST) {
        this.childMentionIdList = [];
        var _rtmp326 = input.readListBegin();
        var _size25 = _rtmp326.size || 0;
        for (var _i27 = 0; _i27 < _size25; ++_i27) {
          var elem28 = null;
          elem28 = new UUID();
          elem28.read(input);
          this.childMentionIdList.push(elem28);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 9:
      if (ftype == Thrift.Type.LIST) {
        this.propertyList = [];
        var _rtmp330 = input.readListBegin();
        var _size29 = _rtmp330.size || 0;
        for (var _i31 = 0; _i31 < _size29; ++_i31) {
          var elem32 = null;
          elem32 = new Property();
          elem32.read(input);
          this.propertyList.push(elem32);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

EntityMention.prototype.write = function(output) {
  output.writeStructBegin('EntityMention');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.id !== null && this.id !== undefined) {
    output.writeFieldBegin('id', Thrift.Type.STRING, 8);
    output.writeString(this.id);
    output.writeFieldEnd();
  }
  if (this.tokens !== null && this.tokens !== undefined) {
    output.writeFieldBegin('tokens', Thrift.Type.STRUCT, 2);
    this.tokens.write(output);
    output.writeFieldEnd();
  }
  if (this.entityType !== null && this.entityType !== undefined) {
    output.writeFieldBegin('entityType', Thrift.Type.STRING, 3);
    output.writeString(this.entityType);
    output.writeFieldEnd();
  }
  if (this.phraseType !== null && this.phraseType !== undefined) {
    output.writeFieldBegin('phraseType', Thrift.Type.STRING, 4);
    output.writeString(this.phraseType);
    output.writeFieldEnd();
  }
  if (this.confidence !== null && this.confidence !== undefined) {
    output.writeFieldBegin('confidence', Thrift.Type.DOUBLE, 5);
    output.writeDouble(this.confidence);
    output.writeFieldEnd();
  }
  if (this.text !== null && this.text !== undefined) {
    output.writeFieldBegin('text', Thrift.Type.STRING, 6);
    output.writeString(this.text);
    output.writeFieldEnd();
  }
  if (this.childMentionIdList !== null && this.childMentionIdList !== undefined) {
    output.writeFieldBegin('childMentionIdList', Thrift.Type.LIST, 7);
    output.writeListBegin(Thrift.Type.STRUCT, this.childMentionIdList.length);
    for (var iter33 in this.childMentionIdList) {
      if (this.childMentionIdList.hasOwnProperty(iter33)) {
        iter33 = this.childMentionIdList[iter33];
        iter33.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.propertyList !== null && this.propertyList !== undefined) {
    output.writeFieldBegin('propertyList', Thrift.Type.LIST, 9);
    output.writeListBegin(Thrift.Type.STRUCT, this.propertyList.length);
    for (var iter34 in this.propertyList) {
      if (this.propertyList.hasOwnProperty(iter34)) {
        iter34 = this.propertyList[iter34];
        iter34.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

EntityMentionSet = function(args) {
  this.uuid = null;
  this.metadata = null;
  this.mentionList = null;
  this.linkingList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.mentionList !== undefined && args.mentionList !== null) {
      this.mentionList = Thrift.copyList(args.mentionList, [EntityMention]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field mentionList is unset!');
    }
    if (args.linkingList !== undefined && args.linkingList !== null) {
      this.linkingList = Thrift.copyList(args.linkingList, [Linking]);
    }
  }
};
EntityMentionSet.prototype = {};
EntityMentionSet.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.mentionList = [];
        var _rtmp336 = input.readListBegin();
        var _size35 = _rtmp336.size || 0;
        for (var _i37 = 0; _i37 < _size35; ++_i37) {
          var elem38 = null;
          elem38 = new EntityMention();
          elem38.read(input);
          this.mentionList.push(elem38);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.linkingList = [];
        var _rtmp340 = input.readListBegin();
        var _size39 = _rtmp340.size || 0;
        for (var _i41 = 0; _i41 < _size39; ++_i41) {
          var elem42 = null;
          elem42 = new Linking();
          elem42.read(input);
          this.linkingList.push(elem42);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

EntityMentionSet.prototype.write = function(output) {
  output.writeStructBegin('EntityMentionSet');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.mentionList !== null && this.mentionList !== undefined) {
    output.writeFieldBegin('mentionList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.mentionList.length);
    for (var iter43 in this.mentionList) {
      if (this.mentionList.hasOwnProperty(iter43)) {
        iter43 = this.mentionList[iter43];
        iter43.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.linkingList !== null && this.linkingList !== undefined) {
    output.writeFieldBegin('linkingList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRUCT, this.linkingList.length);
    for (var iter44 in this.linkingList) {
      if (this.linkingList.hasOwnProperty(iter44)) {
        iter44 = this.linkingList[iter44];
        iter44.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


ConcreteThriftException = function(args) {
  this.message = null;
  this.serEx = null;
  if (args) {
    if (args.message !== undefined && args.message !== null) {
      this.message = args.message;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field message is unset!');
    }
    if (args.serEx !== undefined && args.serEx !== null) {
      this.serEx = args.serEx;
    }
  }
};
Thrift.inherits(ConcreteThriftException, Thrift.TException);
ConcreteThriftException.prototype.name = 'ConcreteThriftException';
ConcreteThriftException.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.message = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.serEx = input.readBinary().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ConcreteThriftException.prototype.write = function(output) {
  output.writeStructBegin('ConcreteThriftException');
  if (this.message !== null && this.message !== undefined) {
    output.writeFieldBegin('message', Thrift.Type.STRING, 1);
    output.writeString(this.message);
    output.writeFieldEnd();
  }
  if (this.serEx !== null && this.serEx !== undefined) {
    output.writeFieldBegin('serEx', Thrift.Type.STRING, 2);
    output.writeBinary(this.serEx);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

FeedbackService_startFeedback_args = function(args) {
  this.results = null;
  if (args) {
    if (args.results !== undefined && args.results !== null) {
      this.results = new SearchResult(args.results);
    }
  }
};
FeedbackService_startFeedback_args.prototype = {};
FeedbackService_startFeedback_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.results = new SearchResult();
        this.results.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FeedbackService_startFeedback_args.prototype.write = function(output) {
  output.writeStructBegin('FeedbackService_startFeedback_args');
  if (this.results !== null && this.results !== undefined) {
    output.writeFieldBegin('results', Thrift.Type.STRUCT, 1);
    this.results.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FeedbackService_startFeedback_result = function(args) {
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
FeedbackService_startFeedback_result.prototype = {};
FeedbackService_startFeedback_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FeedbackService_startFeedback_result.prototype.write = function(output) {
  output.writeStructBegin('FeedbackService_startFeedback_result');
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FeedbackService_addCommunicationFeedback_args = function(args) {
  this.searchResultsId = null;
  this.communicationId = null;
  this.feedback = null;
  if (args) {
    if (args.searchResultsId !== undefined && args.searchResultsId !== null) {
      this.searchResultsId = new UUID(args.searchResultsId);
    }
    if (args.communicationId !== undefined && args.communicationId !== null) {
      this.communicationId = args.communicationId;
    }
    if (args.feedback !== undefined && args.feedback !== null) {
      this.feedback = args.feedback;
    }
  }
};
FeedbackService_addCommunicationFeedback_args.prototype = {};
FeedbackService_addCommunicationFeedback_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.searchResultsId = new UUID();
        this.searchResultsId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.communicationId = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.feedback = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FeedbackService_addCommunicationFeedback_args.prototype.write = function(output) {
  output.writeStructBegin('FeedbackService_addCommunicationFeedback_args');
  if (this.searchResultsId !== null && this.searchResultsId !== undefined) {
    output.writeFieldBegin('searchResultsId', Thrift.Type.STRUCT, 1);
    this.searchResultsId.write(output);
    output.writeFieldEnd();
  }
  if (this.communicationId !== null && this.communicationId !== undefined) {
    output.writeFieldBegin('communicationId', Thrift.Type.STRING, 2);
    output.writeString(this.communicationId);
    output.writeFieldEnd();
  }
  if (this.feedback !== null && this.feedback !== undefined) {
    output.writeFieldBegin('feedback', Thrift.Type.I32, 3);
    output.writeI32(this.feedback);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FeedbackService_addCommunicationFeedback_result = function(args) {
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
FeedbackService_addCommunicationFeedback_result.prototype = {};
FeedbackService_addCommunicationFeedback_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FeedbackService_addCommunicationFeedback_result.prototype.write = function(output) {
  output.writeStructBegin('FeedbackService_addCommunicationFeedback_result');
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FeedbackService_addSentenceFeedback_args = function(args) {
  this.searchResultsId = null;
  this.communicationId = null;
  this.sentenceId = null;
  this.feedback = null;
  if (args) {
    if (args.searchResultsId !== undefined && args.searchResultsId !== null) {
      this.searchResultsId = new UUID(args.searchResultsId);
    }
    if (args.communicationId !== undefined && args.communicationId !== null) {
      this.communicationId = args.communicationId;
    }
    if (args.sentenceId !== undefined && args.sentenceId !== null) {
      this.sentenceId = new UUID(args.sentenceId);
    }
    if (args.feedback !== undefined && args.feedback !== null) {
      this.feedback = args.feedback;
    }
  }
};
FeedbackService_addSentenceFeedback_args.prototype = {};
FeedbackService_addSentenceFeedback_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.searchResultsId = new UUID();
        this.searchResultsId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.communicationId = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.sentenceId = new UUID();
        this.sentenceId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.I32) {
        this.feedback = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FeedbackService_addSentenceFeedback_args.prototype.write = function(output) {
  output.writeStructBegin('FeedbackService_addSentenceFeedback_args');
  if (this.searchResultsId !== null && this.searchResultsId !== undefined) {
    output.writeFieldBegin('searchResultsId', Thrift.Type.STRUCT, 1);
    this.searchResultsId.write(output);
    output.writeFieldEnd();
  }
  if (this.communicationId !== null && this.communicationId !== undefined) {
    output.writeFieldBegin('communicationId', Thrift.Type.STRING, 2);
    output.writeString(this.communicationId);
    output.writeFieldEnd();
  }
  if (this.sentenceId !== null && this.sentenceId !== undefined) {
    output.writeFieldBegin('sentenceId', Thrift.Type.STRUCT, 3);
    this.sentenceId.write(output);
    output.writeFieldEnd();
  }
  if (this.feedback !== null && this.feedback !== undefined) {
    output.writeFieldBegin('feedback', Thrift.Type.I32, 4);
    output.writeI32(this.feedback);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FeedbackService_addSentenceFeedback_result = function(args) {
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
FeedbackService_addSentenceFeedback_result.prototype = {};
FeedbackService_addSentenceFeedback_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FeedbackService_addSentenceFeedback_result.prototype.write = function(output) {
  output.writeStructBegin('FeedbackService_addSentenceFeedback_result');
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FeedbackServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(FeedbackServiceClient, ServiceClient);

FeedbackServiceClient.prototype.startFeedback = function(results, callback) {
  if (callback === undefined) {
    this.send_startFeedback(results);
    this.recv_startFeedback();
  } else {
    var postData = this.send_startFeedback(results, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_startFeedback);
  }
};

FeedbackServiceClient.prototype.send_startFeedback = function(results, callback) {
  var params = {
    results: results
  };
  var args = new FeedbackService_startFeedback_args(params);
  try {
    this.output.writeMessageBegin('startFeedback', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

FeedbackServiceClient.prototype.recv_startFeedback = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new FeedbackService_startFeedback_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  return;
};

FeedbackServiceClient.prototype.addCommunicationFeedback = function(searchResultsId, communicationId, feedback, callback) {
  if (callback === undefined) {
    this.send_addCommunicationFeedback(searchResultsId, communicationId, feedback);
    this.recv_addCommunicationFeedback();
  } else {
    var postData = this.send_addCommunicationFeedback(searchResultsId, communicationId, feedback, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_addCommunicationFeedback);
  }
};

FeedbackServiceClient.prototype.send_addCommunicationFeedback = function(searchResultsId, communicationId, feedback, callback) {
  var params = {
    searchResultsId: searchResultsId,
    communicationId: communicationId,
    feedback: feedback
  };
  var args = new FeedbackService_addCommunicationFeedback_args(params);
  try {
    this.output.writeMessageBegin('addCommunicationFeedback', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

FeedbackServiceClient.prototype.recv_addCommunicationFeedback = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new FeedbackService_addCommunicationFeedback_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  return;
};

FeedbackServiceClient.prototype.addSentenceFeedback = function(searchResultsId, communicationId, sentenceId, feedback, callback) {
  if (callback === undefined) {
    this.send_addSentenceFeedback(searchResultsId, communicationId, sentenceId, feedback);
    this.recv_addSentenceFeedback();
  } else {
    var postData = this.send_addSentenceFeedback(searchResultsId, communicationId, sentenceId, feedback, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_addSentenceFeedback);
  }
};

FeedbackServiceClient.prototype.send_addSentenceFeedback = function(searchResultsId, communicationId, sentenceId, feedback, callback) {
  var params = {
    searchResultsId: searchResultsId,
    communicationId: communicationId,
    sentenceId: sentenceId,
    feedback: feedback
  };
  var args = new FeedbackService_addSentenceFeedback_args(params);
  try {
    this.output.writeMessageBegin('addSentenceFeedback', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

FeedbackServiceClient.prototype.recv_addSentenceFeedback = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new FeedbackService_addSentenceFeedback_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  return;
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

FetchCommunicationService_fetch_args = function(args) {
  this.request = null;
  if (args) {
    if (args.request !== undefined && args.request !== null) {
      this.request = new FetchRequest(args.request);
    }
  }
};
FetchCommunicationService_fetch_args.prototype = {};
FetchCommunicationService_fetch_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.request = new FetchRequest();
        this.request.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FetchCommunicationService_fetch_args.prototype.write = function(output) {
  output.writeStructBegin('FetchCommunicationService_fetch_args');
  if (this.request !== null && this.request !== undefined) {
    output.writeFieldBegin('request', Thrift.Type.STRUCT, 1);
    this.request.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FetchCommunicationService_fetch_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new FetchResult(args.success);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
FetchCommunicationService_fetch_result.prototype = {};
FetchCommunicationService_fetch_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new FetchResult();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FetchCommunicationService_fetch_result.prototype.write = function(output) {
  output.writeStructBegin('FetchCommunicationService_fetch_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FetchCommunicationService_getCommunicationIDs_args = function(args) {
  this.offset = null;
  this.count = null;
  if (args) {
    if (args.offset !== undefined && args.offset !== null) {
      this.offset = args.offset;
    }
    if (args.count !== undefined && args.count !== null) {
      this.count = args.count;
    }
  }
};
FetchCommunicationService_getCommunicationIDs_args.prototype = {};
FetchCommunicationService_getCommunicationIDs_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I64) {
        this.offset = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I64) {
        this.count = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FetchCommunicationService_getCommunicationIDs_args.prototype.write = function(output) {
  output.writeStructBegin('FetchCommunicationService_getCommunicationIDs_args');
  if (this.offset !== null && this.offset !== undefined) {
    output.writeFieldBegin('offset', Thrift.Type.I64, 1);
    output.writeI64(this.offset);
    output.writeFieldEnd();
  }
  if (this.count !== null && this.count !== undefined) {
    output.writeFieldBegin('count', Thrift.Type.I64, 2);
    output.writeI64(this.count);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FetchCommunicationService_getCommunicationIDs_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof NotImplementedException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [null]);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
FetchCommunicationService_getCommunicationIDs_result.prototype = {};
FetchCommunicationService_getCommunicationIDs_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        this.success = [];
        var _rtmp311 = input.readListBegin();
        var _size10 = _rtmp311.size || 0;
        for (var _i12 = 0; _i12 < _size10; ++_i12) {
          var elem13 = null;
          elem13 = input.readString().value;
          this.success.push(elem13);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new NotImplementedException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FetchCommunicationService_getCommunicationIDs_result.prototype.write = function(output) {
  output.writeStructBegin('FetchCommunicationService_getCommunicationIDs_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRING, this.success.length);
    for (var iter14 in this.success) {
      if (this.success.hasOwnProperty(iter14)) {
        iter14 = this.success[iter14];
        output.writeString(iter14);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FetchCommunicationService_getCommunicationCount_args = function(args) {
};
FetchCommunicationService_getCommunicationCount_args.prototype = {};
FetchCommunicationService_getCommunicationCount_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FetchCommunicationService_getCommunicationCount_args.prototype.write = function(output) {
  output.writeStructBegin('FetchCommunicationService_getCommunicationCount_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FetchCommunicationService_getCommunicationCount_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof NotImplementedException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = args.success;
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
FetchCommunicationService_getCommunicationCount_result.prototype = {};
FetchCommunicationService_getCommunicationCount_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.I64) {
        this.success = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new NotImplementedException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

FetchCommunicationService_getCommunicationCount_result.prototype.write = function(output) {
  output.writeStructBegin('FetchCommunicationService_getCommunicationCount_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.I64, 0);
    output.writeI64(this.success);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

FetchCommunicationServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(FetchCommunicationServiceClient, ServiceClient);

FetchCommunicationServiceClient.prototype.fetch = function(request, callback) {
  if (callback === undefined) {
    this.send_fetch(request);
    return this.recv_fetch();
  } else {
    var postData = this.send_fetch(request, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_fetch);
  }
};

FetchCommunicationServiceClient.prototype.send_fetch = function(request, callback) {
  var params = {
    request: request
  };
  var args = new FetchCommunicationService_fetch_args(params);
  try {
    this.output.writeMessageBegin('fetch', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

FetchCommunicationServiceClient.prototype.recv_fetch = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new FetchCommunicationService_fetch_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'fetch failed: unknown result';
};

FetchCommunicationServiceClient.prototype.getCommunicationIDs = function(offset, count, callback) {
  if (callback === undefined) {
    this.send_getCommunicationIDs(offset, count);
    return this.recv_getCommunicationIDs();
  } else {
    var postData = this.send_getCommunicationIDs(offset, count, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getCommunicationIDs);
  }
};

FetchCommunicationServiceClient.prototype.send_getCommunicationIDs = function(offset, count, callback) {
  var params = {
    offset: offset,
    count: count
  };
  var args = new FetchCommunicationService_getCommunicationIDs_args(params);
  try {
    this.output.writeMessageBegin('getCommunicationIDs', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

FetchCommunicationServiceClient.prototype.recv_getCommunicationIDs = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new FetchCommunicationService_getCommunicationIDs_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getCommunicationIDs failed: unknown result';
};

FetchCommunicationServiceClient.prototype.getCommunicationCount = function(callback) {
  if (callback === undefined) {
    this.send_getCommunicationCount();
    return this.recv_getCommunicationCount();
  } else {
    var postData = this.send_getCommunicationCount(true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getCommunicationCount);
  }
};

FetchCommunicationServiceClient.prototype.send_getCommunicationCount = function(callback) {
  var args = new FetchCommunicationService_getCommunicationCount_args();
  try {
    this.output.writeMessageBegin('getCommunicationCount', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

FetchCommunicationServiceClient.prototype.recv_getCommunicationCount = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new FetchCommunicationService_getCommunicationCount_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getCommunicationCount failed: unknown result';
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


LanguageIdentification = function(args) {
  this.uuid = null;
  this.metadata = null;
  this.languageToProbabilityMap = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.languageToProbabilityMap !== undefined && args.languageToProbabilityMap !== null) {
      this.languageToProbabilityMap = Thrift.copyMap(args.languageToProbabilityMap, [null]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field languageToProbabilityMap is unset!');
    }
  }
};
LanguageIdentification.prototype = {};
LanguageIdentification.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.MAP) {
        this.languageToProbabilityMap = {};
        var _rtmp31 = input.readMapBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          if (_i2 > 0 ) {
            if (input.rstack.length > input.rpos[input.rpos.length -1] + 1) {
              input.rstack.pop();
            }
          }
          var key3 = null;
          var val4 = null;
          key3 = input.readString().value;
          val4 = input.readDouble().value;
          this.languageToProbabilityMap[key3] = val4;
        }
        input.readMapEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

LanguageIdentification.prototype.write = function(output) {
  output.writeStructBegin('LanguageIdentification');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.languageToProbabilityMap !== null && this.languageToProbabilityMap !== undefined) {
    output.writeFieldBegin('languageToProbabilityMap', Thrift.Type.MAP, 3);
    output.writeMapBegin(Thrift.Type.STRING, Thrift.Type.DOUBLE, Thrift.objectLength(this.languageToProbabilityMap));
    for (var kiter5 in this.languageToProbabilityMap) {
      if (this.languageToProbabilityMap.hasOwnProperty(kiter5)) {
        var viter6 = this.languageToProbabilityMap[kiter5];
        output.writeString(kiter5);
        output.writeDouble(viter6);
      }
    }
    output.writeMapEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


AnnotationTask = function(args) {
  this.type = null;
  this.language = null;
  this.unitType = null;
  this.units = null;
  if (args) {
    if (args.type !== undefined && args.type !== null) {
      this.type = args.type;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field type is unset!');
    }
    if (args.language !== undefined && args.language !== null) {
      this.language = args.language;
    }
    if (args.unitType !== undefined && args.unitType !== null) {
      this.unitType = args.unitType;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field unitType is unset!');
    }
    if (args.units !== undefined && args.units !== null) {
      this.units = Thrift.copyList(args.units, [AnnotationUnitIdentifier]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field units is unset!');
    }
  }
};
AnnotationTask.prototype = {};
AnnotationTask.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.type = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.language = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.unitType = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.units = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = new AnnotationUnitIdentifier();
          elem3.read(input);
          this.units.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotationTask.prototype.write = function(output) {
  output.writeStructBegin('AnnotationTask');
  if (this.type !== null && this.type !== undefined) {
    output.writeFieldBegin('type', Thrift.Type.I32, 1);
    output.writeI32(this.type);
    output.writeFieldEnd();
  }
  if (this.language !== null && this.language !== undefined) {
    output.writeFieldBegin('language', Thrift.Type.STRING, 2);
    output.writeString(this.language);
    output.writeFieldEnd();
  }
  if (this.unitType !== null && this.unitType !== undefined) {
    output.writeFieldBegin('unitType', Thrift.Type.I32, 3);
    output.writeI32(this.unitType);
    output.writeFieldEnd();
  }
  if (this.units !== null && this.units !== undefined) {
    output.writeFieldBegin('units', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRUCT, this.units.length);
    for (var iter4 in this.units) {
      if (this.units.hasOwnProperty(iter4)) {
        iter4 = this.units[iter4];
        iter4.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Annotation = function(args) {
  this.id = null;
  this.communication = null;
  if (args) {
    if (args.id !== undefined && args.id !== null) {
      this.id = new AnnotationUnitIdentifier(args.id);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field id is unset!');
    }
    if (args.communication !== undefined && args.communication !== null) {
      this.communication = new Communication(args.communication);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field communication is unset!');
    }
  }
};
Annotation.prototype = {};
Annotation.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.id = new AnnotationUnitIdentifier();
        this.id.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.communication = new Communication();
        this.communication.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Annotation.prototype.write = function(output) {
  output.writeStructBegin('Annotation');
  if (this.id !== null && this.id !== undefined) {
    output.writeFieldBegin('id', Thrift.Type.STRUCT, 1);
    this.id.write(output);
    output.writeFieldEnd();
  }
  if (this.communication !== null && this.communication !== undefined) {
    output.writeFieldBegin('communication', Thrift.Type.STRUCT, 2);
    this.communication.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


LinkTarget = function(args) {
  this.confidence = null;
  this.targetId = null;
  this.dbId = null;
  this.dbName = null;
  if (args) {
    if (args.confidence !== undefined && args.confidence !== null) {
      this.confidence = args.confidence;
    }
    if (args.targetId !== undefined && args.targetId !== null) {
      this.targetId = new UUID(args.targetId);
    }
    if (args.dbId !== undefined && args.dbId !== null) {
      this.dbId = args.dbId;
    }
    if (args.dbName !== undefined && args.dbName !== null) {
      this.dbName = args.dbName;
    }
  }
};
LinkTarget.prototype = {};
LinkTarget.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.DOUBLE) {
        this.confidence = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.targetId = new UUID();
        this.targetId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.dbId = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.dbName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

LinkTarget.prototype.write = function(output) {
  output.writeStructBegin('LinkTarget');
  if (this.confidence !== null && this.confidence !== undefined) {
    output.writeFieldBegin('confidence', Thrift.Type.DOUBLE, 1);
    output.writeDouble(this.confidence);
    output.writeFieldEnd();
  }
  if (this.targetId !== null && this.targetId !== undefined) {
    output.writeFieldBegin('targetId', Thrift.Type.STRUCT, 2);
    this.targetId.write(output);
    output.writeFieldEnd();
  }
  if (this.dbId !== null && this.dbId !== undefined) {
    output.writeFieldBegin('dbId', Thrift.Type.STRING, 3);
    output.writeString(this.dbId);
    output.writeFieldEnd();
  }
  if (this.dbName !== null && this.dbName !== undefined) {
    output.writeFieldBegin('dbName', Thrift.Type.STRING, 4);
    output.writeString(this.dbName);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Link = function(args) {
  this.sourceId = null;
  this.linkTargetList = null;
  if (args) {
    if (args.sourceId !== undefined && args.sourceId !== null) {
      this.sourceId = new UUID(args.sourceId);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field sourceId is unset!');
    }
    if (args.linkTargetList !== undefined && args.linkTargetList !== null) {
      this.linkTargetList = Thrift.copyList(args.linkTargetList, [LinkTarget]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field linkTargetList is unset!');
    }
  }
};
Link.prototype = {};
Link.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.sourceId = new UUID();
        this.sourceId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.linkTargetList = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = new LinkTarget();
          elem3.read(input);
          this.linkTargetList.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Link.prototype.write = function(output) {
  output.writeStructBegin('Link');
  if (this.sourceId !== null && this.sourceId !== undefined) {
    output.writeFieldBegin('sourceId', Thrift.Type.STRUCT, 1);
    this.sourceId.write(output);
    output.writeFieldEnd();
  }
  if (this.linkTargetList !== null && this.linkTargetList !== undefined) {
    output.writeFieldBegin('linkTargetList', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRUCT, this.linkTargetList.length);
    for (var iter4 in this.linkTargetList) {
      if (this.linkTargetList.hasOwnProperty(iter4)) {
        iter4 = this.linkTargetList[iter4];
        iter4.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Linking = function(args) {
  this.metadata = null;
  this.linkList = null;
  if (args) {
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.linkList !== undefined && args.linkList !== null) {
      this.linkList = Thrift.copyList(args.linkList, [Link]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field linkList is unset!');
    }
  }
};
Linking.prototype = {};
Linking.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.linkList = [];
        var _rtmp36 = input.readListBegin();
        var _size5 = _rtmp36.size || 0;
        for (var _i7 = 0; _i7 < _size5; ++_i7) {
          var elem8 = null;
          elem8 = new Link();
          elem8.read(input);
          this.linkList.push(elem8);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Linking.prototype.write = function(output) {
  output.writeStructBegin('Linking');
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 1);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.linkList !== null && this.linkList !== undefined) {
    output.writeFieldBegin('linkList', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRUCT, this.linkList.length);
    for (var iter9 in this.linkList) {
      if (this.linkList.hasOwnProperty(iter9)) {
        iter9 = this.linkList[iter9];
        iter9.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


TheoryDependencies = function(args) {
  this.sectionTheoryList = null;
  this.sentenceTheoryList = null;
  this.tokenizationTheoryList = null;
  this.posTagTheoryList = null;
  this.nerTagTheoryList = null;
  this.lemmaTheoryList = null;
  this.langIdTheoryList = null;
  this.parseTheoryList = null;
  this.dependencyParseTheoryList = null;
  this.tokenAnnotationTheoryList = null;
  this.entityMentionSetTheoryList = null;
  this.entitySetTheoryList = null;
  this.situationMentionSetTheoryList = null;
  this.situationSetTheoryList = null;
  this.communicationsList = null;
  if (args) {
    if (args.sectionTheoryList !== undefined && args.sectionTheoryList !== null) {
      this.sectionTheoryList = Thrift.copyList(args.sectionTheoryList, [UUID]);
    }
    if (args.sentenceTheoryList !== undefined && args.sentenceTheoryList !== null) {
      this.sentenceTheoryList = Thrift.copyList(args.sentenceTheoryList, [UUID]);
    }
    if (args.tokenizationTheoryList !== undefined && args.tokenizationTheoryList !== null) {
      this.tokenizationTheoryList = Thrift.copyList(args.tokenizationTheoryList, [UUID]);
    }
    if (args.posTagTheoryList !== undefined && args.posTagTheoryList !== null) {
      this.posTagTheoryList = Thrift.copyList(args.posTagTheoryList, [UUID]);
    }
    if (args.nerTagTheoryList !== undefined && args.nerTagTheoryList !== null) {
      this.nerTagTheoryList = Thrift.copyList(args.nerTagTheoryList, [UUID]);
    }
    if (args.lemmaTheoryList !== undefined && args.lemmaTheoryList !== null) {
      this.lemmaTheoryList = Thrift.copyList(args.lemmaTheoryList, [UUID]);
    }
    if (args.langIdTheoryList !== undefined && args.langIdTheoryList !== null) {
      this.langIdTheoryList = Thrift.copyList(args.langIdTheoryList, [UUID]);
    }
    if (args.parseTheoryList !== undefined && args.parseTheoryList !== null) {
      this.parseTheoryList = Thrift.copyList(args.parseTheoryList, [UUID]);
    }
    if (args.dependencyParseTheoryList !== undefined && args.dependencyParseTheoryList !== null) {
      this.dependencyParseTheoryList = Thrift.copyList(args.dependencyParseTheoryList, [UUID]);
    }
    if (args.tokenAnnotationTheoryList !== undefined && args.tokenAnnotationTheoryList !== null) {
      this.tokenAnnotationTheoryList = Thrift.copyList(args.tokenAnnotationTheoryList, [UUID]);
    }
    if (args.entityMentionSetTheoryList !== undefined && args.entityMentionSetTheoryList !== null) {
      this.entityMentionSetTheoryList = Thrift.copyList(args.entityMentionSetTheoryList, [UUID]);
    }
    if (args.entitySetTheoryList !== undefined && args.entitySetTheoryList !== null) {
      this.entitySetTheoryList = Thrift.copyList(args.entitySetTheoryList, [UUID]);
    }
    if (args.situationMentionSetTheoryList !== undefined && args.situationMentionSetTheoryList !== null) {
      this.situationMentionSetTheoryList = Thrift.copyList(args.situationMentionSetTheoryList, [UUID]);
    }
    if (args.situationSetTheoryList !== undefined && args.situationSetTheoryList !== null) {
      this.situationSetTheoryList = Thrift.copyList(args.situationSetTheoryList, [UUID]);
    }
    if (args.communicationsList !== undefined && args.communicationsList !== null) {
      this.communicationsList = Thrift.copyList(args.communicationsList, [UUID]);
    }
  }
};
TheoryDependencies.prototype = {};
TheoryDependencies.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.sectionTheoryList = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = new UUID();
          elem3.read(input);
          this.sectionTheoryList.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.sentenceTheoryList = [];
        var _rtmp35 = input.readListBegin();
        var _size4 = _rtmp35.size || 0;
        for (var _i6 = 0; _i6 < _size4; ++_i6) {
          var elem7 = null;
          elem7 = new UUID();
          elem7.read(input);
          this.sentenceTheoryList.push(elem7);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.tokenizationTheoryList = [];
        var _rtmp39 = input.readListBegin();
        var _size8 = _rtmp39.size || 0;
        for (var _i10 = 0; _i10 < _size8; ++_i10) {
          var elem11 = null;
          elem11 = new UUID();
          elem11.read(input);
          this.tokenizationTheoryList.push(elem11);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.posTagTheoryList = [];
        var _rtmp313 = input.readListBegin();
        var _size12 = _rtmp313.size || 0;
        for (var _i14 = 0; _i14 < _size12; ++_i14) {
          var elem15 = null;
          elem15 = new UUID();
          elem15.read(input);
          this.posTagTheoryList.push(elem15);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.LIST) {
        this.nerTagTheoryList = [];
        var _rtmp317 = input.readListBegin();
        var _size16 = _rtmp317.size || 0;
        for (var _i18 = 0; _i18 < _size16; ++_i18) {
          var elem19 = null;
          elem19 = new UUID();
          elem19.read(input);
          this.nerTagTheoryList.push(elem19);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.LIST) {
        this.lemmaTheoryList = [];
        var _rtmp321 = input.readListBegin();
        var _size20 = _rtmp321.size || 0;
        for (var _i22 = 0; _i22 < _size20; ++_i22) {
          var elem23 = null;
          elem23 = new UUID();
          elem23.read(input);
          this.lemmaTheoryList.push(elem23);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.LIST) {
        this.langIdTheoryList = [];
        var _rtmp325 = input.readListBegin();
        var _size24 = _rtmp325.size || 0;
        for (var _i26 = 0; _i26 < _size24; ++_i26) {
          var elem27 = null;
          elem27 = new UUID();
          elem27.read(input);
          this.langIdTheoryList.push(elem27);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.LIST) {
        this.parseTheoryList = [];
        var _rtmp329 = input.readListBegin();
        var _size28 = _rtmp329.size || 0;
        for (var _i30 = 0; _i30 < _size28; ++_i30) {
          var elem31 = null;
          elem31 = new UUID();
          elem31.read(input);
          this.parseTheoryList.push(elem31);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 9:
      if (ftype == Thrift.Type.LIST) {
        this.dependencyParseTheoryList = [];
        var _rtmp333 = input.readListBegin();
        var _size32 = _rtmp333.size || 0;
        for (var _i34 = 0; _i34 < _size32; ++_i34) {
          var elem35 = null;
          elem35 = new UUID();
          elem35.read(input);
          this.dependencyParseTheoryList.push(elem35);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 10:
      if (ftype == Thrift.Type.LIST) {
        this.tokenAnnotationTheoryList = [];
        var _rtmp337 = input.readListBegin();
        var _size36 = _rtmp337.size || 0;
        for (var _i38 = 0; _i38 < _size36; ++_i38) {
          var elem39 = null;
          elem39 = new UUID();
          elem39.read(input);
          this.tokenAnnotationTheoryList.push(elem39);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 11:
      if (ftype == Thrift.Type.LIST) {
        this.entityMentionSetTheoryList = [];
        var _rtmp341 = input.readListBegin();
        var _size40 = _rtmp341.size || 0;
        for (var _i42 = 0; _i42 < _size40; ++_i42) {
          var elem43 = null;
          elem43 = new UUID();
          elem43.read(input);
          this.entityMentionSetTheoryList.push(elem43);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 12:
      if (ftype == Thrift.Type.LIST) {
        this.entitySetTheoryList = [];
        var _rtmp345 = input.readListBegin();
        var _size44 = _rtmp345.size || 0;
        for (var _i46 = 0; _i46 < _size44; ++_i46) {
          var elem47 = null;
          elem47 = new UUID();
          elem47.read(input);
          this.entitySetTheoryList.push(elem47);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 13:
      if (ftype == Thrift.Type.LIST) {
        this.situationMentionSetTheoryList = [];
        var _rtmp349 = input.readListBegin();
        var _size48 = _rtmp349.size || 0;
        for (var _i50 = 0; _i50 < _size48; ++_i50) {
          var elem51 = null;
          elem51 = new UUID();
          elem51.read(input);
          this.situationMentionSetTheoryList.push(elem51);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 14:
      if (ftype == Thrift.Type.LIST) {
        this.situationSetTheoryList = [];
        var _rtmp353 = input.readListBegin();
        var _size52 = _rtmp353.size || 0;
        for (var _i54 = 0; _i54 < _size52; ++_i54) {
          var elem55 = null;
          elem55 = new UUID();
          elem55.read(input);
          this.situationSetTheoryList.push(elem55);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 15:
      if (ftype == Thrift.Type.LIST) {
        this.communicationsList = [];
        var _rtmp357 = input.readListBegin();
        var _size56 = _rtmp357.size || 0;
        for (var _i58 = 0; _i58 < _size56; ++_i58) {
          var elem59 = null;
          elem59 = new UUID();
          elem59.read(input);
          this.communicationsList.push(elem59);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TheoryDependencies.prototype.write = function(output) {
  output.writeStructBegin('TheoryDependencies');
  if (this.sectionTheoryList !== null && this.sectionTheoryList !== undefined) {
    output.writeFieldBegin('sectionTheoryList', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.STRUCT, this.sectionTheoryList.length);
    for (var iter60 in this.sectionTheoryList) {
      if (this.sectionTheoryList.hasOwnProperty(iter60)) {
        iter60 = this.sectionTheoryList[iter60];
        iter60.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.sentenceTheoryList !== null && this.sentenceTheoryList !== undefined) {
    output.writeFieldBegin('sentenceTheoryList', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRUCT, this.sentenceTheoryList.length);
    for (var iter61 in this.sentenceTheoryList) {
      if (this.sentenceTheoryList.hasOwnProperty(iter61)) {
        iter61 = this.sentenceTheoryList[iter61];
        iter61.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.tokenizationTheoryList !== null && this.tokenizationTheoryList !== undefined) {
    output.writeFieldBegin('tokenizationTheoryList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.tokenizationTheoryList.length);
    for (var iter62 in this.tokenizationTheoryList) {
      if (this.tokenizationTheoryList.hasOwnProperty(iter62)) {
        iter62 = this.tokenizationTheoryList[iter62];
        iter62.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.posTagTheoryList !== null && this.posTagTheoryList !== undefined) {
    output.writeFieldBegin('posTagTheoryList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRUCT, this.posTagTheoryList.length);
    for (var iter63 in this.posTagTheoryList) {
      if (this.posTagTheoryList.hasOwnProperty(iter63)) {
        iter63 = this.posTagTheoryList[iter63];
        iter63.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.nerTagTheoryList !== null && this.nerTagTheoryList !== undefined) {
    output.writeFieldBegin('nerTagTheoryList', Thrift.Type.LIST, 5);
    output.writeListBegin(Thrift.Type.STRUCT, this.nerTagTheoryList.length);
    for (var iter64 in this.nerTagTheoryList) {
      if (this.nerTagTheoryList.hasOwnProperty(iter64)) {
        iter64 = this.nerTagTheoryList[iter64];
        iter64.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.lemmaTheoryList !== null && this.lemmaTheoryList !== undefined) {
    output.writeFieldBegin('lemmaTheoryList', Thrift.Type.LIST, 6);
    output.writeListBegin(Thrift.Type.STRUCT, this.lemmaTheoryList.length);
    for (var iter65 in this.lemmaTheoryList) {
      if (this.lemmaTheoryList.hasOwnProperty(iter65)) {
        iter65 = this.lemmaTheoryList[iter65];
        iter65.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.langIdTheoryList !== null && this.langIdTheoryList !== undefined) {
    output.writeFieldBegin('langIdTheoryList', Thrift.Type.LIST, 7);
    output.writeListBegin(Thrift.Type.STRUCT, this.langIdTheoryList.length);
    for (var iter66 in this.langIdTheoryList) {
      if (this.langIdTheoryList.hasOwnProperty(iter66)) {
        iter66 = this.langIdTheoryList[iter66];
        iter66.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.parseTheoryList !== null && this.parseTheoryList !== undefined) {
    output.writeFieldBegin('parseTheoryList', Thrift.Type.LIST, 8);
    output.writeListBegin(Thrift.Type.STRUCT, this.parseTheoryList.length);
    for (var iter67 in this.parseTheoryList) {
      if (this.parseTheoryList.hasOwnProperty(iter67)) {
        iter67 = this.parseTheoryList[iter67];
        iter67.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.dependencyParseTheoryList !== null && this.dependencyParseTheoryList !== undefined) {
    output.writeFieldBegin('dependencyParseTheoryList', Thrift.Type.LIST, 9);
    output.writeListBegin(Thrift.Type.STRUCT, this.dependencyParseTheoryList.length);
    for (var iter68 in this.dependencyParseTheoryList) {
      if (this.dependencyParseTheoryList.hasOwnProperty(iter68)) {
        iter68 = this.dependencyParseTheoryList[iter68];
        iter68.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.tokenAnnotationTheoryList !== null && this.tokenAnnotationTheoryList !== undefined) {
    output.writeFieldBegin('tokenAnnotationTheoryList', Thrift.Type.LIST, 10);
    output.writeListBegin(Thrift.Type.STRUCT, this.tokenAnnotationTheoryList.length);
    for (var iter69 in this.tokenAnnotationTheoryList) {
      if (this.tokenAnnotationTheoryList.hasOwnProperty(iter69)) {
        iter69 = this.tokenAnnotationTheoryList[iter69];
        iter69.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.entityMentionSetTheoryList !== null && this.entityMentionSetTheoryList !== undefined) {
    output.writeFieldBegin('entityMentionSetTheoryList', Thrift.Type.LIST, 11);
    output.writeListBegin(Thrift.Type.STRUCT, this.entityMentionSetTheoryList.length);
    for (var iter70 in this.entityMentionSetTheoryList) {
      if (this.entityMentionSetTheoryList.hasOwnProperty(iter70)) {
        iter70 = this.entityMentionSetTheoryList[iter70];
        iter70.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.entitySetTheoryList !== null && this.entitySetTheoryList !== undefined) {
    output.writeFieldBegin('entitySetTheoryList', Thrift.Type.LIST, 12);
    output.writeListBegin(Thrift.Type.STRUCT, this.entitySetTheoryList.length);
    for (var iter71 in this.entitySetTheoryList) {
      if (this.entitySetTheoryList.hasOwnProperty(iter71)) {
        iter71 = this.entitySetTheoryList[iter71];
        iter71.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.situationMentionSetTheoryList !== null && this.situationMentionSetTheoryList !== undefined) {
    output.writeFieldBegin('situationMentionSetTheoryList', Thrift.Type.LIST, 13);
    output.writeListBegin(Thrift.Type.STRUCT, this.situationMentionSetTheoryList.length);
    for (var iter72 in this.situationMentionSetTheoryList) {
      if (this.situationMentionSetTheoryList.hasOwnProperty(iter72)) {
        iter72 = this.situationMentionSetTheoryList[iter72];
        iter72.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.situationSetTheoryList !== null && this.situationSetTheoryList !== undefined) {
    output.writeFieldBegin('situationSetTheoryList', Thrift.Type.LIST, 14);
    output.writeListBegin(Thrift.Type.STRUCT, this.situationSetTheoryList.length);
    for (var iter73 in this.situationSetTheoryList) {
      if (this.situationSetTheoryList.hasOwnProperty(iter73)) {
        iter73 = this.situationSetTheoryList[iter73];
        iter73.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.communicationsList !== null && this.communicationsList !== undefined) {
    output.writeFieldBegin('communicationsList', Thrift.Type.LIST, 15);
    output.writeListBegin(Thrift.Type.STRUCT, this.communicationsList.length);
    for (var iter74 in this.communicationsList) {
      if (this.communicationsList.hasOwnProperty(iter74)) {
        iter74 = this.communicationsList[iter74];
        iter74.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Digest = function(args) {
  this.bytesValue = null;
  this.int64Value = null;
  this.doubleValue = null;
  this.stringValue = null;
  this.int64List = null;
  this.doubleList = null;
  this.stringList = null;
  if (args) {
    if (args.bytesValue !== undefined && args.bytesValue !== null) {
      this.bytesValue = args.bytesValue;
    }
    if (args.int64Value !== undefined && args.int64Value !== null) {
      this.int64Value = args.int64Value;
    }
    if (args.doubleValue !== undefined && args.doubleValue !== null) {
      this.doubleValue = args.doubleValue;
    }
    if (args.stringValue !== undefined && args.stringValue !== null) {
      this.stringValue = args.stringValue;
    }
    if (args.int64List !== undefined && args.int64List !== null) {
      this.int64List = Thrift.copyList(args.int64List, [null]);
    }
    if (args.doubleList !== undefined && args.doubleList !== null) {
      this.doubleList = Thrift.copyList(args.doubleList, [null]);
    }
    if (args.stringList !== undefined && args.stringList !== null) {
      this.stringList = Thrift.copyList(args.stringList, [null]);
    }
  }
};
Digest.prototype = {};
Digest.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.bytesValue = input.readBinary().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I64) {
        this.int64Value = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.DOUBLE) {
        this.doubleValue = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.stringValue = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.LIST) {
        this.int64List = [];
        var _rtmp376 = input.readListBegin();
        var _size75 = _rtmp376.size || 0;
        for (var _i77 = 0; _i77 < _size75; ++_i77) {
          var elem78 = null;
          elem78 = input.readI64().value;
          this.int64List.push(elem78);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.LIST) {
        this.doubleList = [];
        var _rtmp380 = input.readListBegin();
        var _size79 = _rtmp380.size || 0;
        for (var _i81 = 0; _i81 < _size79; ++_i81) {
          var elem82 = null;
          elem82 = input.readDouble().value;
          this.doubleList.push(elem82);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.LIST) {
        this.stringList = [];
        var _rtmp384 = input.readListBegin();
        var _size83 = _rtmp384.size || 0;
        for (var _i85 = 0; _i85 < _size83; ++_i85) {
          var elem86 = null;
          elem86 = input.readString().value;
          this.stringList.push(elem86);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Digest.prototype.write = function(output) {
  output.writeStructBegin('Digest');
  if (this.bytesValue !== null && this.bytesValue !== undefined) {
    output.writeFieldBegin('bytesValue', Thrift.Type.STRING, 1);
    output.writeBinary(this.bytesValue);
    output.writeFieldEnd();
  }
  if (this.int64Value !== null && this.int64Value !== undefined) {
    output.writeFieldBegin('int64Value', Thrift.Type.I64, 2);
    output.writeI64(this.int64Value);
    output.writeFieldEnd();
  }
  if (this.doubleValue !== null && this.doubleValue !== undefined) {
    output.writeFieldBegin('doubleValue', Thrift.Type.DOUBLE, 3);
    output.writeDouble(this.doubleValue);
    output.writeFieldEnd();
  }
  if (this.stringValue !== null && this.stringValue !== undefined) {
    output.writeFieldBegin('stringValue', Thrift.Type.STRING, 4);
    output.writeString(this.stringValue);
    output.writeFieldEnd();
  }
  if (this.int64List !== null && this.int64List !== undefined) {
    output.writeFieldBegin('int64List', Thrift.Type.LIST, 5);
    output.writeListBegin(Thrift.Type.I64, this.int64List.length);
    for (var iter87 in this.int64List) {
      if (this.int64List.hasOwnProperty(iter87)) {
        iter87 = this.int64List[iter87];
        output.writeI64(iter87);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.doubleList !== null && this.doubleList !== undefined) {
    output.writeFieldBegin('doubleList', Thrift.Type.LIST, 6);
    output.writeListBegin(Thrift.Type.DOUBLE, this.doubleList.length);
    for (var iter88 in this.doubleList) {
      if (this.doubleList.hasOwnProperty(iter88)) {
        iter88 = this.doubleList[iter88];
        output.writeDouble(iter88);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.stringList !== null && this.stringList !== undefined) {
    output.writeFieldBegin('stringList', Thrift.Type.LIST, 7);
    output.writeListBegin(Thrift.Type.STRING, this.stringList.length);
    for (var iter89 in this.stringList) {
      if (this.stringList.hasOwnProperty(iter89)) {
        iter89 = this.stringList[iter89];
        output.writeString(iter89);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotationMetadata = function(args) {
  this.tool = null;
  this.timestamp = null;
  this.digest = null;
  this.dependencies = null;
  this.kBest = 1;
  if (args) {
    if (args.tool !== undefined && args.tool !== null) {
      this.tool = args.tool;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field tool is unset!');
    }
    if (args.timestamp !== undefined && args.timestamp !== null) {
      this.timestamp = args.timestamp;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field timestamp is unset!');
    }
    if (args.digest !== undefined && args.digest !== null) {
      this.digest = new Digest(args.digest);
    }
    if (args.dependencies !== undefined && args.dependencies !== null) {
      this.dependencies = new TheoryDependencies(args.dependencies);
    }
    if (args.kBest !== undefined && args.kBest !== null) {
      this.kBest = args.kBest;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field kBest is unset!');
    }
  }
};
AnnotationMetadata.prototype = {};
AnnotationMetadata.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.tool = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I64) {
        this.timestamp = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.digest = new Digest();
        this.digest.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRUCT) {
        this.dependencies = new TheoryDependencies();
        this.dependencies.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.I32) {
        this.kBest = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotationMetadata.prototype.write = function(output) {
  output.writeStructBegin('AnnotationMetadata');
  if (this.tool !== null && this.tool !== undefined) {
    output.writeFieldBegin('tool', Thrift.Type.STRING, 1);
    output.writeString(this.tool);
    output.writeFieldEnd();
  }
  if (this.timestamp !== null && this.timestamp !== undefined) {
    output.writeFieldBegin('timestamp', Thrift.Type.I64, 2);
    output.writeI64(this.timestamp);
    output.writeFieldEnd();
  }
  if (this.digest !== null && this.digest !== undefined) {
    output.writeFieldBegin('digest', Thrift.Type.STRUCT, 4);
    this.digest.write(output);
    output.writeFieldEnd();
  }
  if (this.dependencies !== null && this.dependencies !== undefined) {
    output.writeFieldBegin('dependencies', Thrift.Type.STRUCT, 5);
    this.dependencies.write(output);
    output.writeFieldEnd();
  }
  if (this.kBest !== null && this.kBest !== undefined) {
    output.writeFieldBegin('kBest', Thrift.Type.I32, 6);
    output.writeI32(this.kBest);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

CommunicationMetadata = function(args) {
  this.tweetInfo = null;
  this.emailInfo = null;
  this.nitfInfo = null;
  if (args) {
    if (args.tweetInfo !== undefined && args.tweetInfo !== null) {
      this.tweetInfo = new TweetInfo(args.tweetInfo);
    }
    if (args.emailInfo !== undefined && args.emailInfo !== null) {
      this.emailInfo = new EmailCommunicationInfo(args.emailInfo);
    }
    if (args.nitfInfo !== undefined && args.nitfInfo !== null) {
      this.nitfInfo = new NITFInfo(args.nitfInfo);
    }
  }
};
CommunicationMetadata.prototype = {};
CommunicationMetadata.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.tweetInfo = new TweetInfo();
        this.tweetInfo.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.emailInfo = new EmailCommunicationInfo();
        this.emailInfo.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.nitfInfo = new NITFInfo();
        this.nitfInfo.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

CommunicationMetadata.prototype.write = function(output) {
  output.writeStructBegin('CommunicationMetadata');
  if (this.tweetInfo !== null && this.tweetInfo !== undefined) {
    output.writeFieldBegin('tweetInfo', Thrift.Type.STRUCT, 1);
    this.tweetInfo.write(output);
    output.writeFieldEnd();
  }
  if (this.emailInfo !== null && this.emailInfo !== undefined) {
    output.writeFieldBegin('emailInfo', Thrift.Type.STRUCT, 2);
    this.emailInfo.write(output);
    output.writeFieldEnd();
  }
  if (this.nitfInfo !== null && this.nitfInfo !== undefined) {
    output.writeFieldBegin('nitfInfo', Thrift.Type.STRUCT, 3);
    this.nitfInfo.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


NITFInfo = function(args) {
  this.alternateURL = null;
  this.articleAbstract = null;
  this.authorBiography = null;
  this.banner = null;
  this.biographicalCategoryList = null;
  this.columnName = null;
  this.columnNumber = null;
  this.correctionDate = null;
  this.correctionText = null;
  this.credit = null;
  this.dayOfWeek = null;
  this.descriptorList = null;
  this.featurePage = null;
  this.generalOnlineDescriptorList = null;
  this.guid = null;
  this.kicker = null;
  this.leadParagraphList = null;
  this.locationList = null;
  this.nameList = null;
  this.newsDesk = null;
  this.normalizedByline = null;
  this.onlineDescriptorList = null;
  this.onlineHeadline = null;
  this.onlineLeadParagraph = null;
  this.onlineLocationList = null;
  this.onlineOrganizationList = null;
  this.onlinePeople = null;
  this.onlineSectionList = null;
  this.onlineTitleList = null;
  this.organizationList = null;
  this.page = null;
  this.peopleList = null;
  this.publicationDate = null;
  this.publicationDayOfMonth = null;
  this.publicationMonth = null;
  this.publicationYear = null;
  this.section = null;
  this.seriesName = null;
  this.slug = null;
  this.taxonomicClassifierList = null;
  this.titleList = null;
  this.typesOfMaterialList = null;
  this.url = null;
  this.wordCount = null;
  if (args) {
    if (args.alternateURL !== undefined && args.alternateURL !== null) {
      this.alternateURL = args.alternateURL;
    }
    if (args.articleAbstract !== undefined && args.articleAbstract !== null) {
      this.articleAbstract = args.articleAbstract;
    }
    if (args.authorBiography !== undefined && args.authorBiography !== null) {
      this.authorBiography = args.authorBiography;
    }
    if (args.banner !== undefined && args.banner !== null) {
      this.banner = args.banner;
    }
    if (args.biographicalCategoryList !== undefined && args.biographicalCategoryList !== null) {
      this.biographicalCategoryList = Thrift.copyList(args.biographicalCategoryList, [null]);
    }
    if (args.columnName !== undefined && args.columnName !== null) {
      this.columnName = args.columnName;
    }
    if (args.columnNumber !== undefined && args.columnNumber !== null) {
      this.columnNumber = args.columnNumber;
    }
    if (args.correctionDate !== undefined && args.correctionDate !== null) {
      this.correctionDate = args.correctionDate;
    }
    if (args.correctionText !== undefined && args.correctionText !== null) {
      this.correctionText = args.correctionText;
    }
    if (args.credit !== undefined && args.credit !== null) {
      this.credit = args.credit;
    }
    if (args.dayOfWeek !== undefined && args.dayOfWeek !== null) {
      this.dayOfWeek = args.dayOfWeek;
    }
    if (args.descriptorList !== undefined && args.descriptorList !== null) {
      this.descriptorList = Thrift.copyList(args.descriptorList, [null]);
    }
    if (args.featurePage !== undefined && args.featurePage !== null) {
      this.featurePage = args.featurePage;
    }
    if (args.generalOnlineDescriptorList !== undefined && args.generalOnlineDescriptorList !== null) {
      this.generalOnlineDescriptorList = Thrift.copyList(args.generalOnlineDescriptorList, [null]);
    }
    if (args.guid !== undefined && args.guid !== null) {
      this.guid = args.guid;
    }
    if (args.kicker !== undefined && args.kicker !== null) {
      this.kicker = args.kicker;
    }
    if (args.leadParagraphList !== undefined && args.leadParagraphList !== null) {
      this.leadParagraphList = Thrift.copyList(args.leadParagraphList, [null]);
    }
    if (args.locationList !== undefined && args.locationList !== null) {
      this.locationList = Thrift.copyList(args.locationList, [null]);
    }
    if (args.nameList !== undefined && args.nameList !== null) {
      this.nameList = Thrift.copyList(args.nameList, [null]);
    }
    if (args.newsDesk !== undefined && args.newsDesk !== null) {
      this.newsDesk = args.newsDesk;
    }
    if (args.normalizedByline !== undefined && args.normalizedByline !== null) {
      this.normalizedByline = args.normalizedByline;
    }
    if (args.onlineDescriptorList !== undefined && args.onlineDescriptorList !== null) {
      this.onlineDescriptorList = Thrift.copyList(args.onlineDescriptorList, [null]);
    }
    if (args.onlineHeadline !== undefined && args.onlineHeadline !== null) {
      this.onlineHeadline = args.onlineHeadline;
    }
    if (args.onlineLeadParagraph !== undefined && args.onlineLeadParagraph !== null) {
      this.onlineLeadParagraph = args.onlineLeadParagraph;
    }
    if (args.onlineLocationList !== undefined && args.onlineLocationList !== null) {
      this.onlineLocationList = Thrift.copyList(args.onlineLocationList, [null]);
    }
    if (args.onlineOrganizationList !== undefined && args.onlineOrganizationList !== null) {
      this.onlineOrganizationList = Thrift.copyList(args.onlineOrganizationList, [null]);
    }
    if (args.onlinePeople !== undefined && args.onlinePeople !== null) {
      this.onlinePeople = Thrift.copyList(args.onlinePeople, [null]);
    }
    if (args.onlineSectionList !== undefined && args.onlineSectionList !== null) {
      this.onlineSectionList = Thrift.copyList(args.onlineSectionList, [null]);
    }
    if (args.onlineTitleList !== undefined && args.onlineTitleList !== null) {
      this.onlineTitleList = Thrift.copyList(args.onlineTitleList, [null]);
    }
    if (args.organizationList !== undefined && args.organizationList !== null) {
      this.organizationList = Thrift.copyList(args.organizationList, [null]);
    }
    if (args.page !== undefined && args.page !== null) {
      this.page = args.page;
    }
    if (args.peopleList !== undefined && args.peopleList !== null) {
      this.peopleList = Thrift.copyList(args.peopleList, [null]);
    }
    if (args.publicationDate !== undefined && args.publicationDate !== null) {
      this.publicationDate = args.publicationDate;
    }
    if (args.publicationDayOfMonth !== undefined && args.publicationDayOfMonth !== null) {
      this.publicationDayOfMonth = args.publicationDayOfMonth;
    }
    if (args.publicationMonth !== undefined && args.publicationMonth !== null) {
      this.publicationMonth = args.publicationMonth;
    }
    if (args.publicationYear !== undefined && args.publicationYear !== null) {
      this.publicationYear = args.publicationYear;
    }
    if (args.section !== undefined && args.section !== null) {
      this.section = args.section;
    }
    if (args.seriesName !== undefined && args.seriesName !== null) {
      this.seriesName = args.seriesName;
    }
    if (args.slug !== undefined && args.slug !== null) {
      this.slug = args.slug;
    }
    if (args.taxonomicClassifierList !== undefined && args.taxonomicClassifierList !== null) {
      this.taxonomicClassifierList = Thrift.copyList(args.taxonomicClassifierList, [null]);
    }
    if (args.titleList !== undefined && args.titleList !== null) {
      this.titleList = Thrift.copyList(args.titleList, [null]);
    }
    if (args.typesOfMaterialList !== undefined && args.typesOfMaterialList !== null) {
      this.typesOfMaterialList = Thrift.copyList(args.typesOfMaterialList, [null]);
    }
    if (args.url !== undefined && args.url !== null) {
      this.url = args.url;
    }
    if (args.wordCount !== undefined && args.wordCount !== null) {
      this.wordCount = args.wordCount;
    }
  }
};
NITFInfo.prototype = {};
NITFInfo.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.alternateURL = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.articleAbstract = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.authorBiography = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.banner = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.LIST) {
        this.biographicalCategoryList = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = input.readString().value;
          this.biographicalCategoryList.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRING) {
        this.columnName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.I32) {
        this.columnNumber = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.I64) {
        this.correctionDate = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 9:
      if (ftype == Thrift.Type.STRING) {
        this.correctionText = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 10:
      if (ftype == Thrift.Type.STRING) {
        this.credit = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 11:
      if (ftype == Thrift.Type.STRING) {
        this.dayOfWeek = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 12:
      if (ftype == Thrift.Type.LIST) {
        this.descriptorList = [];
        var _rtmp35 = input.readListBegin();
        var _size4 = _rtmp35.size || 0;
        for (var _i6 = 0; _i6 < _size4; ++_i6) {
          var elem7 = null;
          elem7 = input.readString().value;
          this.descriptorList.push(elem7);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 13:
      if (ftype == Thrift.Type.STRING) {
        this.featurePage = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 14:
      if (ftype == Thrift.Type.LIST) {
        this.generalOnlineDescriptorList = [];
        var _rtmp39 = input.readListBegin();
        var _size8 = _rtmp39.size || 0;
        for (var _i10 = 0; _i10 < _size8; ++_i10) {
          var elem11 = null;
          elem11 = input.readString().value;
          this.generalOnlineDescriptorList.push(elem11);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 15:
      if (ftype == Thrift.Type.I32) {
        this.guid = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 16:
      if (ftype == Thrift.Type.STRING) {
        this.kicker = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 17:
      if (ftype == Thrift.Type.LIST) {
        this.leadParagraphList = [];
        var _rtmp313 = input.readListBegin();
        var _size12 = _rtmp313.size || 0;
        for (var _i14 = 0; _i14 < _size12; ++_i14) {
          var elem15 = null;
          elem15 = input.readString().value;
          this.leadParagraphList.push(elem15);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 18:
      if (ftype == Thrift.Type.LIST) {
        this.locationList = [];
        var _rtmp317 = input.readListBegin();
        var _size16 = _rtmp317.size || 0;
        for (var _i18 = 0; _i18 < _size16; ++_i18) {
          var elem19 = null;
          elem19 = input.readString().value;
          this.locationList.push(elem19);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 19:
      if (ftype == Thrift.Type.LIST) {
        this.nameList = [];
        var _rtmp321 = input.readListBegin();
        var _size20 = _rtmp321.size || 0;
        for (var _i22 = 0; _i22 < _size20; ++_i22) {
          var elem23 = null;
          elem23 = input.readString().value;
          this.nameList.push(elem23);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 20:
      if (ftype == Thrift.Type.STRING) {
        this.newsDesk = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 21:
      if (ftype == Thrift.Type.STRING) {
        this.normalizedByline = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 22:
      if (ftype == Thrift.Type.LIST) {
        this.onlineDescriptorList = [];
        var _rtmp325 = input.readListBegin();
        var _size24 = _rtmp325.size || 0;
        for (var _i26 = 0; _i26 < _size24; ++_i26) {
          var elem27 = null;
          elem27 = input.readString().value;
          this.onlineDescriptorList.push(elem27);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 23:
      if (ftype == Thrift.Type.STRING) {
        this.onlineHeadline = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 24:
      if (ftype == Thrift.Type.STRING) {
        this.onlineLeadParagraph = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 25:
      if (ftype == Thrift.Type.LIST) {
        this.onlineLocationList = [];
        var _rtmp329 = input.readListBegin();
        var _size28 = _rtmp329.size || 0;
        for (var _i30 = 0; _i30 < _size28; ++_i30) {
          var elem31 = null;
          elem31 = input.readString().value;
          this.onlineLocationList.push(elem31);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 26:
      if (ftype == Thrift.Type.LIST) {
        this.onlineOrganizationList = [];
        var _rtmp333 = input.readListBegin();
        var _size32 = _rtmp333.size || 0;
        for (var _i34 = 0; _i34 < _size32; ++_i34) {
          var elem35 = null;
          elem35 = input.readString().value;
          this.onlineOrganizationList.push(elem35);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 27:
      if (ftype == Thrift.Type.LIST) {
        this.onlinePeople = [];
        var _rtmp337 = input.readListBegin();
        var _size36 = _rtmp337.size || 0;
        for (var _i38 = 0; _i38 < _size36; ++_i38) {
          var elem39 = null;
          elem39 = input.readString().value;
          this.onlinePeople.push(elem39);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 28:
      if (ftype == Thrift.Type.LIST) {
        this.onlineSectionList = [];
        var _rtmp341 = input.readListBegin();
        var _size40 = _rtmp341.size || 0;
        for (var _i42 = 0; _i42 < _size40; ++_i42) {
          var elem43 = null;
          elem43 = input.readString().value;
          this.onlineSectionList.push(elem43);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 29:
      if (ftype == Thrift.Type.LIST) {
        this.onlineTitleList = [];
        var _rtmp345 = input.readListBegin();
        var _size44 = _rtmp345.size || 0;
        for (var _i46 = 0; _i46 < _size44; ++_i46) {
          var elem47 = null;
          elem47 = input.readString().value;
          this.onlineTitleList.push(elem47);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 30:
      if (ftype == Thrift.Type.LIST) {
        this.organizationList = [];
        var _rtmp349 = input.readListBegin();
        var _size48 = _rtmp349.size || 0;
        for (var _i50 = 0; _i50 < _size48; ++_i50) {
          var elem51 = null;
          elem51 = input.readString().value;
          this.organizationList.push(elem51);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 31:
      if (ftype == Thrift.Type.I32) {
        this.page = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 32:
      if (ftype == Thrift.Type.LIST) {
        this.peopleList = [];
        var _rtmp353 = input.readListBegin();
        var _size52 = _rtmp353.size || 0;
        for (var _i54 = 0; _i54 < _size52; ++_i54) {
          var elem55 = null;
          elem55 = input.readString().value;
          this.peopleList.push(elem55);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 33:
      if (ftype == Thrift.Type.I64) {
        this.publicationDate = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 34:
      if (ftype == Thrift.Type.I32) {
        this.publicationDayOfMonth = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 35:
      if (ftype == Thrift.Type.I32) {
        this.publicationMonth = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 36:
      if (ftype == Thrift.Type.I32) {
        this.publicationYear = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 37:
      if (ftype == Thrift.Type.STRING) {
        this.section = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 38:
      if (ftype == Thrift.Type.STRING) {
        this.seriesName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 39:
      if (ftype == Thrift.Type.STRING) {
        this.slug = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 40:
      if (ftype == Thrift.Type.LIST) {
        this.taxonomicClassifierList = [];
        var _rtmp357 = input.readListBegin();
        var _size56 = _rtmp357.size || 0;
        for (var _i58 = 0; _i58 < _size56; ++_i58) {
          var elem59 = null;
          elem59 = input.readString().value;
          this.taxonomicClassifierList.push(elem59);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 41:
      if (ftype == Thrift.Type.LIST) {
        this.titleList = [];
        var _rtmp361 = input.readListBegin();
        var _size60 = _rtmp361.size || 0;
        for (var _i62 = 0; _i62 < _size60; ++_i62) {
          var elem63 = null;
          elem63 = input.readString().value;
          this.titleList.push(elem63);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 42:
      if (ftype == Thrift.Type.LIST) {
        this.typesOfMaterialList = [];
        var _rtmp365 = input.readListBegin();
        var _size64 = _rtmp365.size || 0;
        for (var _i66 = 0; _i66 < _size64; ++_i66) {
          var elem67 = null;
          elem67 = input.readString().value;
          this.typesOfMaterialList.push(elem67);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 43:
      if (ftype == Thrift.Type.STRING) {
        this.url = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 44:
      if (ftype == Thrift.Type.I32) {
        this.wordCount = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

NITFInfo.prototype.write = function(output) {
  output.writeStructBegin('NITFInfo');
  if (this.alternateURL !== null && this.alternateURL !== undefined) {
    output.writeFieldBegin('alternateURL', Thrift.Type.STRING, 1);
    output.writeString(this.alternateURL);
    output.writeFieldEnd();
  }
  if (this.articleAbstract !== null && this.articleAbstract !== undefined) {
    output.writeFieldBegin('articleAbstract', Thrift.Type.STRING, 2);
    output.writeString(this.articleAbstract);
    output.writeFieldEnd();
  }
  if (this.authorBiography !== null && this.authorBiography !== undefined) {
    output.writeFieldBegin('authorBiography', Thrift.Type.STRING, 3);
    output.writeString(this.authorBiography);
    output.writeFieldEnd();
  }
  if (this.banner !== null && this.banner !== undefined) {
    output.writeFieldBegin('banner', Thrift.Type.STRING, 4);
    output.writeString(this.banner);
    output.writeFieldEnd();
  }
  if (this.biographicalCategoryList !== null && this.biographicalCategoryList !== undefined) {
    output.writeFieldBegin('biographicalCategoryList', Thrift.Type.LIST, 5);
    output.writeListBegin(Thrift.Type.STRING, this.biographicalCategoryList.length);
    for (var iter68 in this.biographicalCategoryList) {
      if (this.biographicalCategoryList.hasOwnProperty(iter68)) {
        iter68 = this.biographicalCategoryList[iter68];
        output.writeString(iter68);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.columnName !== null && this.columnName !== undefined) {
    output.writeFieldBegin('columnName', Thrift.Type.STRING, 6);
    output.writeString(this.columnName);
    output.writeFieldEnd();
  }
  if (this.columnNumber !== null && this.columnNumber !== undefined) {
    output.writeFieldBegin('columnNumber', Thrift.Type.I32, 7);
    output.writeI32(this.columnNumber);
    output.writeFieldEnd();
  }
  if (this.correctionDate !== null && this.correctionDate !== undefined) {
    output.writeFieldBegin('correctionDate', Thrift.Type.I64, 8);
    output.writeI64(this.correctionDate);
    output.writeFieldEnd();
  }
  if (this.correctionText !== null && this.correctionText !== undefined) {
    output.writeFieldBegin('correctionText', Thrift.Type.STRING, 9);
    output.writeString(this.correctionText);
    output.writeFieldEnd();
  }
  if (this.credit !== null && this.credit !== undefined) {
    output.writeFieldBegin('credit', Thrift.Type.STRING, 10);
    output.writeString(this.credit);
    output.writeFieldEnd();
  }
  if (this.dayOfWeek !== null && this.dayOfWeek !== undefined) {
    output.writeFieldBegin('dayOfWeek', Thrift.Type.STRING, 11);
    output.writeString(this.dayOfWeek);
    output.writeFieldEnd();
  }
  if (this.descriptorList !== null && this.descriptorList !== undefined) {
    output.writeFieldBegin('descriptorList', Thrift.Type.LIST, 12);
    output.writeListBegin(Thrift.Type.STRING, this.descriptorList.length);
    for (var iter69 in this.descriptorList) {
      if (this.descriptorList.hasOwnProperty(iter69)) {
        iter69 = this.descriptorList[iter69];
        output.writeString(iter69);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.featurePage !== null && this.featurePage !== undefined) {
    output.writeFieldBegin('featurePage', Thrift.Type.STRING, 13);
    output.writeString(this.featurePage);
    output.writeFieldEnd();
  }
  if (this.generalOnlineDescriptorList !== null && this.generalOnlineDescriptorList !== undefined) {
    output.writeFieldBegin('generalOnlineDescriptorList', Thrift.Type.LIST, 14);
    output.writeListBegin(Thrift.Type.STRING, this.generalOnlineDescriptorList.length);
    for (var iter70 in this.generalOnlineDescriptorList) {
      if (this.generalOnlineDescriptorList.hasOwnProperty(iter70)) {
        iter70 = this.generalOnlineDescriptorList[iter70];
        output.writeString(iter70);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.guid !== null && this.guid !== undefined) {
    output.writeFieldBegin('guid', Thrift.Type.I32, 15);
    output.writeI32(this.guid);
    output.writeFieldEnd();
  }
  if (this.kicker !== null && this.kicker !== undefined) {
    output.writeFieldBegin('kicker', Thrift.Type.STRING, 16);
    output.writeString(this.kicker);
    output.writeFieldEnd();
  }
  if (this.leadParagraphList !== null && this.leadParagraphList !== undefined) {
    output.writeFieldBegin('leadParagraphList', Thrift.Type.LIST, 17);
    output.writeListBegin(Thrift.Type.STRING, this.leadParagraphList.length);
    for (var iter71 in this.leadParagraphList) {
      if (this.leadParagraphList.hasOwnProperty(iter71)) {
        iter71 = this.leadParagraphList[iter71];
        output.writeString(iter71);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.locationList !== null && this.locationList !== undefined) {
    output.writeFieldBegin('locationList', Thrift.Type.LIST, 18);
    output.writeListBegin(Thrift.Type.STRING, this.locationList.length);
    for (var iter72 in this.locationList) {
      if (this.locationList.hasOwnProperty(iter72)) {
        iter72 = this.locationList[iter72];
        output.writeString(iter72);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.nameList !== null && this.nameList !== undefined) {
    output.writeFieldBegin('nameList', Thrift.Type.LIST, 19);
    output.writeListBegin(Thrift.Type.STRING, this.nameList.length);
    for (var iter73 in this.nameList) {
      if (this.nameList.hasOwnProperty(iter73)) {
        iter73 = this.nameList[iter73];
        output.writeString(iter73);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.newsDesk !== null && this.newsDesk !== undefined) {
    output.writeFieldBegin('newsDesk', Thrift.Type.STRING, 20);
    output.writeString(this.newsDesk);
    output.writeFieldEnd();
  }
  if (this.normalizedByline !== null && this.normalizedByline !== undefined) {
    output.writeFieldBegin('normalizedByline', Thrift.Type.STRING, 21);
    output.writeString(this.normalizedByline);
    output.writeFieldEnd();
  }
  if (this.onlineDescriptorList !== null && this.onlineDescriptorList !== undefined) {
    output.writeFieldBegin('onlineDescriptorList', Thrift.Type.LIST, 22);
    output.writeListBegin(Thrift.Type.STRING, this.onlineDescriptorList.length);
    for (var iter74 in this.onlineDescriptorList) {
      if (this.onlineDescriptorList.hasOwnProperty(iter74)) {
        iter74 = this.onlineDescriptorList[iter74];
        output.writeString(iter74);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.onlineHeadline !== null && this.onlineHeadline !== undefined) {
    output.writeFieldBegin('onlineHeadline', Thrift.Type.STRING, 23);
    output.writeString(this.onlineHeadline);
    output.writeFieldEnd();
  }
  if (this.onlineLeadParagraph !== null && this.onlineLeadParagraph !== undefined) {
    output.writeFieldBegin('onlineLeadParagraph', Thrift.Type.STRING, 24);
    output.writeString(this.onlineLeadParagraph);
    output.writeFieldEnd();
  }
  if (this.onlineLocationList !== null && this.onlineLocationList !== undefined) {
    output.writeFieldBegin('onlineLocationList', Thrift.Type.LIST, 25);
    output.writeListBegin(Thrift.Type.STRING, this.onlineLocationList.length);
    for (var iter75 in this.onlineLocationList) {
      if (this.onlineLocationList.hasOwnProperty(iter75)) {
        iter75 = this.onlineLocationList[iter75];
        output.writeString(iter75);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.onlineOrganizationList !== null && this.onlineOrganizationList !== undefined) {
    output.writeFieldBegin('onlineOrganizationList', Thrift.Type.LIST, 26);
    output.writeListBegin(Thrift.Type.STRING, this.onlineOrganizationList.length);
    for (var iter76 in this.onlineOrganizationList) {
      if (this.onlineOrganizationList.hasOwnProperty(iter76)) {
        iter76 = this.onlineOrganizationList[iter76];
        output.writeString(iter76);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.onlinePeople !== null && this.onlinePeople !== undefined) {
    output.writeFieldBegin('onlinePeople', Thrift.Type.LIST, 27);
    output.writeListBegin(Thrift.Type.STRING, this.onlinePeople.length);
    for (var iter77 in this.onlinePeople) {
      if (this.onlinePeople.hasOwnProperty(iter77)) {
        iter77 = this.onlinePeople[iter77];
        output.writeString(iter77);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.onlineSectionList !== null && this.onlineSectionList !== undefined) {
    output.writeFieldBegin('onlineSectionList', Thrift.Type.LIST, 28);
    output.writeListBegin(Thrift.Type.STRING, this.onlineSectionList.length);
    for (var iter78 in this.onlineSectionList) {
      if (this.onlineSectionList.hasOwnProperty(iter78)) {
        iter78 = this.onlineSectionList[iter78];
        output.writeString(iter78);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.onlineTitleList !== null && this.onlineTitleList !== undefined) {
    output.writeFieldBegin('onlineTitleList', Thrift.Type.LIST, 29);
    output.writeListBegin(Thrift.Type.STRING, this.onlineTitleList.length);
    for (var iter79 in this.onlineTitleList) {
      if (this.onlineTitleList.hasOwnProperty(iter79)) {
        iter79 = this.onlineTitleList[iter79];
        output.writeString(iter79);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.organizationList !== null && this.organizationList !== undefined) {
    output.writeFieldBegin('organizationList', Thrift.Type.LIST, 30);
    output.writeListBegin(Thrift.Type.STRING, this.organizationList.length);
    for (var iter80 in this.organizationList) {
      if (this.organizationList.hasOwnProperty(iter80)) {
        iter80 = this.organizationList[iter80];
        output.writeString(iter80);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.page !== null && this.page !== undefined) {
    output.writeFieldBegin('page', Thrift.Type.I32, 31);
    output.writeI32(this.page);
    output.writeFieldEnd();
  }
  if (this.peopleList !== null && this.peopleList !== undefined) {
    output.writeFieldBegin('peopleList', Thrift.Type.LIST, 32);
    output.writeListBegin(Thrift.Type.STRING, this.peopleList.length);
    for (var iter81 in this.peopleList) {
      if (this.peopleList.hasOwnProperty(iter81)) {
        iter81 = this.peopleList[iter81];
        output.writeString(iter81);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.publicationDate !== null && this.publicationDate !== undefined) {
    output.writeFieldBegin('publicationDate', Thrift.Type.I64, 33);
    output.writeI64(this.publicationDate);
    output.writeFieldEnd();
  }
  if (this.publicationDayOfMonth !== null && this.publicationDayOfMonth !== undefined) {
    output.writeFieldBegin('publicationDayOfMonth', Thrift.Type.I32, 34);
    output.writeI32(this.publicationDayOfMonth);
    output.writeFieldEnd();
  }
  if (this.publicationMonth !== null && this.publicationMonth !== undefined) {
    output.writeFieldBegin('publicationMonth', Thrift.Type.I32, 35);
    output.writeI32(this.publicationMonth);
    output.writeFieldEnd();
  }
  if (this.publicationYear !== null && this.publicationYear !== undefined) {
    output.writeFieldBegin('publicationYear', Thrift.Type.I32, 36);
    output.writeI32(this.publicationYear);
    output.writeFieldEnd();
  }
  if (this.section !== null && this.section !== undefined) {
    output.writeFieldBegin('section', Thrift.Type.STRING, 37);
    output.writeString(this.section);
    output.writeFieldEnd();
  }
  if (this.seriesName !== null && this.seriesName !== undefined) {
    output.writeFieldBegin('seriesName', Thrift.Type.STRING, 38);
    output.writeString(this.seriesName);
    output.writeFieldEnd();
  }
  if (this.slug !== null && this.slug !== undefined) {
    output.writeFieldBegin('slug', Thrift.Type.STRING, 39);
    output.writeString(this.slug);
    output.writeFieldEnd();
  }
  if (this.taxonomicClassifierList !== null && this.taxonomicClassifierList !== undefined) {
    output.writeFieldBegin('taxonomicClassifierList', Thrift.Type.LIST, 40);
    output.writeListBegin(Thrift.Type.STRING, this.taxonomicClassifierList.length);
    for (var iter82 in this.taxonomicClassifierList) {
      if (this.taxonomicClassifierList.hasOwnProperty(iter82)) {
        iter82 = this.taxonomicClassifierList[iter82];
        output.writeString(iter82);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.titleList !== null && this.titleList !== undefined) {
    output.writeFieldBegin('titleList', Thrift.Type.LIST, 41);
    output.writeListBegin(Thrift.Type.STRING, this.titleList.length);
    for (var iter83 in this.titleList) {
      if (this.titleList.hasOwnProperty(iter83)) {
        iter83 = this.titleList[iter83];
        output.writeString(iter83);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.typesOfMaterialList !== null && this.typesOfMaterialList !== undefined) {
    output.writeFieldBegin('typesOfMaterialList', Thrift.Type.LIST, 42);
    output.writeListBegin(Thrift.Type.STRING, this.typesOfMaterialList.length);
    for (var iter84 in this.typesOfMaterialList) {
      if (this.typesOfMaterialList.hasOwnProperty(iter84)) {
        iter84 = this.typesOfMaterialList[iter84];
        output.writeString(iter84);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.url !== null && this.url !== undefined) {
    output.writeFieldBegin('url', Thrift.Type.STRING, 43);
    output.writeString(this.url);
    output.writeFieldEnd();
  }
  if (this.wordCount !== null && this.wordCount !== undefined) {
    output.writeFieldBegin('wordCount', Thrift.Type.I32, 44);
    output.writeI32(this.wordCount);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


Property = function(args) {
  this.value = null;
  this.metadata = null;
  this.polarity = null;
  if (args) {
    if (args.value !== undefined && args.value !== null) {
      this.value = args.value;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field value is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.polarity !== undefined && args.polarity !== null) {
      this.polarity = args.polarity;
    }
  }
};
Property.prototype = {};
Property.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.value = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.DOUBLE) {
        this.polarity = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Property.prototype.write = function(output) {
  output.writeStructBegin('Property');
  if (this.value !== null && this.value !== undefined) {
    output.writeFieldBegin('value', Thrift.Type.STRING, 1);
    output.writeString(this.value);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.polarity !== null && this.polarity !== undefined) {
    output.writeFieldBegin('polarity', Thrift.Type.DOUBLE, 3);
    output.writeDouble(this.polarity);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

ResultsServerService_registerSearchResult_args = function(args) {
  this.result = null;
  this.taskType = null;
  if (args) {
    if (args.result !== undefined && args.result !== null) {
      this.result = new SearchResult(args.result);
    }
    if (args.taskType !== undefined && args.taskType !== null) {
      this.taskType = args.taskType;
    }
  }
};
ResultsServerService_registerSearchResult_args.prototype = {};
ResultsServerService_registerSearchResult_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.result = new SearchResult();
        this.result.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.taskType = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_registerSearchResult_args.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_registerSearchResult_args');
  if (this.result !== null && this.result !== undefined) {
    output.writeFieldBegin('result', Thrift.Type.STRUCT, 1);
    this.result.write(output);
    output.writeFieldEnd();
  }
  if (this.taskType !== null && this.taskType !== undefined) {
    output.writeFieldBegin('taskType', Thrift.Type.I32, 2);
    output.writeI32(this.taskType);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_registerSearchResult_result = function(args) {
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
ResultsServerService_registerSearchResult_result.prototype = {};
ResultsServerService_registerSearchResult_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_registerSearchResult_result.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_registerSearchResult_result');
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_getSearchResults_args = function(args) {
  this.taskType = null;
  this.limit = null;
  if (args) {
    if (args.taskType !== undefined && args.taskType !== null) {
      this.taskType = args.taskType;
    }
    if (args.limit !== undefined && args.limit !== null) {
      this.limit = args.limit;
    }
  }
};
ResultsServerService_getSearchResults_args.prototype = {};
ResultsServerService_getSearchResults_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.taskType = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.limit = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_getSearchResults_args.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_getSearchResults_args');
  if (this.taskType !== null && this.taskType !== undefined) {
    output.writeFieldBegin('taskType', Thrift.Type.I32, 1);
    output.writeI32(this.taskType);
    output.writeFieldEnd();
  }
  if (this.limit !== null && this.limit !== undefined) {
    output.writeFieldBegin('limit', Thrift.Type.I32, 2);
    output.writeI32(this.limit);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_getSearchResults_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [SearchResult]);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
ResultsServerService_getSearchResults_result.prototype = {};
ResultsServerService_getSearchResults_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        this.success = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = new SearchResult();
          elem3.read(input);
          this.success.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_getSearchResults_result.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_getSearchResults_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter4 in this.success) {
      if (this.success.hasOwnProperty(iter4)) {
        iter4 = this.success[iter4];
        iter4.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_getSearchResultsByUser_args = function(args) {
  this.taskType = null;
  this.userId = null;
  this.limit = null;
  if (args) {
    if (args.taskType !== undefined && args.taskType !== null) {
      this.taskType = args.taskType;
    }
    if (args.userId !== undefined && args.userId !== null) {
      this.userId = args.userId;
    }
    if (args.limit !== undefined && args.limit !== null) {
      this.limit = args.limit;
    }
  }
};
ResultsServerService_getSearchResultsByUser_args.prototype = {};
ResultsServerService_getSearchResultsByUser_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.taskType = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.userId = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.limit = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_getSearchResultsByUser_args.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_getSearchResultsByUser_args');
  if (this.taskType !== null && this.taskType !== undefined) {
    output.writeFieldBegin('taskType', Thrift.Type.I32, 1);
    output.writeI32(this.taskType);
    output.writeFieldEnd();
  }
  if (this.userId !== null && this.userId !== undefined) {
    output.writeFieldBegin('userId', Thrift.Type.STRING, 2);
    output.writeString(this.userId);
    output.writeFieldEnd();
  }
  if (this.limit !== null && this.limit !== undefined) {
    output.writeFieldBegin('limit', Thrift.Type.I32, 3);
    output.writeI32(this.limit);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_getSearchResultsByUser_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [SearchResult]);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
ResultsServerService_getSearchResultsByUser_result.prototype = {};
ResultsServerService_getSearchResultsByUser_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        this.success = [];
        var _rtmp36 = input.readListBegin();
        var _size5 = _rtmp36.size || 0;
        for (var _i7 = 0; _i7 < _size5; ++_i7) {
          var elem8 = null;
          elem8 = new SearchResult();
          elem8.read(input);
          this.success.push(elem8);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_getSearchResultsByUser_result.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_getSearchResultsByUser_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter9 in this.success) {
      if (this.success.hasOwnProperty(iter9)) {
        iter9 = this.success[iter9];
        iter9.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_getLatestSearchResult_args = function(args) {
  this.userId = null;
  if (args) {
    if (args.userId !== undefined && args.userId !== null) {
      this.userId = args.userId;
    }
  }
};
ResultsServerService_getLatestSearchResult_args.prototype = {};
ResultsServerService_getLatestSearchResult_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.userId = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_getLatestSearchResult_args.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_getLatestSearchResult_args');
  if (this.userId !== null && this.userId !== undefined) {
    output.writeFieldBegin('userId', Thrift.Type.STRING, 1);
    output.writeString(this.userId);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_getLatestSearchResult_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new SearchResult(args.success);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
ResultsServerService_getLatestSearchResult_result.prototype = {};
ResultsServerService_getLatestSearchResult_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new SearchResult();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_getLatestSearchResult_result.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_getLatestSearchResult_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_getSearchResult_args = function(args) {
  this.searchResultId = null;
  if (args) {
    if (args.searchResultId !== undefined && args.searchResultId !== null) {
      this.searchResultId = new UUID(args.searchResultId);
    }
  }
};
ResultsServerService_getSearchResult_args.prototype = {};
ResultsServerService_getSearchResult_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.searchResultId = new UUID();
        this.searchResultId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_getSearchResult_args.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_getSearchResult_args');
  if (this.searchResultId !== null && this.searchResultId !== undefined) {
    output.writeFieldBegin('searchResultId', Thrift.Type.STRUCT, 1);
    this.searchResultId.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_getSearchResult_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new SearchResult(args.success);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
ResultsServerService_getSearchResult_result.prototype = {};
ResultsServerService_getSearchResult_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new SearchResult();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_getSearchResult_result.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_getSearchResult_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_startSession_args = function(args) {
  this.searchResultId = null;
  this.taskType = null;
  if (args) {
    if (args.searchResultId !== undefined && args.searchResultId !== null) {
      this.searchResultId = new UUID(args.searchResultId);
    }
    if (args.taskType !== undefined && args.taskType !== null) {
      this.taskType = args.taskType;
    }
  }
};
ResultsServerService_startSession_args.prototype = {};
ResultsServerService_startSession_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.searchResultId = new UUID();
        this.searchResultId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.taskType = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_startSession_args.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_startSession_args');
  if (this.searchResultId !== null && this.searchResultId !== undefined) {
    output.writeFieldBegin('searchResultId', Thrift.Type.STRUCT, 1);
    this.searchResultId.write(output);
    output.writeFieldEnd();
  }
  if (this.taskType !== null && this.taskType !== undefined) {
    output.writeFieldBegin('taskType', Thrift.Type.I32, 2);
    output.writeI32(this.taskType);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_startSession_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new UUID(args.success);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
ResultsServerService_startSession_result.prototype = {};
ResultsServerService_startSession_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new UUID();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_startSession_result.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_startSession_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_stopSession_args = function(args) {
  this.sessionId = null;
  if (args) {
    if (args.sessionId !== undefined && args.sessionId !== null) {
      this.sessionId = new UUID(args.sessionId);
    }
  }
};
ResultsServerService_stopSession_args.prototype = {};
ResultsServerService_stopSession_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.sessionId = new UUID();
        this.sessionId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_stopSession_args.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_stopSession_args');
  if (this.sessionId !== null && this.sessionId !== undefined) {
    output.writeFieldBegin('sessionId', Thrift.Type.STRUCT, 1);
    this.sessionId.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_stopSession_result = function(args) {
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
ResultsServerService_stopSession_result.prototype = {};
ResultsServerService_stopSession_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_stopSession_result.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_stopSession_result');
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_getNextChunk_args = function(args) {
  this.sessionId = null;
  if (args) {
    if (args.sessionId !== undefined && args.sessionId !== null) {
      this.sessionId = new UUID(args.sessionId);
    }
  }
};
ResultsServerService_getNextChunk_args.prototype = {};
ResultsServerService_getNextChunk_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.sessionId = new UUID();
        this.sessionId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_getNextChunk_args.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_getNextChunk_args');
  if (this.sessionId !== null && this.sessionId !== undefined) {
    output.writeFieldBegin('sessionId', Thrift.Type.STRUCT, 1);
    this.sessionId.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_getNextChunk_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [AnnotationUnitIdentifier]);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
ResultsServerService_getNextChunk_result.prototype = {};
ResultsServerService_getNextChunk_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        this.success = [];
        var _rtmp311 = input.readListBegin();
        var _size10 = _rtmp311.size || 0;
        for (var _i12 = 0; _i12 < _size10; ++_i12) {
          var elem13 = null;
          elem13 = new AnnotationUnitIdentifier();
          elem13.read(input);
          this.success.push(elem13);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_getNextChunk_result.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_getNextChunk_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter14 in this.success) {
      if (this.success.hasOwnProperty(iter14)) {
        iter14 = this.success[iter14];
        iter14.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_submitAnnotation_args = function(args) {
  this.sessionId = null;
  this.unitId = null;
  this.communication = null;
  if (args) {
    if (args.sessionId !== undefined && args.sessionId !== null) {
      this.sessionId = new UUID(args.sessionId);
    }
    if (args.unitId !== undefined && args.unitId !== null) {
      this.unitId = new AnnotationUnitIdentifier(args.unitId);
    }
    if (args.communication !== undefined && args.communication !== null) {
      this.communication = new Communication(args.communication);
    }
  }
};
ResultsServerService_submitAnnotation_args.prototype = {};
ResultsServerService_submitAnnotation_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.sessionId = new UUID();
        this.sessionId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.unitId = new AnnotationUnitIdentifier();
        this.unitId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.communication = new Communication();
        this.communication.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_submitAnnotation_args.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_submitAnnotation_args');
  if (this.sessionId !== null && this.sessionId !== undefined) {
    output.writeFieldBegin('sessionId', Thrift.Type.STRUCT, 1);
    this.sessionId.write(output);
    output.writeFieldEnd();
  }
  if (this.unitId !== null && this.unitId !== undefined) {
    output.writeFieldBegin('unitId', Thrift.Type.STRUCT, 2);
    this.unitId.write(output);
    output.writeFieldEnd();
  }
  if (this.communication !== null && this.communication !== undefined) {
    output.writeFieldBegin('communication', Thrift.Type.STRUCT, 3);
    this.communication.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerService_submitAnnotation_result = function(args) {
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
ResultsServerService_submitAnnotation_result.prototype = {};
ResultsServerService_submitAnnotation_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ResultsServerService_submitAnnotation_result.prototype.write = function(output) {
  output.writeStructBegin('ResultsServerService_submitAnnotation_result');
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ResultsServerServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(ResultsServerServiceClient, ServiceClient);

ResultsServerServiceClient.prototype.registerSearchResult = function(result, taskType, callback) {
  if (callback === undefined) {
    this.send_registerSearchResult(result, taskType);
    this.recv_registerSearchResult();
  } else {
    var postData = this.send_registerSearchResult(result, taskType, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_registerSearchResult);
  }
};

ResultsServerServiceClient.prototype.send_registerSearchResult = function(result, taskType, callback) {
  var params = {
    result: result,
    taskType: taskType
  };
  var args = new ResultsServerService_registerSearchResult_args(params);
  try {
    this.output.writeMessageBegin('registerSearchResult', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ResultsServerServiceClient.prototype.recv_registerSearchResult = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ResultsServerService_registerSearchResult_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  return;
};

ResultsServerServiceClient.prototype.getSearchResults = function(taskType, limit, callback) {
  if (callback === undefined) {
    this.send_getSearchResults(taskType, limit);
    return this.recv_getSearchResults();
  } else {
    var postData = this.send_getSearchResults(taskType, limit, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getSearchResults);
  }
};

ResultsServerServiceClient.prototype.send_getSearchResults = function(taskType, limit, callback) {
  var params = {
    taskType: taskType,
    limit: limit
  };
  var args = new ResultsServerService_getSearchResults_args(params);
  try {
    this.output.writeMessageBegin('getSearchResults', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ResultsServerServiceClient.prototype.recv_getSearchResults = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ResultsServerService_getSearchResults_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getSearchResults failed: unknown result';
};

ResultsServerServiceClient.prototype.getSearchResultsByUser = function(taskType, userId, limit, callback) {
  if (callback === undefined) {
    this.send_getSearchResultsByUser(taskType, userId, limit);
    return this.recv_getSearchResultsByUser();
  } else {
    var postData = this.send_getSearchResultsByUser(taskType, userId, limit, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getSearchResultsByUser);
  }
};

ResultsServerServiceClient.prototype.send_getSearchResultsByUser = function(taskType, userId, limit, callback) {
  var params = {
    taskType: taskType,
    userId: userId,
    limit: limit
  };
  var args = new ResultsServerService_getSearchResultsByUser_args(params);
  try {
    this.output.writeMessageBegin('getSearchResultsByUser', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ResultsServerServiceClient.prototype.recv_getSearchResultsByUser = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ResultsServerService_getSearchResultsByUser_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getSearchResultsByUser failed: unknown result';
};

ResultsServerServiceClient.prototype.getLatestSearchResult = function(userId, callback) {
  if (callback === undefined) {
    this.send_getLatestSearchResult(userId);
    return this.recv_getLatestSearchResult();
  } else {
    var postData = this.send_getLatestSearchResult(userId, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getLatestSearchResult);
  }
};

ResultsServerServiceClient.prototype.send_getLatestSearchResult = function(userId, callback) {
  var params = {
    userId: userId
  };
  var args = new ResultsServerService_getLatestSearchResult_args(params);
  try {
    this.output.writeMessageBegin('getLatestSearchResult', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ResultsServerServiceClient.prototype.recv_getLatestSearchResult = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ResultsServerService_getLatestSearchResult_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getLatestSearchResult failed: unknown result';
};

ResultsServerServiceClient.prototype.getSearchResult = function(searchResultId, callback) {
  if (callback === undefined) {
    this.send_getSearchResult(searchResultId);
    return this.recv_getSearchResult();
  } else {
    var postData = this.send_getSearchResult(searchResultId, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getSearchResult);
  }
};

ResultsServerServiceClient.prototype.send_getSearchResult = function(searchResultId, callback) {
  var params = {
    searchResultId: searchResultId
  };
  var args = new ResultsServerService_getSearchResult_args(params);
  try {
    this.output.writeMessageBegin('getSearchResult', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ResultsServerServiceClient.prototype.recv_getSearchResult = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ResultsServerService_getSearchResult_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getSearchResult failed: unknown result';
};

ResultsServerServiceClient.prototype.startSession = function(searchResultId, taskType, callback) {
  if (callback === undefined) {
    this.send_startSession(searchResultId, taskType);
    return this.recv_startSession();
  } else {
    var postData = this.send_startSession(searchResultId, taskType, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_startSession);
  }
};

ResultsServerServiceClient.prototype.send_startSession = function(searchResultId, taskType, callback) {
  var params = {
    searchResultId: searchResultId,
    taskType: taskType
  };
  var args = new ResultsServerService_startSession_args(params);
  try {
    this.output.writeMessageBegin('startSession', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ResultsServerServiceClient.prototype.recv_startSession = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ResultsServerService_startSession_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'startSession failed: unknown result';
};

ResultsServerServiceClient.prototype.stopSession = function(sessionId, callback) {
  if (callback === undefined) {
    this.send_stopSession(sessionId);
    this.recv_stopSession();
  } else {
    var postData = this.send_stopSession(sessionId, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_stopSession);
  }
};

ResultsServerServiceClient.prototype.send_stopSession = function(sessionId, callback) {
  var params = {
    sessionId: sessionId
  };
  var args = new ResultsServerService_stopSession_args(params);
  try {
    this.output.writeMessageBegin('stopSession', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ResultsServerServiceClient.prototype.recv_stopSession = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ResultsServerService_stopSession_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  return;
};

ResultsServerServiceClient.prototype.getNextChunk = function(sessionId, callback) {
  if (callback === undefined) {
    this.send_getNextChunk(sessionId);
    return this.recv_getNextChunk();
  } else {
    var postData = this.send_getNextChunk(sessionId, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getNextChunk);
  }
};

ResultsServerServiceClient.prototype.send_getNextChunk = function(sessionId, callback) {
  var params = {
    sessionId: sessionId
  };
  var args = new ResultsServerService_getNextChunk_args(params);
  try {
    this.output.writeMessageBegin('getNextChunk', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ResultsServerServiceClient.prototype.recv_getNextChunk = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ResultsServerService_getNextChunk_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getNextChunk failed: unknown result';
};

ResultsServerServiceClient.prototype.submitAnnotation = function(sessionId, unitId, communication, callback) {
  if (callback === undefined) {
    this.send_submitAnnotation(sessionId, unitId, communication);
    this.recv_submitAnnotation();
  } else {
    var postData = this.send_submitAnnotation(sessionId, unitId, communication, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_submitAnnotation);
  }
};

ResultsServerServiceClient.prototype.send_submitAnnotation = function(sessionId, unitId, communication, callback) {
  var params = {
    sessionId: sessionId,
    unitId: unitId,
    communication: communication
  };
  var args = new ResultsServerService_submitAnnotation_args(params);
  try {
    this.output.writeMessageBegin('submitAnnotation', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

ResultsServerServiceClient.prototype.recv_submitAnnotation = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new ResultsServerService_submitAnnotation_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  return;
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


SearchType = {
  'COMMUNICATIONS' : 0,
  'SECTIONS' : 1,
  'SENTENCES' : 2,
  'ENTITIES' : 3,
  'ENTITY_MENTIONS' : 4,
  'SITUATIONS' : 5,
  'SITUATION_MENTIONS' : 6
};
SearchFeedback = {
  'NEGATIVE' : -1,
  'NONE' : 0,
  'POSITIVE' : 1
};
SearchCapability = function(args) {
  this.type = null;
  this.lang = null;
  if (args) {
    if (args.type !== undefined && args.type !== null) {
      this.type = args.type;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field type is unset!');
    }
    if (args.lang !== undefined && args.lang !== null) {
      this.lang = args.lang;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field lang is unset!');
    }
  }
};
SearchCapability.prototype = {};
SearchCapability.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.type = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.lang = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchCapability.prototype.write = function(output) {
  output.writeStructBegin('SearchCapability');
  if (this.type !== null && this.type !== undefined) {
    output.writeFieldBegin('type', Thrift.Type.I32, 1);
    output.writeI32(this.type);
    output.writeFieldEnd();
  }
  if (this.lang !== null && this.lang !== undefined) {
    output.writeFieldBegin('lang', Thrift.Type.STRING, 2);
    output.writeString(this.lang);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchQuery = function(args) {
  this.terms = null;
  this.questions = null;
  this.communicationId = null;
  this.tokens = null;
  this.rawQuery = null;
  this.auths = null;
  this.userId = null;
  this.name = null;
  this.labels = null;
  this.type = null;
  this.lang = null;
  this.corpus = null;
  this.k = null;
  this.communication = null;
  if (args) {
    if (args.terms !== undefined && args.terms !== null) {
      this.terms = Thrift.copyList(args.terms, [null]);
    }
    if (args.questions !== undefined && args.questions !== null) {
      this.questions = Thrift.copyList(args.questions, [null]);
    }
    if (args.communicationId !== undefined && args.communicationId !== null) {
      this.communicationId = args.communicationId;
    }
    if (args.tokens !== undefined && args.tokens !== null) {
      this.tokens = new TokenRefSequence(args.tokens);
    }
    if (args.rawQuery !== undefined && args.rawQuery !== null) {
      this.rawQuery = args.rawQuery;
    }
    if (args.auths !== undefined && args.auths !== null) {
      this.auths = args.auths;
    }
    if (args.userId !== undefined && args.userId !== null) {
      this.userId = args.userId;
    }
    if (args.name !== undefined && args.name !== null) {
      this.name = args.name;
    }
    if (args.labels !== undefined && args.labels !== null) {
      this.labels = Thrift.copyList(args.labels, [null]);
    }
    if (args.type !== undefined && args.type !== null) {
      this.type = args.type;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field type is unset!');
    }
    if (args.lang !== undefined && args.lang !== null) {
      this.lang = args.lang;
    }
    if (args.corpus !== undefined && args.corpus !== null) {
      this.corpus = args.corpus;
    }
    if (args.k !== undefined && args.k !== null) {
      this.k = args.k;
    }
    if (args.communication !== undefined && args.communication !== null) {
      this.communication = new Communication(args.communication);
    }
  }
};
SearchQuery.prototype = {};
SearchQuery.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.terms = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = input.readString().value;
          this.terms.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.questions = [];
        var _rtmp35 = input.readListBegin();
        var _size4 = _rtmp35.size || 0;
        for (var _i6 = 0; _i6 < _size4; ++_i6) {
          var elem7 = null;
          elem7 = input.readString().value;
          this.questions.push(elem7);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.communicationId = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.tokens = new TokenRefSequence();
        this.tokens.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.rawQuery = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRING) {
        this.auths = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.STRING) {
        this.userId = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.STRING) {
        this.name = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 9:
      if (ftype == Thrift.Type.LIST) {
        this.labels = [];
        var _rtmp39 = input.readListBegin();
        var _size8 = _rtmp39.size || 0;
        for (var _i10 = 0; _i10 < _size8; ++_i10) {
          var elem11 = null;
          elem11 = input.readString().value;
          this.labels.push(elem11);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 10:
      if (ftype == Thrift.Type.I32) {
        this.type = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 11:
      if (ftype == Thrift.Type.STRING) {
        this.lang = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 12:
      if (ftype == Thrift.Type.STRING) {
        this.corpus = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 13:
      if (ftype == Thrift.Type.I32) {
        this.k = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 14:
      if (ftype == Thrift.Type.STRUCT) {
        this.communication = new Communication();
        this.communication.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchQuery.prototype.write = function(output) {
  output.writeStructBegin('SearchQuery');
  if (this.terms !== null && this.terms !== undefined) {
    output.writeFieldBegin('terms', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.STRING, this.terms.length);
    for (var iter12 in this.terms) {
      if (this.terms.hasOwnProperty(iter12)) {
        iter12 = this.terms[iter12];
        output.writeString(iter12);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.questions !== null && this.questions !== undefined) {
    output.writeFieldBegin('questions', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRING, this.questions.length);
    for (var iter13 in this.questions) {
      if (this.questions.hasOwnProperty(iter13)) {
        iter13 = this.questions[iter13];
        output.writeString(iter13);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.communicationId !== null && this.communicationId !== undefined) {
    output.writeFieldBegin('communicationId', Thrift.Type.STRING, 3);
    output.writeString(this.communicationId);
    output.writeFieldEnd();
  }
  if (this.tokens !== null && this.tokens !== undefined) {
    output.writeFieldBegin('tokens', Thrift.Type.STRUCT, 4);
    this.tokens.write(output);
    output.writeFieldEnd();
  }
  if (this.rawQuery !== null && this.rawQuery !== undefined) {
    output.writeFieldBegin('rawQuery', Thrift.Type.STRING, 5);
    output.writeString(this.rawQuery);
    output.writeFieldEnd();
  }
  if (this.auths !== null && this.auths !== undefined) {
    output.writeFieldBegin('auths', Thrift.Type.STRING, 6);
    output.writeString(this.auths);
    output.writeFieldEnd();
  }
  if (this.userId !== null && this.userId !== undefined) {
    output.writeFieldBegin('userId', Thrift.Type.STRING, 7);
    output.writeString(this.userId);
    output.writeFieldEnd();
  }
  if (this.name !== null && this.name !== undefined) {
    output.writeFieldBegin('name', Thrift.Type.STRING, 8);
    output.writeString(this.name);
    output.writeFieldEnd();
  }
  if (this.labels !== null && this.labels !== undefined) {
    output.writeFieldBegin('labels', Thrift.Type.LIST, 9);
    output.writeListBegin(Thrift.Type.STRING, this.labels.length);
    for (var iter14 in this.labels) {
      if (this.labels.hasOwnProperty(iter14)) {
        iter14 = this.labels[iter14];
        output.writeString(iter14);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.type !== null && this.type !== undefined) {
    output.writeFieldBegin('type', Thrift.Type.I32, 10);
    output.writeI32(this.type);
    output.writeFieldEnd();
  }
  if (this.lang !== null && this.lang !== undefined) {
    output.writeFieldBegin('lang', Thrift.Type.STRING, 11);
    output.writeString(this.lang);
    output.writeFieldEnd();
  }
  if (this.corpus !== null && this.corpus !== undefined) {
    output.writeFieldBegin('corpus', Thrift.Type.STRING, 12);
    output.writeString(this.corpus);
    output.writeFieldEnd();
  }
  if (this.k !== null && this.k !== undefined) {
    output.writeFieldBegin('k', Thrift.Type.I32, 13);
    output.writeI32(this.k);
    output.writeFieldEnd();
  }
  if (this.communication !== null && this.communication !== undefined) {
    output.writeFieldBegin('communication', Thrift.Type.STRUCT, 14);
    this.communication.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchResultItem = function(args) {
  this.communicationId = null;
  this.sentenceId = null;
  this.score = null;
  this.tokens = null;
  this.entity = null;
  if (args) {
    if (args.communicationId !== undefined && args.communicationId !== null) {
      this.communicationId = args.communicationId;
    }
    if (args.sentenceId !== undefined && args.sentenceId !== null) {
      this.sentenceId = new UUID(args.sentenceId);
    }
    if (args.score !== undefined && args.score !== null) {
      this.score = args.score;
    }
    if (args.tokens !== undefined && args.tokens !== null) {
      this.tokens = new TokenRefSequence(args.tokens);
    }
    if (args.entity !== undefined && args.entity !== null) {
      this.entity = new Entity(args.entity);
    }
  }
};
SearchResultItem.prototype = {};
SearchResultItem.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.communicationId = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.sentenceId = new UUID();
        this.sentenceId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.DOUBLE) {
        this.score = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.tokens = new TokenRefSequence();
        this.tokens.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRUCT) {
        this.entity = new Entity();
        this.entity.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchResultItem.prototype.write = function(output) {
  output.writeStructBegin('SearchResultItem');
  if (this.communicationId !== null && this.communicationId !== undefined) {
    output.writeFieldBegin('communicationId', Thrift.Type.STRING, 1);
    output.writeString(this.communicationId);
    output.writeFieldEnd();
  }
  if (this.sentenceId !== null && this.sentenceId !== undefined) {
    output.writeFieldBegin('sentenceId', Thrift.Type.STRUCT, 2);
    this.sentenceId.write(output);
    output.writeFieldEnd();
  }
  if (this.score !== null && this.score !== undefined) {
    output.writeFieldBegin('score', Thrift.Type.DOUBLE, 3);
    output.writeDouble(this.score);
    output.writeFieldEnd();
  }
  if (this.tokens !== null && this.tokens !== undefined) {
    output.writeFieldBegin('tokens', Thrift.Type.STRUCT, 4);
    this.tokens.write(output);
    output.writeFieldEnd();
  }
  if (this.entity !== null && this.entity !== undefined) {
    output.writeFieldBegin('entity', Thrift.Type.STRUCT, 5);
    this.entity.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchResult = function(args) {
  this.uuid = null;
  this.searchQuery = null;
  this.searchResultItems = null;
  this.metadata = null;
  this.lang = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.searchQuery !== undefined && args.searchQuery !== null) {
      this.searchQuery = new SearchQuery(args.searchQuery);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field searchQuery is unset!');
    }
    if (args.searchResultItems !== undefined && args.searchResultItems !== null) {
      this.searchResultItems = Thrift.copyList(args.searchResultItems, [SearchResultItem]);
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    }
    if (args.lang !== undefined && args.lang !== null) {
      this.lang = args.lang;
    }
  }
};
SearchResult.prototype = {};
SearchResult.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.searchQuery = new SearchQuery();
        this.searchQuery.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.searchResultItems = [];
        var _rtmp316 = input.readListBegin();
        var _size15 = _rtmp316.size || 0;
        for (var _i17 = 0; _i17 < _size15; ++_i17) {
          var elem18 = null;
          elem18 = new SearchResultItem();
          elem18.read(input);
          this.searchResultItems.push(elem18);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.lang = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchResult.prototype.write = function(output) {
  output.writeStructBegin('SearchResult');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.searchQuery !== null && this.searchQuery !== undefined) {
    output.writeFieldBegin('searchQuery', Thrift.Type.STRUCT, 2);
    this.searchQuery.write(output);
    output.writeFieldEnd();
  }
  if (this.searchResultItems !== null && this.searchResultItems !== undefined) {
    output.writeFieldBegin('searchResultItems', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.searchResultItems.length);
    for (var iter19 in this.searchResultItems) {
      if (this.searchResultItems.hasOwnProperty(iter19)) {
        iter19 = this.searchResultItems[iter19];
        iter19.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 4);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.lang !== null && this.lang !== undefined) {
    output.writeFieldBegin('lang', Thrift.Type.STRING, 5);
    output.writeString(this.lang);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

SearchProxyService_search_args = function(args) {
  this.query = null;
  this.provider = null;
  if (args) {
    if (args.query !== undefined && args.query !== null) {
      this.query = new SearchQuery(args.query);
    }
    if (args.provider !== undefined && args.provider !== null) {
      this.provider = args.provider;
    }
  }
};
SearchProxyService_search_args.prototype = {};
SearchProxyService_search_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.query = new SearchQuery();
        this.query.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.provider = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchProxyService_search_args.prototype.write = function(output) {
  output.writeStructBegin('SearchProxyService_search_args');
  if (this.query !== null && this.query !== undefined) {
    output.writeFieldBegin('query', Thrift.Type.STRUCT, 1);
    this.query.write(output);
    output.writeFieldEnd();
  }
  if (this.provider !== null && this.provider !== undefined) {
    output.writeFieldBegin('provider', Thrift.Type.STRING, 2);
    output.writeString(this.provider);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchProxyService_search_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new SearchResult(args.success);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
SearchProxyService_search_result.prototype = {};
SearchProxyService_search_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new SearchResult();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchProxyService_search_result.prototype.write = function(output) {
  output.writeStructBegin('SearchProxyService_search_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchProxyService_getProviders_args = function(args) {
};
SearchProxyService_getProviders_args.prototype = {};
SearchProxyService_getProviders_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchProxyService_getProviders_args.prototype.write = function(output) {
  output.writeStructBegin('SearchProxyService_getProviders_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchProxyService_getProviders_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [null]);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
SearchProxyService_getProviders_result.prototype = {};
SearchProxyService_getProviders_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        this.success = [];
        var _rtmp331 = input.readListBegin();
        var _size30 = _rtmp331.size || 0;
        for (var _i32 = 0; _i32 < _size30; ++_i32) {
          var elem33 = null;
          elem33 = input.readString().value;
          this.success.push(elem33);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchProxyService_getProviders_result.prototype.write = function(output) {
  output.writeStructBegin('SearchProxyService_getProviders_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRING, this.success.length);
    for (var iter34 in this.success) {
      if (this.success.hasOwnProperty(iter34)) {
        iter34 = this.success[iter34];
        output.writeString(iter34);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchProxyService_getCapabilities_args = function(args) {
  this.provider = null;
  if (args) {
    if (args.provider !== undefined && args.provider !== null) {
      this.provider = args.provider;
    }
  }
};
SearchProxyService_getCapabilities_args.prototype = {};
SearchProxyService_getCapabilities_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.provider = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchProxyService_getCapabilities_args.prototype.write = function(output) {
  output.writeStructBegin('SearchProxyService_getCapabilities_args');
  if (this.provider !== null && this.provider !== undefined) {
    output.writeFieldBegin('provider', Thrift.Type.STRING, 1);
    output.writeString(this.provider);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchProxyService_getCapabilities_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [SearchCapability]);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
SearchProxyService_getCapabilities_result.prototype = {};
SearchProxyService_getCapabilities_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        this.success = [];
        var _rtmp336 = input.readListBegin();
        var _size35 = _rtmp336.size || 0;
        for (var _i37 = 0; _i37 < _size35; ++_i37) {
          var elem38 = null;
          elem38 = new SearchCapability();
          elem38.read(input);
          this.success.push(elem38);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchProxyService_getCapabilities_result.prototype.write = function(output) {
  output.writeStructBegin('SearchProxyService_getCapabilities_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter39 in this.success) {
      if (this.success.hasOwnProperty(iter39)) {
        iter39 = this.success[iter39];
        iter39.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchProxyService_getCorpora_args = function(args) {
  this.provider = null;
  if (args) {
    if (args.provider !== undefined && args.provider !== null) {
      this.provider = args.provider;
    }
  }
};
SearchProxyService_getCorpora_args.prototype = {};
SearchProxyService_getCorpora_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.provider = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchProxyService_getCorpora_args.prototype.write = function(output) {
  output.writeStructBegin('SearchProxyService_getCorpora_args');
  if (this.provider !== null && this.provider !== undefined) {
    output.writeFieldBegin('provider', Thrift.Type.STRING, 1);
    output.writeString(this.provider);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchProxyService_getCorpora_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [null]);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
SearchProxyService_getCorpora_result.prototype = {};
SearchProxyService_getCorpora_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        this.success = [];
        var _rtmp341 = input.readListBegin();
        var _size40 = _rtmp341.size || 0;
        for (var _i42 = 0; _i42 < _size40; ++_i42) {
          var elem43 = null;
          elem43 = input.readString().value;
          this.success.push(elem43);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchProxyService_getCorpora_result.prototype.write = function(output) {
  output.writeStructBegin('SearchProxyService_getCorpora_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRING, this.success.length);
    for (var iter44 in this.success) {
      if (this.success.hasOwnProperty(iter44)) {
        iter44 = this.success[iter44];
        output.writeString(iter44);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchProxyServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(SearchProxyServiceClient, ServiceClient);

SearchProxyServiceClient.prototype.search = function(query, provider, callback) {
  if (callback === undefined) {
    this.send_search(query, provider);
    return this.recv_search();
  } else {
    var postData = this.send_search(query, provider, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_search);
  }
};

SearchProxyServiceClient.prototype.send_search = function(query, provider, callback) {
  var params = {
    query: query,
    provider: provider
  };
  var args = new SearchProxyService_search_args(params);
  try {
    this.output.writeMessageBegin('search', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

SearchProxyServiceClient.prototype.recv_search = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new SearchProxyService_search_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'search failed: unknown result';
};

SearchProxyServiceClient.prototype.getProviders = function(callback) {
  if (callback === undefined) {
    this.send_getProviders();
    return this.recv_getProviders();
  } else {
    var postData = this.send_getProviders(true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getProviders);
  }
};

SearchProxyServiceClient.prototype.send_getProviders = function(callback) {
  var args = new SearchProxyService_getProviders_args();
  try {
    this.output.writeMessageBegin('getProviders', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

SearchProxyServiceClient.prototype.recv_getProviders = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new SearchProxyService_getProviders_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getProviders failed: unknown result';
};

SearchProxyServiceClient.prototype.getCapabilities = function(provider, callback) {
  if (callback === undefined) {
    this.send_getCapabilities(provider);
    return this.recv_getCapabilities();
  } else {
    var postData = this.send_getCapabilities(provider, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getCapabilities);
  }
};

SearchProxyServiceClient.prototype.send_getCapabilities = function(provider, callback) {
  var params = {
    provider: provider
  };
  var args = new SearchProxyService_getCapabilities_args(params);
  try {
    this.output.writeMessageBegin('getCapabilities', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

SearchProxyServiceClient.prototype.recv_getCapabilities = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new SearchProxyService_getCapabilities_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getCapabilities failed: unknown result';
};

SearchProxyServiceClient.prototype.getCorpora = function(provider, callback) {
  if (callback === undefined) {
    this.send_getCorpora(provider);
    return this.recv_getCorpora();
  } else {
    var postData = this.send_getCorpora(provider, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getCorpora);
  }
};

SearchProxyServiceClient.prototype.send_getCorpora = function(provider, callback) {
  var params = {
    provider: provider
  };
  var args = new SearchProxyService_getCorpora_args(params);
  try {
    this.output.writeMessageBegin('getCorpora', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

SearchProxyServiceClient.prototype.recv_getCorpora = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new SearchProxyService_getCorpora_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getCorpora failed: unknown result';
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

SearchService_search_args = function(args) {
  this.query = null;
  if (args) {
    if (args.query !== undefined && args.query !== null) {
      this.query = new SearchQuery(args.query);
    }
  }
};
SearchService_search_args.prototype = {};
SearchService_search_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.query = new SearchQuery();
        this.query.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchService_search_args.prototype.write = function(output) {
  output.writeStructBegin('SearchService_search_args');
  if (this.query !== null && this.query !== undefined) {
    output.writeFieldBegin('query', Thrift.Type.STRUCT, 1);
    this.query.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchService_search_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new SearchResult(args.success);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
SearchService_search_result.prototype = {};
SearchService_search_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new SearchResult();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchService_search_result.prototype.write = function(output) {
  output.writeStructBegin('SearchService_search_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchService_getCapabilities_args = function(args) {
};
SearchService_getCapabilities_args.prototype = {};
SearchService_getCapabilities_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchService_getCapabilities_args.prototype.write = function(output) {
  output.writeStructBegin('SearchService_getCapabilities_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchService_getCapabilities_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [SearchCapability]);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
SearchService_getCapabilities_result.prototype = {};
SearchService_getCapabilities_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        this.success = [];
        var _rtmp321 = input.readListBegin();
        var _size20 = _rtmp321.size || 0;
        for (var _i22 = 0; _i22 < _size20; ++_i22) {
          var elem23 = null;
          elem23 = new SearchCapability();
          elem23.read(input);
          this.success.push(elem23);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchService_getCapabilities_result.prototype.write = function(output) {
  output.writeStructBegin('SearchService_getCapabilities_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter24 in this.success) {
      if (this.success.hasOwnProperty(iter24)) {
        iter24 = this.success[iter24];
        iter24.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchService_getCorpora_args = function(args) {
};
SearchService_getCorpora_args.prototype = {};
SearchService_getCorpora_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchService_getCorpora_args.prototype.write = function(output) {
  output.writeStructBegin('SearchService_getCorpora_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchService_getCorpora_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [null]);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
SearchService_getCorpora_result.prototype = {};
SearchService_getCorpora_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        this.success = [];
        var _rtmp326 = input.readListBegin();
        var _size25 = _rtmp326.size || 0;
        for (var _i27 = 0; _i27 < _size25; ++_i27) {
          var elem28 = null;
          elem28 = input.readString().value;
          this.success.push(elem28);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SearchService_getCorpora_result.prototype.write = function(output) {
  output.writeStructBegin('SearchService_getCorpora_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRING, this.success.length);
    for (var iter29 in this.success) {
      if (this.success.hasOwnProperty(iter29)) {
        iter29 = this.success[iter29];
        output.writeString(iter29);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SearchServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(SearchServiceClient, ServiceClient);

SearchServiceClient.prototype.search = function(query, callback) {
  if (callback === undefined) {
    this.send_search(query);
    return this.recv_search();
  } else {
    var postData = this.send_search(query, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_search);
  }
};

SearchServiceClient.prototype.send_search = function(query, callback) {
  var params = {
    query: query
  };
  var args = new SearchService_search_args(params);
  try {
    this.output.writeMessageBegin('search', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

SearchServiceClient.prototype.recv_search = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new SearchService_search_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'search failed: unknown result';
};

SearchServiceClient.prototype.getCapabilities = function(callback) {
  if (callback === undefined) {
    this.send_getCapabilities();
    return this.recv_getCapabilities();
  } else {
    var postData = this.send_getCapabilities(true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getCapabilities);
  }
};

SearchServiceClient.prototype.send_getCapabilities = function(callback) {
  var args = new SearchService_getCapabilities_args();
  try {
    this.output.writeMessageBegin('getCapabilities', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

SearchServiceClient.prototype.recv_getCapabilities = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new SearchService_getCapabilities_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getCapabilities failed: unknown result';
};

SearchServiceClient.prototype.getCorpora = function(callback) {
  if (callback === undefined) {
    this.send_getCorpora();
    return this.recv_getCorpora();
  } else {
    var postData = this.send_getCorpora(true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getCorpora);
  }
};

SearchServiceClient.prototype.send_getCorpora = function(callback) {
  var args = new SearchService_getCorpora_args();
  try {
    this.output.writeMessageBegin('getCorpora', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

SearchServiceClient.prototype.recv_getCorpora = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new SearchService_getCorpora_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getCorpora failed: unknown result';
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


AnnotationTaskType = {
  'TRANSLATION' : 1,
  'NER' : 2,
  'TOPICID' : 3
};
AnnotationUnitType = {
  'COMMUNICATION' : 1,
  'SENTENCE' : 2
};
ServicesException = function(args) {
  this.message = null;
  this.serEx = null;
  if (args) {
    if (args.message !== undefined && args.message !== null) {
      this.message = args.message;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field message is unset!');
    }
    if (args.serEx !== undefined && args.serEx !== null) {
      this.serEx = args.serEx;
    }
  }
};
Thrift.inherits(ServicesException, Thrift.TException);
ServicesException.prototype.name = 'ServicesException';
ServicesException.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.message = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.serEx = input.readBinary().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ServicesException.prototype.write = function(output) {
  output.writeStructBegin('ServicesException');
  if (this.message !== null && this.message !== undefined) {
    output.writeFieldBegin('message', Thrift.Type.STRING, 1);
    output.writeString(this.message);
    output.writeFieldEnd();
  }
  if (this.serEx !== null && this.serEx !== undefined) {
    output.writeFieldBegin('serEx', Thrift.Type.STRING, 2);
    output.writeBinary(this.serEx);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

NotImplementedException = function(args) {
  this.message = null;
  this.serEx = null;
  if (args) {
    if (args.message !== undefined && args.message !== null) {
      this.message = args.message;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field message is unset!');
    }
    if (args.serEx !== undefined && args.serEx !== null) {
      this.serEx = args.serEx;
    }
  }
};
Thrift.inherits(NotImplementedException, Thrift.TException);
NotImplementedException.prototype.name = 'NotImplementedException';
NotImplementedException.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.message = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.serEx = input.readBinary().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

NotImplementedException.prototype.write = function(output) {
  output.writeStructBegin('NotImplementedException');
  if (this.message !== null && this.message !== undefined) {
    output.writeFieldBegin('message', Thrift.Type.STRING, 1);
    output.writeString(this.message);
    output.writeFieldEnd();
  }
  if (this.serEx !== null && this.serEx !== undefined) {
    output.writeFieldBegin('serEx', Thrift.Type.STRING, 2);
    output.writeBinary(this.serEx);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AsyncContactInfo = function(args) {
  this.host = null;
  this.port = null;
  if (args) {
    if (args.host !== undefined && args.host !== null) {
      this.host = args.host;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field host is unset!');
    }
    if (args.port !== undefined && args.port !== null) {
      this.port = args.port;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field port is unset!');
    }
  }
};
AsyncContactInfo.prototype = {};
AsyncContactInfo.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.host = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.port = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AsyncContactInfo.prototype.write = function(output) {
  output.writeStructBegin('AsyncContactInfo');
  if (this.host !== null && this.host !== undefined) {
    output.writeFieldBegin('host', Thrift.Type.STRING, 1);
    output.writeString(this.host);
    output.writeFieldEnd();
  }
  if (this.port !== null && this.port !== undefined) {
    output.writeFieldBegin('port', Thrift.Type.I32, 2);
    output.writeI32(this.port);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AnnotationUnitIdentifier = function(args) {
  this.communicationId = null;
  this.sentenceId = null;
  if (args) {
    if (args.communicationId !== undefined && args.communicationId !== null) {
      this.communicationId = args.communicationId;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field communicationId is unset!');
    }
    if (args.sentenceId !== undefined && args.sentenceId !== null) {
      this.sentenceId = new UUID(args.sentenceId);
    }
  }
};
AnnotationUnitIdentifier.prototype = {};
AnnotationUnitIdentifier.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.communicationId = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.sentenceId = new UUID();
        this.sentenceId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AnnotationUnitIdentifier.prototype.write = function(output) {
  output.writeStructBegin('AnnotationUnitIdentifier');
  if (this.communicationId !== null && this.communicationId !== undefined) {
    output.writeFieldBegin('communicationId', Thrift.Type.STRING, 1);
    output.writeString(this.communicationId);
    output.writeFieldEnd();
  }
  if (this.sentenceId !== null && this.sentenceId !== undefined) {
    output.writeFieldBegin('sentenceId', Thrift.Type.STRUCT, 2);
    this.sentenceId.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ServiceInfo = function(args) {
  this.name = null;
  this.version = null;
  this.description = null;
  if (args) {
    if (args.name !== undefined && args.name !== null) {
      this.name = args.name;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field name is unset!');
    }
    if (args.version !== undefined && args.version !== null) {
      this.version = args.version;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field version is unset!');
    }
    if (args.description !== undefined && args.description !== null) {
      this.description = args.description;
    }
  }
};
ServiceInfo.prototype = {};
ServiceInfo.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.name = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.version = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.description = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ServiceInfo.prototype.write = function(output) {
  output.writeStructBegin('ServiceInfo');
  if (this.name !== null && this.name !== undefined) {
    output.writeFieldBegin('name', Thrift.Type.STRING, 1);
    output.writeString(this.name);
    output.writeFieldEnd();
  }
  if (this.version !== null && this.version !== undefined) {
    output.writeFieldBegin('version', Thrift.Type.STRING, 2);
    output.writeString(this.version);
    output.writeFieldEnd();
  }
  if (this.description !== null && this.description !== undefined) {
    output.writeFieldBegin('description', Thrift.Type.STRING, 3);
    output.writeString(this.description);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


Argument = function(args) {
  this.role = null;
  this.entityId = null;
  this.situationId = null;
  this.propertyList = null;
  if (args) {
    if (args.role !== undefined && args.role !== null) {
      this.role = args.role;
    }
    if (args.entityId !== undefined && args.entityId !== null) {
      this.entityId = new UUID(args.entityId);
    }
    if (args.situationId !== undefined && args.situationId !== null) {
      this.situationId = new UUID(args.situationId);
    }
    if (args.propertyList !== undefined && args.propertyList !== null) {
      this.propertyList = Thrift.copyList(args.propertyList, [Property]);
    }
  }
};
Argument.prototype = {};
Argument.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.role = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.entityId = new UUID();
        this.entityId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.situationId = new UUID();
        this.situationId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.propertyList = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = new Property();
          elem3.read(input);
          this.propertyList.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Argument.prototype.write = function(output) {
  output.writeStructBegin('Argument');
  if (this.role !== null && this.role !== undefined) {
    output.writeFieldBegin('role', Thrift.Type.STRING, 1);
    output.writeString(this.role);
    output.writeFieldEnd();
  }
  if (this.entityId !== null && this.entityId !== undefined) {
    output.writeFieldBegin('entityId', Thrift.Type.STRUCT, 2);
    this.entityId.write(output);
    output.writeFieldEnd();
  }
  if (this.situationId !== null && this.situationId !== undefined) {
    output.writeFieldBegin('situationId', Thrift.Type.STRUCT, 3);
    this.situationId.write(output);
    output.writeFieldEnd();
  }
  if (this.propertyList !== null && this.propertyList !== undefined) {
    output.writeFieldBegin('propertyList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRUCT, this.propertyList.length);
    for (var iter4 in this.propertyList) {
      if (this.propertyList.hasOwnProperty(iter4)) {
        iter4 = this.propertyList[iter4];
        iter4.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Justification = function(args) {
  this.justificationType = null;
  this.mentionId = null;
  this.tokenRefSeqList = null;
  if (args) {
    if (args.justificationType !== undefined && args.justificationType !== null) {
      this.justificationType = args.justificationType;
    }
    if (args.mentionId !== undefined && args.mentionId !== null) {
      this.mentionId = new UUID(args.mentionId);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field mentionId is unset!');
    }
    if (args.tokenRefSeqList !== undefined && args.tokenRefSeqList !== null) {
      this.tokenRefSeqList = Thrift.copyList(args.tokenRefSeqList, [TokenRefSequence]);
    }
  }
};
Justification.prototype = {};
Justification.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.justificationType = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.mentionId = new UUID();
        this.mentionId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.tokenRefSeqList = [];
        var _rtmp36 = input.readListBegin();
        var _size5 = _rtmp36.size || 0;
        for (var _i7 = 0; _i7 < _size5; ++_i7) {
          var elem8 = null;
          elem8 = new TokenRefSequence();
          elem8.read(input);
          this.tokenRefSeqList.push(elem8);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Justification.prototype.write = function(output) {
  output.writeStructBegin('Justification');
  if (this.justificationType !== null && this.justificationType !== undefined) {
    output.writeFieldBegin('justificationType', Thrift.Type.STRING, 1);
    output.writeString(this.justificationType);
    output.writeFieldEnd();
  }
  if (this.mentionId !== null && this.mentionId !== undefined) {
    output.writeFieldBegin('mentionId', Thrift.Type.STRUCT, 2);
    this.mentionId.write(output);
    output.writeFieldEnd();
  }
  if (this.tokenRefSeqList !== null && this.tokenRefSeqList !== undefined) {
    output.writeFieldBegin('tokenRefSeqList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.tokenRefSeqList.length);
    for (var iter9 in this.tokenRefSeqList) {
      if (this.tokenRefSeqList.hasOwnProperty(iter9)) {
        iter9 = this.tokenRefSeqList[iter9];
        iter9.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TimeML = function(args) {
  this.timeMLClass = null;
  this.timeMLTense = null;
  this.timeMLAspect = null;
  if (args) {
    if (args.timeMLClass !== undefined && args.timeMLClass !== null) {
      this.timeMLClass = args.timeMLClass;
    }
    if (args.timeMLTense !== undefined && args.timeMLTense !== null) {
      this.timeMLTense = args.timeMLTense;
    }
    if (args.timeMLAspect !== undefined && args.timeMLAspect !== null) {
      this.timeMLAspect = args.timeMLAspect;
    }
  }
};
TimeML.prototype = {};
TimeML.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.timeMLClass = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.timeMLTense = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.timeMLAspect = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TimeML.prototype.write = function(output) {
  output.writeStructBegin('TimeML');
  if (this.timeMLClass !== null && this.timeMLClass !== undefined) {
    output.writeFieldBegin('timeMLClass', Thrift.Type.STRING, 1);
    output.writeString(this.timeMLClass);
    output.writeFieldEnd();
  }
  if (this.timeMLTense !== null && this.timeMLTense !== undefined) {
    output.writeFieldBegin('timeMLTense', Thrift.Type.STRING, 2);
    output.writeString(this.timeMLTense);
    output.writeFieldEnd();
  }
  if (this.timeMLAspect !== null && this.timeMLAspect !== undefined) {
    output.writeFieldBegin('timeMLAspect', Thrift.Type.STRING, 3);
    output.writeString(this.timeMLAspect);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Situation = function(args) {
  this.uuid = null;
  this.id = null;
  this.situationType = null;
  this.situationKind = null;
  this.argumentList = null;
  this.mentionIdList = null;
  this.justificationList = null;
  this.canonicalName = null;
  this.timeML = null;
  this.intensity = null;
  this.polarity = null;
  this.confidence = null;
  this.propertyList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.id !== undefined && args.id !== null) {
      this.id = args.id;
    }
    if (args.situationType !== undefined && args.situationType !== null) {
      this.situationType = args.situationType;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field situationType is unset!');
    }
    if (args.situationKind !== undefined && args.situationKind !== null) {
      this.situationKind = args.situationKind;
    }
    if (args.argumentList !== undefined && args.argumentList !== null) {
      this.argumentList = Thrift.copyList(args.argumentList, [Argument]);
    }
    if (args.mentionIdList !== undefined && args.mentionIdList !== null) {
      this.mentionIdList = Thrift.copyList(args.mentionIdList, [UUID]);
    }
    if (args.justificationList !== undefined && args.justificationList !== null) {
      this.justificationList = Thrift.copyList(args.justificationList, [Justification]);
    }
    if (args.canonicalName !== undefined && args.canonicalName !== null) {
      this.canonicalName = args.canonicalName;
    }
    if (args.timeML !== undefined && args.timeML !== null) {
      this.timeML = new TimeML(args.timeML);
    }
    if (args.intensity !== undefined && args.intensity !== null) {
      this.intensity = args.intensity;
    }
    if (args.polarity !== undefined && args.polarity !== null) {
      this.polarity = args.polarity;
    }
    if (args.confidence !== undefined && args.confidence !== null) {
      this.confidence = args.confidence;
    }
    if (args.propertyList !== undefined && args.propertyList !== null) {
      this.propertyList = Thrift.copyList(args.propertyList, [Property]);
    }
  }
};
Situation.prototype = {};
Situation.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRING) {
        this.id = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.situationType = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 50:
      if (ftype == Thrift.Type.STRING) {
        this.situationKind = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.argumentList = [];
        var _rtmp311 = input.readListBegin();
        var _size10 = _rtmp311.size || 0;
        for (var _i12 = 0; _i12 < _size10; ++_i12) {
          var elem13 = null;
          elem13 = new Argument();
          elem13.read(input);
          this.argumentList.push(elem13);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.mentionIdList = [];
        var _rtmp315 = input.readListBegin();
        var _size14 = _rtmp315.size || 0;
        for (var _i16 = 0; _i16 < _size14; ++_i16) {
          var elem17 = null;
          elem17 = new UUID();
          elem17.read(input);
          this.mentionIdList.push(elem17);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.LIST) {
        this.justificationList = [];
        var _rtmp319 = input.readListBegin();
        var _size18 = _rtmp319.size || 0;
        for (var _i20 = 0; _i20 < _size18; ++_i20) {
          var elem21 = null;
          elem21 = new Justification();
          elem21.read(input);
          this.justificationList.push(elem21);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.STRING) {
        this.canonicalName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 54:
      if (ftype == Thrift.Type.STRUCT) {
        this.timeML = new TimeML();
        this.timeML.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 100:
      if (ftype == Thrift.Type.DOUBLE) {
        this.intensity = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 101:
      if (ftype == Thrift.Type.STRING) {
        this.polarity = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 200:
      if (ftype == Thrift.Type.DOUBLE) {
        this.confidence = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 300:
      if (ftype == Thrift.Type.LIST) {
        this.propertyList = [];
        var _rtmp323 = input.readListBegin();
        var _size22 = _rtmp323.size || 0;
        for (var _i24 = 0; _i24 < _size22; ++_i24) {
          var elem25 = null;
          elem25 = new Property();
          elem25.read(input);
          this.propertyList.push(elem25);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Situation.prototype.write = function(output) {
  output.writeStructBegin('Situation');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.id !== null && this.id !== undefined) {
    output.writeFieldBegin('id', Thrift.Type.STRING, 6);
    output.writeString(this.id);
    output.writeFieldEnd();
  }
  if (this.situationType !== null && this.situationType !== undefined) {
    output.writeFieldBegin('situationType', Thrift.Type.STRING, 2);
    output.writeString(this.situationType);
    output.writeFieldEnd();
  }
  if (this.situationKind !== null && this.situationKind !== undefined) {
    output.writeFieldBegin('situationKind', Thrift.Type.STRING, 50);
    output.writeString(this.situationKind);
    output.writeFieldEnd();
  }
  if (this.argumentList !== null && this.argumentList !== undefined) {
    output.writeFieldBegin('argumentList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.argumentList.length);
    for (var iter26 in this.argumentList) {
      if (this.argumentList.hasOwnProperty(iter26)) {
        iter26 = this.argumentList[iter26];
        iter26.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.mentionIdList !== null && this.mentionIdList !== undefined) {
    output.writeFieldBegin('mentionIdList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRUCT, this.mentionIdList.length);
    for (var iter27 in this.mentionIdList) {
      if (this.mentionIdList.hasOwnProperty(iter27)) {
        iter27 = this.mentionIdList[iter27];
        iter27.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.justificationList !== null && this.justificationList !== undefined) {
    output.writeFieldBegin('justificationList', Thrift.Type.LIST, 5);
    output.writeListBegin(Thrift.Type.STRUCT, this.justificationList.length);
    for (var iter28 in this.justificationList) {
      if (this.justificationList.hasOwnProperty(iter28)) {
        iter28 = this.justificationList[iter28];
        iter28.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.canonicalName !== null && this.canonicalName !== undefined) {
    output.writeFieldBegin('canonicalName', Thrift.Type.STRING, 7);
    output.writeString(this.canonicalName);
    output.writeFieldEnd();
  }
  if (this.timeML !== null && this.timeML !== undefined) {
    output.writeFieldBegin('timeML', Thrift.Type.STRUCT, 54);
    this.timeML.write(output);
    output.writeFieldEnd();
  }
  if (this.intensity !== null && this.intensity !== undefined) {
    output.writeFieldBegin('intensity', Thrift.Type.DOUBLE, 100);
    output.writeDouble(this.intensity);
    output.writeFieldEnd();
  }
  if (this.polarity !== null && this.polarity !== undefined) {
    output.writeFieldBegin('polarity', Thrift.Type.STRING, 101);
    output.writeString(this.polarity);
    output.writeFieldEnd();
  }
  if (this.confidence !== null && this.confidence !== undefined) {
    output.writeFieldBegin('confidence', Thrift.Type.DOUBLE, 200);
    output.writeDouble(this.confidence);
    output.writeFieldEnd();
  }
  if (this.propertyList !== null && this.propertyList !== undefined) {
    output.writeFieldBegin('propertyList', Thrift.Type.LIST, 300);
    output.writeListBegin(Thrift.Type.STRUCT, this.propertyList.length);
    for (var iter29 in this.propertyList) {
      if (this.propertyList.hasOwnProperty(iter29)) {
        iter29 = this.propertyList[iter29];
        iter29.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SituationSet = function(args) {
  this.uuid = null;
  this.metadata = null;
  this.situationList = null;
  this.linkingList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.situationList !== undefined && args.situationList !== null) {
      this.situationList = Thrift.copyList(args.situationList, [Situation]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field situationList is unset!');
    }
    if (args.linkingList !== undefined && args.linkingList !== null) {
      this.linkingList = Thrift.copyList(args.linkingList, [Linking]);
    }
  }
};
SituationSet.prototype = {};
SituationSet.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.situationList = [];
        var _rtmp331 = input.readListBegin();
        var _size30 = _rtmp331.size || 0;
        for (var _i32 = 0; _i32 < _size30; ++_i32) {
          var elem33 = null;
          elem33 = new Situation();
          elem33.read(input);
          this.situationList.push(elem33);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.linkingList = [];
        var _rtmp335 = input.readListBegin();
        var _size34 = _rtmp335.size || 0;
        for (var _i36 = 0; _i36 < _size34; ++_i36) {
          var elem37 = null;
          elem37 = new Linking();
          elem37.read(input);
          this.linkingList.push(elem37);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SituationSet.prototype.write = function(output) {
  output.writeStructBegin('SituationSet');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.situationList !== null && this.situationList !== undefined) {
    output.writeFieldBegin('situationList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.situationList.length);
    for (var iter38 in this.situationList) {
      if (this.situationList.hasOwnProperty(iter38)) {
        iter38 = this.situationList[iter38];
        iter38.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.linkingList !== null && this.linkingList !== undefined) {
    output.writeFieldBegin('linkingList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRUCT, this.linkingList.length);
    for (var iter39 in this.linkingList) {
      if (this.linkingList.hasOwnProperty(iter39)) {
        iter39 = this.linkingList[iter39];
        iter39.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

MentionArgument = function(args) {
  this.role = null;
  this.entityMentionId = null;
  this.situationMentionId = null;
  this.tokens = null;
  this.confidence = null;
  this.propertyList = null;
  if (args) {
    if (args.role !== undefined && args.role !== null) {
      this.role = args.role;
    }
    if (args.entityMentionId !== undefined && args.entityMentionId !== null) {
      this.entityMentionId = new UUID(args.entityMentionId);
    }
    if (args.situationMentionId !== undefined && args.situationMentionId !== null) {
      this.situationMentionId = new UUID(args.situationMentionId);
    }
    if (args.tokens !== undefined && args.tokens !== null) {
      this.tokens = new TokenRefSequence(args.tokens);
    }
    if (args.confidence !== undefined && args.confidence !== null) {
      this.confidence = args.confidence;
    }
    if (args.propertyList !== undefined && args.propertyList !== null) {
      this.propertyList = Thrift.copyList(args.propertyList, [Property]);
    }
  }
};
MentionArgument.prototype = {};
MentionArgument.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.role = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.entityMentionId = new UUID();
        this.entityMentionId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.situationMentionId = new UUID();
        this.situationMentionId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.tokens = new TokenRefSequence();
        this.tokens.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.DOUBLE) {
        this.confidence = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.LIST) {
        this.propertyList = [];
        var _rtmp341 = input.readListBegin();
        var _size40 = _rtmp341.size || 0;
        for (var _i42 = 0; _i42 < _size40; ++_i42) {
          var elem43 = null;
          elem43 = new Property();
          elem43.read(input);
          this.propertyList.push(elem43);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

MentionArgument.prototype.write = function(output) {
  output.writeStructBegin('MentionArgument');
  if (this.role !== null && this.role !== undefined) {
    output.writeFieldBegin('role', Thrift.Type.STRING, 1);
    output.writeString(this.role);
    output.writeFieldEnd();
  }
  if (this.entityMentionId !== null && this.entityMentionId !== undefined) {
    output.writeFieldBegin('entityMentionId', Thrift.Type.STRUCT, 2);
    this.entityMentionId.write(output);
    output.writeFieldEnd();
  }
  if (this.situationMentionId !== null && this.situationMentionId !== undefined) {
    output.writeFieldBegin('situationMentionId', Thrift.Type.STRUCT, 3);
    this.situationMentionId.write(output);
    output.writeFieldEnd();
  }
  if (this.tokens !== null && this.tokens !== undefined) {
    output.writeFieldBegin('tokens', Thrift.Type.STRUCT, 4);
    this.tokens.write(output);
    output.writeFieldEnd();
  }
  if (this.confidence !== null && this.confidence !== undefined) {
    output.writeFieldBegin('confidence', Thrift.Type.DOUBLE, 5);
    output.writeDouble(this.confidence);
    output.writeFieldEnd();
  }
  if (this.propertyList !== null && this.propertyList !== undefined) {
    output.writeFieldBegin('propertyList', Thrift.Type.LIST, 6);
    output.writeListBegin(Thrift.Type.STRUCT, this.propertyList.length);
    for (var iter44 in this.propertyList) {
      if (this.propertyList.hasOwnProperty(iter44)) {
        iter44 = this.propertyList[iter44];
        iter44.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SituationMention = function(args) {
  this.uuid = null;
  this.id = null;
  this.text = null;
  this.situationType = null;
  this.situationKind = null;
  this.argumentList = null;
  this.intensity = null;
  this.polarity = null;
  this.tokens = null;
  this.confidence = null;
  this.propertyList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.id !== undefined && args.id !== null) {
      this.id = args.id;
    }
    if (args.text !== undefined && args.text !== null) {
      this.text = args.text;
    }
    if (args.situationType !== undefined && args.situationType !== null) {
      this.situationType = args.situationType;
    }
    if (args.situationKind !== undefined && args.situationKind !== null) {
      this.situationKind = args.situationKind;
    }
    if (args.argumentList !== undefined && args.argumentList !== null) {
      this.argumentList = Thrift.copyList(args.argumentList, [MentionArgument]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field argumentList is unset!');
    }
    if (args.intensity !== undefined && args.intensity !== null) {
      this.intensity = args.intensity;
    }
    if (args.polarity !== undefined && args.polarity !== null) {
      this.polarity = args.polarity;
    }
    if (args.tokens !== undefined && args.tokens !== null) {
      this.tokens = new TokenRefSequence(args.tokens);
    }
    if (args.confidence !== undefined && args.confidence !== null) {
      this.confidence = args.confidence;
    }
    if (args.propertyList !== undefined && args.propertyList !== null) {
      this.propertyList = Thrift.copyList(args.propertyList, [Property]);
    }
  }
};
SituationMention.prototype = {};
SituationMention.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.id = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.text = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.situationType = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 50:
      if (ftype == Thrift.Type.STRING) {
        this.situationKind = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.argumentList = [];
        var _rtmp346 = input.readListBegin();
        var _size45 = _rtmp346.size || 0;
        for (var _i47 = 0; _i47 < _size45; ++_i47) {
          var elem48 = null;
          elem48 = new MentionArgument();
          elem48.read(input);
          this.argumentList.push(elem48);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 100:
      if (ftype == Thrift.Type.DOUBLE) {
        this.intensity = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 101:
      if (ftype == Thrift.Type.STRING) {
        this.polarity = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 150:
      if (ftype == Thrift.Type.STRUCT) {
        this.tokens = new TokenRefSequence();
        this.tokens.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 200:
      if (ftype == Thrift.Type.DOUBLE) {
        this.confidence = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 300:
      if (ftype == Thrift.Type.LIST) {
        this.propertyList = [];
        var _rtmp350 = input.readListBegin();
        var _size49 = _rtmp350.size || 0;
        for (var _i51 = 0; _i51 < _size49; ++_i51) {
          var elem52 = null;
          elem52 = new Property();
          elem52.read(input);
          this.propertyList.push(elem52);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SituationMention.prototype.write = function(output) {
  output.writeStructBegin('SituationMention');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.id !== null && this.id !== undefined) {
    output.writeFieldBegin('id', Thrift.Type.STRING, 5);
    output.writeString(this.id);
    output.writeFieldEnd();
  }
  if (this.text !== null && this.text !== undefined) {
    output.writeFieldBegin('text', Thrift.Type.STRING, 2);
    output.writeString(this.text);
    output.writeFieldEnd();
  }
  if (this.situationType !== null && this.situationType !== undefined) {
    output.writeFieldBegin('situationType', Thrift.Type.STRING, 3);
    output.writeString(this.situationType);
    output.writeFieldEnd();
  }
  if (this.situationKind !== null && this.situationKind !== undefined) {
    output.writeFieldBegin('situationKind', Thrift.Type.STRING, 50);
    output.writeString(this.situationKind);
    output.writeFieldEnd();
  }
  if (this.argumentList !== null && this.argumentList !== undefined) {
    output.writeFieldBegin('argumentList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRUCT, this.argumentList.length);
    for (var iter53 in this.argumentList) {
      if (this.argumentList.hasOwnProperty(iter53)) {
        iter53 = this.argumentList[iter53];
        iter53.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.intensity !== null && this.intensity !== undefined) {
    output.writeFieldBegin('intensity', Thrift.Type.DOUBLE, 100);
    output.writeDouble(this.intensity);
    output.writeFieldEnd();
  }
  if (this.polarity !== null && this.polarity !== undefined) {
    output.writeFieldBegin('polarity', Thrift.Type.STRING, 101);
    output.writeString(this.polarity);
    output.writeFieldEnd();
  }
  if (this.tokens !== null && this.tokens !== undefined) {
    output.writeFieldBegin('tokens', Thrift.Type.STRUCT, 150);
    this.tokens.write(output);
    output.writeFieldEnd();
  }
  if (this.confidence !== null && this.confidence !== undefined) {
    output.writeFieldBegin('confidence', Thrift.Type.DOUBLE, 200);
    output.writeDouble(this.confidence);
    output.writeFieldEnd();
  }
  if (this.propertyList !== null && this.propertyList !== undefined) {
    output.writeFieldBegin('propertyList', Thrift.Type.LIST, 300);
    output.writeListBegin(Thrift.Type.STRUCT, this.propertyList.length);
    for (var iter54 in this.propertyList) {
      if (this.propertyList.hasOwnProperty(iter54)) {
        iter54 = this.propertyList[iter54];
        iter54.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SituationMentionSet = function(args) {
  this.uuid = null;
  this.metadata = null;
  this.mentionList = null;
  this.linkingList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.mentionList !== undefined && args.mentionList !== null) {
      this.mentionList = Thrift.copyList(args.mentionList, [SituationMention]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field mentionList is unset!');
    }
    if (args.linkingList !== undefined && args.linkingList !== null) {
      this.linkingList = Thrift.copyList(args.linkingList, [Linking]);
    }
  }
};
SituationMentionSet.prototype = {};
SituationMentionSet.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.mentionList = [];
        var _rtmp356 = input.readListBegin();
        var _size55 = _rtmp356.size || 0;
        for (var _i57 = 0; _i57 < _size55; ++_i57) {
          var elem58 = null;
          elem58 = new SituationMention();
          elem58.read(input);
          this.mentionList.push(elem58);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.linkingList = [];
        var _rtmp360 = input.readListBegin();
        var _size59 = _rtmp360.size || 0;
        for (var _i61 = 0; _i61 < _size59; ++_i61) {
          var elem62 = null;
          elem62 = new Linking();
          elem62.read(input);
          this.linkingList.push(elem62);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SituationMentionSet.prototype.write = function(output) {
  output.writeStructBegin('SituationMentionSet');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.mentionList !== null && this.mentionList !== undefined) {
    output.writeFieldBegin('mentionList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.mentionList.length);
    for (var iter63 in this.mentionList) {
      if (this.mentionList.hasOwnProperty(iter63)) {
        iter63 = this.mentionList[iter63];
        iter63.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.linkingList !== null && this.linkingList !== undefined) {
    output.writeFieldBegin('linkingList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRUCT, this.linkingList.length);
    for (var iter64 in this.linkingList) {
      if (this.linkingList.hasOwnProperty(iter64)) {
        iter64 = this.linkingList[iter64];
        iter64.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


TextSpan = function(args) {
  this.start = null;
  this.ending = null;
  if (args) {
    if (args.start !== undefined && args.start !== null) {
      this.start = args.start;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field start is unset!');
    }
    if (args.ending !== undefined && args.ending !== null) {
      this.ending = args.ending;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field ending is unset!');
    }
  }
};
TextSpan.prototype = {};
TextSpan.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.start = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.ending = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TextSpan.prototype.write = function(output) {
  output.writeStructBegin('TextSpan');
  if (this.start !== null && this.start !== undefined) {
    output.writeFieldBegin('start', Thrift.Type.I32, 1);
    output.writeI32(this.start);
    output.writeFieldEnd();
  }
  if (this.ending !== null && this.ending !== undefined) {
    output.writeFieldBegin('ending', Thrift.Type.I32, 2);
    output.writeI32(this.ending);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

AudioSpan = function(args) {
  this.start = null;
  this.ending = null;
  if (args) {
    if (args.start !== undefined && args.start !== null) {
      this.start = args.start;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field start is unset!');
    }
    if (args.ending !== undefined && args.ending !== null) {
      this.ending = args.ending;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field ending is unset!');
    }
  }
};
AudioSpan.prototype = {};
AudioSpan.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I64) {
        this.start = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I64) {
        this.ending = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

AudioSpan.prototype.write = function(output) {
  output.writeStructBegin('AudioSpan');
  if (this.start !== null && this.start !== undefined) {
    output.writeFieldBegin('start', Thrift.Type.I64, 1);
    output.writeI64(this.start);
    output.writeFieldEnd();
  }
  if (this.ending !== null && this.ending !== undefined) {
    output.writeFieldBegin('ending', Thrift.Type.I64, 2);
    output.writeI64(this.ending);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

StoreCommunicationService_store_args = function(args) {
  this.communication = null;
  if (args) {
    if (args.communication !== undefined && args.communication !== null) {
      this.communication = new Communication(args.communication);
    }
  }
};
StoreCommunicationService_store_args.prototype = {};
StoreCommunicationService_store_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.communication = new Communication();
        this.communication.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

StoreCommunicationService_store_args.prototype.write = function(output) {
  output.writeStructBegin('StoreCommunicationService_store_args');
  if (this.communication !== null && this.communication !== undefined) {
    output.writeFieldBegin('communication', Thrift.Type.STRUCT, 1);
    this.communication.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

StoreCommunicationService_store_result = function(args) {
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
StoreCommunicationService_store_result.prototype = {};
StoreCommunicationService_store_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

StoreCommunicationService_store_result.prototype.write = function(output) {
  output.writeStructBegin('StoreCommunicationService_store_result');
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

StoreCommunicationServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(StoreCommunicationServiceClient, ServiceClient);

StoreCommunicationServiceClient.prototype.store = function(communication, callback) {
  if (callback === undefined) {
    this.send_store(communication);
    this.recv_store();
  } else {
    var postData = this.send_store(communication, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_store);
  }
};

StoreCommunicationServiceClient.prototype.send_store = function(communication, callback) {
  var params = {
    communication: communication
  };
  var args = new StoreCommunicationService_store_args(params);
  try {
    this.output.writeMessageBegin('store', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

StoreCommunicationServiceClient.prototype.recv_store = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new StoreCommunicationService_store_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  return;
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


TokenizationKind = {
  'TOKEN_LIST' : 1,
  'TOKEN_LATTICE' : 2
};
Constituent = function(args) {
  this.id = null;
  this.tag = null;
  this.childList = null;
  this.headChildIndex = -1;
  this.start = null;
  this.ending = null;
  if (args) {
    if (args.id !== undefined && args.id !== null) {
      this.id = args.id;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field id is unset!');
    }
    if (args.tag !== undefined && args.tag !== null) {
      this.tag = args.tag;
    }
    if (args.childList !== undefined && args.childList !== null) {
      this.childList = Thrift.copyList(args.childList, [null]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field childList is unset!');
    }
    if (args.headChildIndex !== undefined && args.headChildIndex !== null) {
      this.headChildIndex = args.headChildIndex;
    }
    if (args.start !== undefined && args.start !== null) {
      this.start = args.start;
    }
    if (args.ending !== undefined && args.ending !== null) {
      this.ending = args.ending;
    }
  }
};
Constituent.prototype = {};
Constituent.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.id = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.tag = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.childList = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = input.readI32().value;
          this.childList.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.I32) {
        this.headChildIndex = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.I32) {
        this.start = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.I32) {
        this.ending = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Constituent.prototype.write = function(output) {
  output.writeStructBegin('Constituent');
  if (this.id !== null && this.id !== undefined) {
    output.writeFieldBegin('id', Thrift.Type.I32, 1);
    output.writeI32(this.id);
    output.writeFieldEnd();
  }
  if (this.tag !== null && this.tag !== undefined) {
    output.writeFieldBegin('tag', Thrift.Type.STRING, 2);
    output.writeString(this.tag);
    output.writeFieldEnd();
  }
  if (this.childList !== null && this.childList !== undefined) {
    output.writeFieldBegin('childList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.I32, this.childList.length);
    for (var iter4 in this.childList) {
      if (this.childList.hasOwnProperty(iter4)) {
        iter4 = this.childList[iter4];
        output.writeI32(iter4);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.headChildIndex !== null && this.headChildIndex !== undefined) {
    output.writeFieldBegin('headChildIndex', Thrift.Type.I32, 4);
    output.writeI32(this.headChildIndex);
    output.writeFieldEnd();
  }
  if (this.start !== null && this.start !== undefined) {
    output.writeFieldBegin('start', Thrift.Type.I32, 5);
    output.writeI32(this.start);
    output.writeFieldEnd();
  }
  if (this.ending !== null && this.ending !== undefined) {
    output.writeFieldBegin('ending', Thrift.Type.I32, 6);
    output.writeI32(this.ending);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Parse = function(args) {
  this.uuid = null;
  this.metadata = null;
  this.constituentList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.constituentList !== undefined && args.constituentList !== null) {
      this.constituentList = Thrift.copyList(args.constituentList, [Constituent]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field constituentList is unset!');
    }
  }
};
Parse.prototype = {};
Parse.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.constituentList = [];
        var _rtmp36 = input.readListBegin();
        var _size5 = _rtmp36.size || 0;
        for (var _i7 = 0; _i7 < _size5; ++_i7) {
          var elem8 = null;
          elem8 = new Constituent();
          elem8.read(input);
          this.constituentList.push(elem8);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Parse.prototype.write = function(output) {
  output.writeStructBegin('Parse');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.constituentList !== null && this.constituentList !== undefined) {
    output.writeFieldBegin('constituentList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.constituentList.length);
    for (var iter9 in this.constituentList) {
      if (this.constituentList.hasOwnProperty(iter9)) {
        iter9 = this.constituentList[iter9];
        iter9.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

ConstituentRef = function(args) {
  this.parseId = null;
  this.constituentIndex = null;
  if (args) {
    if (args.parseId !== undefined && args.parseId !== null) {
      this.parseId = new UUID(args.parseId);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field parseId is unset!');
    }
    if (args.constituentIndex !== undefined && args.constituentIndex !== null) {
      this.constituentIndex = args.constituentIndex;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field constituentIndex is unset!');
    }
  }
};
ConstituentRef.prototype = {};
ConstituentRef.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.parseId = new UUID();
        this.parseId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.constituentIndex = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

ConstituentRef.prototype.write = function(output) {
  output.writeStructBegin('ConstituentRef');
  if (this.parseId !== null && this.parseId !== undefined) {
    output.writeFieldBegin('parseId', Thrift.Type.STRUCT, 1);
    this.parseId.write(output);
    output.writeFieldEnd();
  }
  if (this.constituentIndex !== null && this.constituentIndex !== undefined) {
    output.writeFieldBegin('constituentIndex', Thrift.Type.I32, 2);
    output.writeI32(this.constituentIndex);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Dependency = function(args) {
  this.gov = -1;
  this.dep = null;
  this.edgeType = null;
  if (args) {
    if (args.gov !== undefined && args.gov !== null) {
      this.gov = args.gov;
    }
    if (args.dep !== undefined && args.dep !== null) {
      this.dep = args.dep;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field dep is unset!');
    }
    if (args.edgeType !== undefined && args.edgeType !== null) {
      this.edgeType = args.edgeType;
    }
  }
};
Dependency.prototype = {};
Dependency.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.gov = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.dep = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.edgeType = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Dependency.prototype.write = function(output) {
  output.writeStructBegin('Dependency');
  if (this.gov !== null && this.gov !== undefined) {
    output.writeFieldBegin('gov', Thrift.Type.I32, 1);
    output.writeI32(this.gov);
    output.writeFieldEnd();
  }
  if (this.dep !== null && this.dep !== undefined) {
    output.writeFieldBegin('dep', Thrift.Type.I32, 2);
    output.writeI32(this.dep);
    output.writeFieldEnd();
  }
  if (this.edgeType !== null && this.edgeType !== undefined) {
    output.writeFieldBegin('edgeType', Thrift.Type.STRING, 3);
    output.writeString(this.edgeType);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

DependencyParseStructure = function(args) {
  this.isAcyclic = null;
  this.isConnected = null;
  this.isSingleHeaded = null;
  this.isProjective = null;
  if (args) {
    if (args.isAcyclic !== undefined && args.isAcyclic !== null) {
      this.isAcyclic = args.isAcyclic;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field isAcyclic is unset!');
    }
    if (args.isConnected !== undefined && args.isConnected !== null) {
      this.isConnected = args.isConnected;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field isConnected is unset!');
    }
    if (args.isSingleHeaded !== undefined && args.isSingleHeaded !== null) {
      this.isSingleHeaded = args.isSingleHeaded;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field isSingleHeaded is unset!');
    }
    if (args.isProjective !== undefined && args.isProjective !== null) {
      this.isProjective = args.isProjective;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field isProjective is unset!');
    }
  }
};
DependencyParseStructure.prototype = {};
DependencyParseStructure.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.BOOL) {
        this.isAcyclic = input.readBool().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.BOOL) {
        this.isConnected = input.readBool().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.BOOL) {
        this.isSingleHeaded = input.readBool().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.BOOL) {
        this.isProjective = input.readBool().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

DependencyParseStructure.prototype.write = function(output) {
  output.writeStructBegin('DependencyParseStructure');
  if (this.isAcyclic !== null && this.isAcyclic !== undefined) {
    output.writeFieldBegin('isAcyclic', Thrift.Type.BOOL, 1);
    output.writeBool(this.isAcyclic);
    output.writeFieldEnd();
  }
  if (this.isConnected !== null && this.isConnected !== undefined) {
    output.writeFieldBegin('isConnected', Thrift.Type.BOOL, 2);
    output.writeBool(this.isConnected);
    output.writeFieldEnd();
  }
  if (this.isSingleHeaded !== null && this.isSingleHeaded !== undefined) {
    output.writeFieldBegin('isSingleHeaded', Thrift.Type.BOOL, 3);
    output.writeBool(this.isSingleHeaded);
    output.writeFieldEnd();
  }
  if (this.isProjective !== null && this.isProjective !== undefined) {
    output.writeFieldBegin('isProjective', Thrift.Type.BOOL, 4);
    output.writeBool(this.isProjective);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

DependencyParse = function(args) {
  this.uuid = null;
  this.metadata = null;
  this.dependencyList = null;
  this.structureInformation = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.dependencyList !== undefined && args.dependencyList !== null) {
      this.dependencyList = Thrift.copyList(args.dependencyList, [Dependency]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field dependencyList is unset!');
    }
    if (args.structureInformation !== undefined && args.structureInformation !== null) {
      this.structureInformation = new DependencyParseStructure(args.structureInformation);
    }
  }
};
DependencyParse.prototype = {};
DependencyParse.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.dependencyList = [];
        var _rtmp311 = input.readListBegin();
        var _size10 = _rtmp311.size || 0;
        for (var _i12 = 0; _i12 < _size10; ++_i12) {
          var elem13 = null;
          elem13 = new Dependency();
          elem13.read(input);
          this.dependencyList.push(elem13);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.structureInformation = new DependencyParseStructure();
        this.structureInformation.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

DependencyParse.prototype.write = function(output) {
  output.writeStructBegin('DependencyParse');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.dependencyList !== null && this.dependencyList !== undefined) {
    output.writeFieldBegin('dependencyList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.dependencyList.length);
    for (var iter14 in this.dependencyList) {
      if (this.dependencyList.hasOwnProperty(iter14)) {
        iter14 = this.dependencyList[iter14];
        iter14.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.structureInformation !== null && this.structureInformation !== undefined) {
    output.writeFieldBegin('structureInformation', Thrift.Type.STRUCT, 4);
    this.structureInformation.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Token = function(args) {
  this.tokenIndex = null;
  this.text = null;
  this.textSpan = null;
  this.rawTextSpan = null;
  this.audioSpan = null;
  if (args) {
    if (args.tokenIndex !== undefined && args.tokenIndex !== null) {
      this.tokenIndex = args.tokenIndex;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field tokenIndex is unset!');
    }
    if (args.text !== undefined && args.text !== null) {
      this.text = args.text;
    }
    if (args.textSpan !== undefined && args.textSpan !== null) {
      this.textSpan = new TextSpan(args.textSpan);
    }
    if (args.rawTextSpan !== undefined && args.rawTextSpan !== null) {
      this.rawTextSpan = new TextSpan(args.rawTextSpan);
    }
    if (args.audioSpan !== undefined && args.audioSpan !== null) {
      this.audioSpan = new AudioSpan(args.audioSpan);
    }
  }
};
Token.prototype = {};
Token.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.tokenIndex = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.text = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.textSpan = new TextSpan();
        this.textSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.rawTextSpan = new TextSpan();
        this.rawTextSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRUCT) {
        this.audioSpan = new AudioSpan();
        this.audioSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Token.prototype.write = function(output) {
  output.writeStructBegin('Token');
  if (this.tokenIndex !== null && this.tokenIndex !== undefined) {
    output.writeFieldBegin('tokenIndex', Thrift.Type.I32, 1);
    output.writeI32(this.tokenIndex);
    output.writeFieldEnd();
  }
  if (this.text !== null && this.text !== undefined) {
    output.writeFieldBegin('text', Thrift.Type.STRING, 2);
    output.writeString(this.text);
    output.writeFieldEnd();
  }
  if (this.textSpan !== null && this.textSpan !== undefined) {
    output.writeFieldBegin('textSpan', Thrift.Type.STRUCT, 3);
    this.textSpan.write(output);
    output.writeFieldEnd();
  }
  if (this.rawTextSpan !== null && this.rawTextSpan !== undefined) {
    output.writeFieldBegin('rawTextSpan', Thrift.Type.STRUCT, 4);
    this.rawTextSpan.write(output);
    output.writeFieldEnd();
  }
  if (this.audioSpan !== null && this.audioSpan !== undefined) {
    output.writeFieldBegin('audioSpan', Thrift.Type.STRUCT, 5);
    this.audioSpan.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TokenRefSequence = function(args) {
  this.tokenIndexList = null;
  this.anchorTokenIndex = -1;
  this.tokenizationId = null;
  this.textSpan = null;
  this.rawTextSpan = null;
  this.audioSpan = null;
  this.dependencies = null;
  this.constituent = null;
  if (args) {
    if (args.tokenIndexList !== undefined && args.tokenIndexList !== null) {
      this.tokenIndexList = Thrift.copyList(args.tokenIndexList, [null]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field tokenIndexList is unset!');
    }
    if (args.anchorTokenIndex !== undefined && args.anchorTokenIndex !== null) {
      this.anchorTokenIndex = args.anchorTokenIndex;
    }
    if (args.tokenizationId !== undefined && args.tokenizationId !== null) {
      this.tokenizationId = new UUID(args.tokenizationId);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field tokenizationId is unset!');
    }
    if (args.textSpan !== undefined && args.textSpan !== null) {
      this.textSpan = new TextSpan(args.textSpan);
    }
    if (args.rawTextSpan !== undefined && args.rawTextSpan !== null) {
      this.rawTextSpan = new TextSpan(args.rawTextSpan);
    }
    if (args.audioSpan !== undefined && args.audioSpan !== null) {
      this.audioSpan = new AudioSpan(args.audioSpan);
    }
    if (args.dependencies !== undefined && args.dependencies !== null) {
      this.dependencies = Thrift.copyList(args.dependencies, [Dependency]);
    }
    if (args.constituent !== undefined && args.constituent !== null) {
      this.constituent = new ConstituentRef(args.constituent);
    }
  }
};
TokenRefSequence.prototype = {};
TokenRefSequence.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.tokenIndexList = [];
        var _rtmp316 = input.readListBegin();
        var _size15 = _rtmp316.size || 0;
        for (var _i17 = 0; _i17 < _size15; ++_i17) {
          var elem18 = null;
          elem18 = input.readI32().value;
          this.tokenIndexList.push(elem18);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.anchorTokenIndex = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.tokenizationId = new UUID();
        this.tokenizationId.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.textSpan = new TextSpan();
        this.textSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRUCT) {
        this.rawTextSpan = new TextSpan();
        this.rawTextSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRUCT) {
        this.audioSpan = new AudioSpan();
        this.audioSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.LIST) {
        this.dependencies = [];
        var _rtmp320 = input.readListBegin();
        var _size19 = _rtmp320.size || 0;
        for (var _i21 = 0; _i21 < _size19; ++_i21) {
          var elem22 = null;
          elem22 = new Dependency();
          elem22.read(input);
          this.dependencies.push(elem22);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.STRUCT) {
        this.constituent = new ConstituentRef();
        this.constituent.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TokenRefSequence.prototype.write = function(output) {
  output.writeStructBegin('TokenRefSequence');
  if (this.tokenIndexList !== null && this.tokenIndexList !== undefined) {
    output.writeFieldBegin('tokenIndexList', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.I32, this.tokenIndexList.length);
    for (var iter23 in this.tokenIndexList) {
      if (this.tokenIndexList.hasOwnProperty(iter23)) {
        iter23 = this.tokenIndexList[iter23];
        output.writeI32(iter23);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.anchorTokenIndex !== null && this.anchorTokenIndex !== undefined) {
    output.writeFieldBegin('anchorTokenIndex', Thrift.Type.I32, 2);
    output.writeI32(this.anchorTokenIndex);
    output.writeFieldEnd();
  }
  if (this.tokenizationId !== null && this.tokenizationId !== undefined) {
    output.writeFieldBegin('tokenizationId', Thrift.Type.STRUCT, 3);
    this.tokenizationId.write(output);
    output.writeFieldEnd();
  }
  if (this.textSpan !== null && this.textSpan !== undefined) {
    output.writeFieldBegin('textSpan', Thrift.Type.STRUCT, 4);
    this.textSpan.write(output);
    output.writeFieldEnd();
  }
  if (this.rawTextSpan !== null && this.rawTextSpan !== undefined) {
    output.writeFieldBegin('rawTextSpan', Thrift.Type.STRUCT, 5);
    this.rawTextSpan.write(output);
    output.writeFieldEnd();
  }
  if (this.audioSpan !== null && this.audioSpan !== undefined) {
    output.writeFieldBegin('audioSpan', Thrift.Type.STRUCT, 6);
    this.audioSpan.write(output);
    output.writeFieldEnd();
  }
  if (this.dependencies !== null && this.dependencies !== undefined) {
    output.writeFieldBegin('dependencies', Thrift.Type.LIST, 7);
    output.writeListBegin(Thrift.Type.STRUCT, this.dependencies.length);
    for (var iter24 in this.dependencies) {
      if (this.dependencies.hasOwnProperty(iter24)) {
        iter24 = this.dependencies[iter24];
        iter24.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.constituent !== null && this.constituent !== undefined) {
    output.writeFieldBegin('constituent', Thrift.Type.STRUCT, 8);
    this.constituent.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TaggedToken = function(args) {
  this.tokenIndex = null;
  this.tag = null;
  this.confidence = null;
  this.tagList = null;
  this.confidenceList = null;
  if (args) {
    if (args.tokenIndex !== undefined && args.tokenIndex !== null) {
      this.tokenIndex = args.tokenIndex;
    }
    if (args.tag !== undefined && args.tag !== null) {
      this.tag = args.tag;
    }
    if (args.confidence !== undefined && args.confidence !== null) {
      this.confidence = args.confidence;
    }
    if (args.tagList !== undefined && args.tagList !== null) {
      this.tagList = Thrift.copyList(args.tagList, [null]);
    }
    if (args.confidenceList !== undefined && args.confidenceList !== null) {
      this.confidenceList = Thrift.copyList(args.confidenceList, [null]);
    }
  }
};
TaggedToken.prototype = {};
TaggedToken.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.tokenIndex = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.tag = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.DOUBLE) {
        this.confidence = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.LIST) {
        this.tagList = [];
        var _rtmp326 = input.readListBegin();
        var _size25 = _rtmp326.size || 0;
        for (var _i27 = 0; _i27 < _size25; ++_i27) {
          var elem28 = null;
          elem28 = input.readString().value;
          this.tagList.push(elem28);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.LIST) {
        this.confidenceList = [];
        var _rtmp330 = input.readListBegin();
        var _size29 = _rtmp330.size || 0;
        for (var _i31 = 0; _i31 < _size29; ++_i31) {
          var elem32 = null;
          elem32 = input.readDouble().value;
          this.confidenceList.push(elem32);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TaggedToken.prototype.write = function(output) {
  output.writeStructBegin('TaggedToken');
  if (this.tokenIndex !== null && this.tokenIndex !== undefined) {
    output.writeFieldBegin('tokenIndex', Thrift.Type.I32, 1);
    output.writeI32(this.tokenIndex);
    output.writeFieldEnd();
  }
  if (this.tag !== null && this.tag !== undefined) {
    output.writeFieldBegin('tag', Thrift.Type.STRING, 2);
    output.writeString(this.tag);
    output.writeFieldEnd();
  }
  if (this.confidence !== null && this.confidence !== undefined) {
    output.writeFieldBegin('confidence', Thrift.Type.DOUBLE, 3);
    output.writeDouble(this.confidence);
    output.writeFieldEnd();
  }
  if (this.tagList !== null && this.tagList !== undefined) {
    output.writeFieldBegin('tagList', Thrift.Type.LIST, 4);
    output.writeListBegin(Thrift.Type.STRING, this.tagList.length);
    for (var iter33 in this.tagList) {
      if (this.tagList.hasOwnProperty(iter33)) {
        iter33 = this.tagList[iter33];
        output.writeString(iter33);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.confidenceList !== null && this.confidenceList !== undefined) {
    output.writeFieldBegin('confidenceList', Thrift.Type.LIST, 5);
    output.writeListBegin(Thrift.Type.DOUBLE, this.confidenceList.length);
    for (var iter34 in this.confidenceList) {
      if (this.confidenceList.hasOwnProperty(iter34)) {
        iter34 = this.confidenceList[iter34];
        output.writeDouble(iter34);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TokenTagging = function(args) {
  this.uuid = null;
  this.metadata = null;
  this.taggedTokenList = null;
  this.taggingType = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.taggedTokenList !== undefined && args.taggedTokenList !== null) {
      this.taggedTokenList = Thrift.copyList(args.taggedTokenList, [TaggedToken]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field taggedTokenList is unset!');
    }
    if (args.taggingType !== undefined && args.taggingType !== null) {
      this.taggingType = args.taggingType;
    }
  }
};
TokenTagging.prototype = {};
TokenTagging.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.taggedTokenList = [];
        var _rtmp336 = input.readListBegin();
        var _size35 = _rtmp336.size || 0;
        for (var _i37 = 0; _i37 < _size35; ++_i37) {
          var elem38 = null;
          elem38 = new TaggedToken();
          elem38.read(input);
          this.taggedTokenList.push(elem38);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.taggingType = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TokenTagging.prototype.write = function(output) {
  output.writeStructBegin('TokenTagging');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.taggedTokenList !== null && this.taggedTokenList !== undefined) {
    output.writeFieldBegin('taggedTokenList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.taggedTokenList.length);
    for (var iter39 in this.taggedTokenList) {
      if (this.taggedTokenList.hasOwnProperty(iter39)) {
        iter39 = this.taggedTokenList[iter39];
        iter39.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.taggingType !== null && this.taggingType !== undefined) {
    output.writeFieldBegin('taggingType', Thrift.Type.STRING, 4);
    output.writeString(this.taggingType);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

LatticePath = function(args) {
  this.weight = null;
  this.tokenList = null;
  if (args) {
    if (args.weight !== undefined && args.weight !== null) {
      this.weight = args.weight;
    }
    if (args.tokenList !== undefined && args.tokenList !== null) {
      this.tokenList = Thrift.copyList(args.tokenList, [Token]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field tokenList is unset!');
    }
  }
};
LatticePath.prototype = {};
LatticePath.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.DOUBLE) {
        this.weight = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.tokenList = [];
        var _rtmp341 = input.readListBegin();
        var _size40 = _rtmp341.size || 0;
        for (var _i42 = 0; _i42 < _size40; ++_i42) {
          var elem43 = null;
          elem43 = new Token();
          elem43.read(input);
          this.tokenList.push(elem43);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

LatticePath.prototype.write = function(output) {
  output.writeStructBegin('LatticePath');
  if (this.weight !== null && this.weight !== undefined) {
    output.writeFieldBegin('weight', Thrift.Type.DOUBLE, 1);
    output.writeDouble(this.weight);
    output.writeFieldEnd();
  }
  if (this.tokenList !== null && this.tokenList !== undefined) {
    output.writeFieldBegin('tokenList', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRUCT, this.tokenList.length);
    for (var iter44 in this.tokenList) {
      if (this.tokenList.hasOwnProperty(iter44)) {
        iter44 = this.tokenList[iter44];
        iter44.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Arc = function(args) {
  this.src = null;
  this.dst = null;
  this.token = null;
  this.weight = null;
  if (args) {
    if (args.src !== undefined && args.src !== null) {
      this.src = args.src;
    }
    if (args.dst !== undefined && args.dst !== null) {
      this.dst = args.dst;
    }
    if (args.token !== undefined && args.token !== null) {
      this.token = new Token(args.token);
    }
    if (args.weight !== undefined && args.weight !== null) {
      this.weight = args.weight;
    }
  }
};
Arc.prototype = {};
Arc.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.src = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.dst = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.token = new Token();
        this.token.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.DOUBLE) {
        this.weight = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Arc.prototype.write = function(output) {
  output.writeStructBegin('Arc');
  if (this.src !== null && this.src !== undefined) {
    output.writeFieldBegin('src', Thrift.Type.I32, 1);
    output.writeI32(this.src);
    output.writeFieldEnd();
  }
  if (this.dst !== null && this.dst !== undefined) {
    output.writeFieldBegin('dst', Thrift.Type.I32, 2);
    output.writeI32(this.dst);
    output.writeFieldEnd();
  }
  if (this.token !== null && this.token !== undefined) {
    output.writeFieldBegin('token', Thrift.Type.STRUCT, 3);
    this.token.write(output);
    output.writeFieldEnd();
  }
  if (this.weight !== null && this.weight !== undefined) {
    output.writeFieldBegin('weight', Thrift.Type.DOUBLE, 4);
    output.writeDouble(this.weight);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TokenLattice = function(args) {
  this.startState = 0;
  this.endState = 0;
  this.arcList = null;
  this.cachedBestPath = null;
  if (args) {
    if (args.startState !== undefined && args.startState !== null) {
      this.startState = args.startState;
    }
    if (args.endState !== undefined && args.endState !== null) {
      this.endState = args.endState;
    }
    if (args.arcList !== undefined && args.arcList !== null) {
      this.arcList = Thrift.copyList(args.arcList, [Arc]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field arcList is unset!');
    }
    if (args.cachedBestPath !== undefined && args.cachedBestPath !== null) {
      this.cachedBestPath = new LatticePath(args.cachedBestPath);
    }
  }
};
TokenLattice.prototype = {};
TokenLattice.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.startState = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.endState = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.arcList = [];
        var _rtmp346 = input.readListBegin();
        var _size45 = _rtmp346.size || 0;
        for (var _i47 = 0; _i47 < _size45; ++_i47) {
          var elem48 = null;
          elem48 = new Arc();
          elem48.read(input);
          this.arcList.push(elem48);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.cachedBestPath = new LatticePath();
        this.cachedBestPath.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TokenLattice.prototype.write = function(output) {
  output.writeStructBegin('TokenLattice');
  if (this.startState !== null && this.startState !== undefined) {
    output.writeFieldBegin('startState', Thrift.Type.I32, 1);
    output.writeI32(this.startState);
    output.writeFieldEnd();
  }
  if (this.endState !== null && this.endState !== undefined) {
    output.writeFieldBegin('endState', Thrift.Type.I32, 2);
    output.writeI32(this.endState);
    output.writeFieldEnd();
  }
  if (this.arcList !== null && this.arcList !== undefined) {
    output.writeFieldBegin('arcList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.arcList.length);
    for (var iter49 in this.arcList) {
      if (this.arcList.hasOwnProperty(iter49)) {
        iter49 = this.arcList[iter49];
        iter49.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.cachedBestPath !== null && this.cachedBestPath !== undefined) {
    output.writeFieldBegin('cachedBestPath', Thrift.Type.STRUCT, 4);
    this.cachedBestPath.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TokenList = function(args) {
  this.tokenList = null;
  if (args) {
    if (args.tokenList !== undefined && args.tokenList !== null) {
      this.tokenList = Thrift.copyList(args.tokenList, [Token]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field tokenList is unset!');
    }
  }
};
TokenList.prototype = {};
TokenList.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.tokenList = [];
        var _rtmp351 = input.readListBegin();
        var _size50 = _rtmp351.size || 0;
        for (var _i52 = 0; _i52 < _size50; ++_i52) {
          var elem53 = null;
          elem53 = new Token();
          elem53.read(input);
          this.tokenList.push(elem53);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TokenList.prototype.write = function(output) {
  output.writeStructBegin('TokenList');
  if (this.tokenList !== null && this.tokenList !== undefined) {
    output.writeFieldBegin('tokenList', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.STRUCT, this.tokenList.length);
    for (var iter54 in this.tokenList) {
      if (this.tokenList.hasOwnProperty(iter54)) {
        iter54 = this.tokenList[iter54];
        iter54.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SpanLink = function(args) {
  this.tokens = null;
  this.concreteTarget = null;
  this.externalTarget = null;
  this.linkType = null;
  if (args) {
    if (args.tokens !== undefined && args.tokens !== null) {
      this.tokens = new TokenRefSequence(args.tokens);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field tokens is unset!');
    }
    if (args.concreteTarget !== undefined && args.concreteTarget !== null) {
      this.concreteTarget = new UUID(args.concreteTarget);
    }
    if (args.externalTarget !== undefined && args.externalTarget !== null) {
      this.externalTarget = args.externalTarget;
    }
    if (args.linkType !== undefined && args.linkType !== null) {
      this.linkType = args.linkType;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field linkType is unset!');
    }
  }
};
SpanLink.prototype = {};
SpanLink.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.tokens = new TokenRefSequence();
        this.tokens.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.concreteTarget = new UUID();
        this.concreteTarget.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.externalTarget = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.linkType = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SpanLink.prototype.write = function(output) {
  output.writeStructBegin('SpanLink');
  if (this.tokens !== null && this.tokens !== undefined) {
    output.writeFieldBegin('tokens', Thrift.Type.STRUCT, 1);
    this.tokens.write(output);
    output.writeFieldEnd();
  }
  if (this.concreteTarget !== null && this.concreteTarget !== undefined) {
    output.writeFieldBegin('concreteTarget', Thrift.Type.STRUCT, 2);
    this.concreteTarget.write(output);
    output.writeFieldEnd();
  }
  if (this.externalTarget !== null && this.externalTarget !== undefined) {
    output.writeFieldBegin('externalTarget', Thrift.Type.STRING, 3);
    output.writeString(this.externalTarget);
    output.writeFieldEnd();
  }
  if (this.linkType !== null && this.linkType !== undefined) {
    output.writeFieldBegin('linkType', Thrift.Type.STRING, 4);
    output.writeString(this.linkType);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Tokenization = function(args) {
  this.uuid = null;
  this.metadata = null;
  this.tokenList = null;
  this.lattice = null;
  this.kind = null;
  this.tokenTaggingList = null;
  this.parseList = null;
  this.dependencyParseList = null;
  this.spanLinkList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.metadata !== undefined && args.metadata !== null) {
      this.metadata = new AnnotationMetadata(args.metadata);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field metadata is unset!');
    }
    if (args.tokenList !== undefined && args.tokenList !== null) {
      this.tokenList = new TokenList(args.tokenList);
    }
    if (args.lattice !== undefined && args.lattice !== null) {
      this.lattice = new TokenLattice(args.lattice);
    }
    if (args.kind !== undefined && args.kind !== null) {
      this.kind = args.kind;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field kind is unset!');
    }
    if (args.tokenTaggingList !== undefined && args.tokenTaggingList !== null) {
      this.tokenTaggingList = Thrift.copyList(args.tokenTaggingList, [TokenTagging]);
    }
    if (args.parseList !== undefined && args.parseList !== null) {
      this.parseList = Thrift.copyList(args.parseList, [Parse]);
    }
    if (args.dependencyParseList !== undefined && args.dependencyParseList !== null) {
      this.dependencyParseList = Thrift.copyList(args.dependencyParseList, [DependencyParse]);
    }
    if (args.spanLinkList !== undefined && args.spanLinkList !== null) {
      this.spanLinkList = Thrift.copyList(args.spanLinkList, [SpanLink]);
    }
  }
};
Tokenization.prototype = {};
Tokenization.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.metadata = new AnnotationMetadata();
        this.metadata.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.tokenList = new TokenList();
        this.tokenList.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.lattice = new TokenLattice();
        this.lattice.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.I32) {
        this.kind = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.LIST) {
        this.tokenTaggingList = [];
        var _rtmp356 = input.readListBegin();
        var _size55 = _rtmp356.size || 0;
        for (var _i57 = 0; _i57 < _size55; ++_i57) {
          var elem58 = null;
          elem58 = new TokenTagging();
          elem58.read(input);
          this.tokenTaggingList.push(elem58);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.LIST) {
        this.parseList = [];
        var _rtmp360 = input.readListBegin();
        var _size59 = _rtmp360.size || 0;
        for (var _i61 = 0; _i61 < _size59; ++_i61) {
          var elem62 = null;
          elem62 = new Parse();
          elem62.read(input);
          this.parseList.push(elem62);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.LIST) {
        this.dependencyParseList = [];
        var _rtmp364 = input.readListBegin();
        var _size63 = _rtmp364.size || 0;
        for (var _i65 = 0; _i65 < _size63; ++_i65) {
          var elem66 = null;
          elem66 = new DependencyParse();
          elem66.read(input);
          this.dependencyParseList.push(elem66);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 9:
      if (ftype == Thrift.Type.LIST) {
        this.spanLinkList = [];
        var _rtmp368 = input.readListBegin();
        var _size67 = _rtmp368.size || 0;
        for (var _i69 = 0; _i69 < _size67; ++_i69) {
          var elem70 = null;
          elem70 = new SpanLink();
          elem70.read(input);
          this.spanLinkList.push(elem70);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Tokenization.prototype.write = function(output) {
  output.writeStructBegin('Tokenization');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.metadata !== null && this.metadata !== undefined) {
    output.writeFieldBegin('metadata', Thrift.Type.STRUCT, 2);
    this.metadata.write(output);
    output.writeFieldEnd();
  }
  if (this.tokenList !== null && this.tokenList !== undefined) {
    output.writeFieldBegin('tokenList', Thrift.Type.STRUCT, 3);
    this.tokenList.write(output);
    output.writeFieldEnd();
  }
  if (this.lattice !== null && this.lattice !== undefined) {
    output.writeFieldBegin('lattice', Thrift.Type.STRUCT, 4);
    this.lattice.write(output);
    output.writeFieldEnd();
  }
  if (this.kind !== null && this.kind !== undefined) {
    output.writeFieldBegin('kind', Thrift.Type.I32, 5);
    output.writeI32(this.kind);
    output.writeFieldEnd();
  }
  if (this.tokenTaggingList !== null && this.tokenTaggingList !== undefined) {
    output.writeFieldBegin('tokenTaggingList', Thrift.Type.LIST, 6);
    output.writeListBegin(Thrift.Type.STRUCT, this.tokenTaggingList.length);
    for (var iter71 in this.tokenTaggingList) {
      if (this.tokenTaggingList.hasOwnProperty(iter71)) {
        iter71 = this.tokenTaggingList[iter71];
        iter71.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.parseList !== null && this.parseList !== undefined) {
    output.writeFieldBegin('parseList', Thrift.Type.LIST, 7);
    output.writeListBegin(Thrift.Type.STRUCT, this.parseList.length);
    for (var iter72 in this.parseList) {
      if (this.parseList.hasOwnProperty(iter72)) {
        iter72 = this.parseList[iter72];
        iter72.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.dependencyParseList !== null && this.dependencyParseList !== undefined) {
    output.writeFieldBegin('dependencyParseList', Thrift.Type.LIST, 8);
    output.writeListBegin(Thrift.Type.STRUCT, this.dependencyParseList.length);
    for (var iter73 in this.dependencyParseList) {
      if (this.dependencyParseList.hasOwnProperty(iter73)) {
        iter73 = this.dependencyParseList[iter73];
        iter73.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.spanLinkList !== null && this.spanLinkList !== undefined) {
    output.writeFieldBegin('spanLinkList', Thrift.Type.LIST, 9);
    output.writeListBegin(Thrift.Type.STRUCT, this.spanLinkList.length);
    for (var iter74 in this.spanLinkList) {
      if (this.spanLinkList.hasOwnProperty(iter74)) {
        iter74 = this.spanLinkList[iter74];
        iter74.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Sentence = function(args) {
  this.uuid = null;
  this.tokenization = null;
  this.textSpan = null;
  this.rawTextSpan = null;
  this.audioSpan = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.tokenization !== undefined && args.tokenization !== null) {
      this.tokenization = new Tokenization(args.tokenization);
    }
    if (args.textSpan !== undefined && args.textSpan !== null) {
      this.textSpan = new TextSpan(args.textSpan);
    }
    if (args.rawTextSpan !== undefined && args.rawTextSpan !== null) {
      this.rawTextSpan = new TextSpan(args.rawTextSpan);
    }
    if (args.audioSpan !== undefined && args.audioSpan !== null) {
      this.audioSpan = new AudioSpan(args.audioSpan);
    }
  }
};
Sentence.prototype = {};
Sentence.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.tokenization = new Tokenization();
        this.tokenization.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.textSpan = new TextSpan();
        this.textSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.rawTextSpan = new TextSpan();
        this.rawTextSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRUCT) {
        this.audioSpan = new AudioSpan();
        this.audioSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Sentence.prototype.write = function(output) {
  output.writeStructBegin('Sentence');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.tokenization !== null && this.tokenization !== undefined) {
    output.writeFieldBegin('tokenization', Thrift.Type.STRUCT, 2);
    this.tokenization.write(output);
    output.writeFieldEnd();
  }
  if (this.textSpan !== null && this.textSpan !== undefined) {
    output.writeFieldBegin('textSpan', Thrift.Type.STRUCT, 3);
    this.textSpan.write(output);
    output.writeFieldEnd();
  }
  if (this.rawTextSpan !== null && this.rawTextSpan !== undefined) {
    output.writeFieldBegin('rawTextSpan', Thrift.Type.STRUCT, 4);
    this.rawTextSpan.write(output);
    output.writeFieldEnd();
  }
  if (this.audioSpan !== null && this.audioSpan !== undefined) {
    output.writeFieldBegin('audioSpan', Thrift.Type.STRUCT, 5);
    this.audioSpan.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Section = function(args) {
  this.uuid = null;
  this.sentenceList = null;
  this.textSpan = null;
  this.rawTextSpan = null;
  this.audioSpan = null;
  this.kind = null;
  this.label = null;
  this.numberList = null;
  this.lidList = null;
  if (args) {
    if (args.uuid !== undefined && args.uuid !== null) {
      this.uuid = new UUID(args.uuid);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuid is unset!');
    }
    if (args.sentenceList !== undefined && args.sentenceList !== null) {
      this.sentenceList = Thrift.copyList(args.sentenceList, [Sentence]);
    }
    if (args.textSpan !== undefined && args.textSpan !== null) {
      this.textSpan = new TextSpan(args.textSpan);
    }
    if (args.rawTextSpan !== undefined && args.rawTextSpan !== null) {
      this.rawTextSpan = new TextSpan(args.rawTextSpan);
    }
    if (args.audioSpan !== undefined && args.audioSpan !== null) {
      this.audioSpan = new AudioSpan(args.audioSpan);
    }
    if (args.kind !== undefined && args.kind !== null) {
      this.kind = args.kind;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field kind is unset!');
    }
    if (args.label !== undefined && args.label !== null) {
      this.label = args.label;
    }
    if (args.numberList !== undefined && args.numberList !== null) {
      this.numberList = Thrift.copyList(args.numberList, [null]);
    }
    if (args.lidList !== undefined && args.lidList !== null) {
      this.lidList = Thrift.copyList(args.lidList, [LanguageIdentification]);
    }
  }
};
Section.prototype = {};
Section.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.uuid = new UUID();
        this.uuid.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.sentenceList = [];
        var _rtmp376 = input.readListBegin();
        var _size75 = _rtmp376.size || 0;
        for (var _i77 = 0; _i77 < _size75; ++_i77) {
          var elem78 = null;
          elem78 = new Sentence();
          elem78.read(input);
          this.sentenceList.push(elem78);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRUCT) {
        this.textSpan = new TextSpan();
        this.textSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRUCT) {
        this.rawTextSpan = new TextSpan();
        this.rawTextSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 9:
      if (ftype == Thrift.Type.STRUCT) {
        this.audioSpan = new AudioSpan();
        this.audioSpan.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.kind = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRING) {
        this.label = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.LIST) {
        this.numberList = [];
        var _rtmp380 = input.readListBegin();
        var _size79 = _rtmp380.size || 0;
        for (var _i81 = 0; _i81 < _size79; ++_i81) {
          var elem82 = null;
          elem82 = input.readI32().value;
          this.numberList.push(elem82);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.LIST) {
        this.lidList = [];
        var _rtmp384 = input.readListBegin();
        var _size83 = _rtmp384.size || 0;
        for (var _i85 = 0; _i85 < _size83; ++_i85) {
          var elem86 = null;
          elem86 = new LanguageIdentification();
          elem86.read(input);
          this.lidList.push(elem86);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Section.prototype.write = function(output) {
  output.writeStructBegin('Section');
  if (this.uuid !== null && this.uuid !== undefined) {
    output.writeFieldBegin('uuid', Thrift.Type.STRUCT, 1);
    this.uuid.write(output);
    output.writeFieldEnd();
  }
  if (this.sentenceList !== null && this.sentenceList !== undefined) {
    output.writeFieldBegin('sentenceList', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRUCT, this.sentenceList.length);
    for (var iter87 in this.sentenceList) {
      if (this.sentenceList.hasOwnProperty(iter87)) {
        iter87 = this.sentenceList[iter87];
        iter87.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.textSpan !== null && this.textSpan !== undefined) {
    output.writeFieldBegin('textSpan', Thrift.Type.STRUCT, 3);
    this.textSpan.write(output);
    output.writeFieldEnd();
  }
  if (this.rawTextSpan !== null && this.rawTextSpan !== undefined) {
    output.writeFieldBegin('rawTextSpan', Thrift.Type.STRUCT, 4);
    this.rawTextSpan.write(output);
    output.writeFieldEnd();
  }
  if (this.audioSpan !== null && this.audioSpan !== undefined) {
    output.writeFieldBegin('audioSpan', Thrift.Type.STRUCT, 9);
    this.audioSpan.write(output);
    output.writeFieldEnd();
  }
  if (this.kind !== null && this.kind !== undefined) {
    output.writeFieldBegin('kind', Thrift.Type.STRING, 5);
    output.writeString(this.kind);
    output.writeFieldEnd();
  }
  if (this.label !== null && this.label !== undefined) {
    output.writeFieldBegin('label', Thrift.Type.STRING, 6);
    output.writeString(this.label);
    output.writeFieldEnd();
  }
  if (this.numberList !== null && this.numberList !== undefined) {
    output.writeFieldBegin('numberList', Thrift.Type.LIST, 7);
    output.writeListBegin(Thrift.Type.I32, this.numberList.length);
    for (var iter88 in this.numberList) {
      if (this.numberList.hasOwnProperty(iter88)) {
        iter88 = this.numberList[iter88];
        output.writeI32(iter88);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.lidList !== null && this.lidList !== undefined) {
    output.writeFieldBegin('lidList', Thrift.Type.LIST, 8);
    output.writeListBegin(Thrift.Type.STRUCT, this.lidList.length);
    for (var iter89 in this.lidList) {
      if (this.lidList.hasOwnProperty(iter89)) {
        iter89 = this.lidList[iter89];
        iter89.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


SummarySourceType = {
  'DOCUMENT' : 0,
  'TOKENIZATION' : 1,
  'ENTITY' : 2
};
SummarizationRequest = function(args) {
  this.queryTerms = null;
  this.maximumTokens = null;
  this.maximumCharacters = null;
  this.sourceType = null;
  this.sourceIds = null;
  this.sourceCommunication = null;
  if (args) {
    if (args.queryTerms !== undefined && args.queryTerms !== null) {
      this.queryTerms = Thrift.copyList(args.queryTerms, [null]);
    }
    if (args.maximumTokens !== undefined && args.maximumTokens !== null) {
      this.maximumTokens = args.maximumTokens;
    }
    if (args.maximumCharacters !== undefined && args.maximumCharacters !== null) {
      this.maximumCharacters = args.maximumCharacters;
    }
    if (args.sourceType !== undefined && args.sourceType !== null) {
      this.sourceType = args.sourceType;
    }
    if (args.sourceIds !== undefined && args.sourceIds !== null) {
      this.sourceIds = Thrift.copyList(args.sourceIds, [UUID]);
    }
    if (args.sourceCommunication !== undefined && args.sourceCommunication !== null) {
      this.sourceCommunication = new Communication(args.sourceCommunication);
    }
  }
};
SummarizationRequest.prototype = {};
SummarizationRequest.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.queryTerms = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = input.readString().value;
          this.queryTerms.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.maximumTokens = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.maximumCharacters = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.I32) {
        this.sourceType = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.LIST) {
        this.sourceIds = [];
        var _rtmp35 = input.readListBegin();
        var _size4 = _rtmp35.size || 0;
        for (var _i6 = 0; _i6 < _size4; ++_i6) {
          var elem7 = null;
          elem7 = new UUID();
          elem7.read(input);
          this.sourceIds.push(elem7);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRUCT) {
        this.sourceCommunication = new Communication();
        this.sourceCommunication.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SummarizationRequest.prototype.write = function(output) {
  output.writeStructBegin('SummarizationRequest');
  if (this.queryTerms !== null && this.queryTerms !== undefined) {
    output.writeFieldBegin('queryTerms', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.STRING, this.queryTerms.length);
    for (var iter8 in this.queryTerms) {
      if (this.queryTerms.hasOwnProperty(iter8)) {
        iter8 = this.queryTerms[iter8];
        output.writeString(iter8);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.maximumTokens !== null && this.maximumTokens !== undefined) {
    output.writeFieldBegin('maximumTokens', Thrift.Type.I32, 2);
    output.writeI32(this.maximumTokens);
    output.writeFieldEnd();
  }
  if (this.maximumCharacters !== null && this.maximumCharacters !== undefined) {
    output.writeFieldBegin('maximumCharacters', Thrift.Type.I32, 3);
    output.writeI32(this.maximumCharacters);
    output.writeFieldEnd();
  }
  if (this.sourceType !== null && this.sourceType !== undefined) {
    output.writeFieldBegin('sourceType', Thrift.Type.I32, 4);
    output.writeI32(this.sourceType);
    output.writeFieldEnd();
  }
  if (this.sourceIds !== null && this.sourceIds !== undefined) {
    output.writeFieldBegin('sourceIds', Thrift.Type.LIST, 5);
    output.writeListBegin(Thrift.Type.STRUCT, this.sourceIds.length);
    for (var iter9 in this.sourceIds) {
      if (this.sourceIds.hasOwnProperty(iter9)) {
        iter9 = this.sourceIds[iter9];
        iter9.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.sourceCommunication !== null && this.sourceCommunication !== undefined) {
    output.writeFieldBegin('sourceCommunication', Thrift.Type.STRUCT, 6);
    this.sourceCommunication.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SummaryConcept = function(args) {
  this.tokens = null;
  this.concept = null;
  this.confidence = 1;
  this.utility = 1;
  if (args) {
    if (args.tokens !== undefined && args.tokens !== null) {
      this.tokens = new TokenRefSequence(args.tokens);
    }
    if (args.concept !== undefined && args.concept !== null) {
      this.concept = args.concept;
    }
    if (args.confidence !== undefined && args.confidence !== null) {
      this.confidence = args.confidence;
    }
    if (args.utility !== undefined && args.utility !== null) {
      this.utility = args.utility;
    }
  }
};
SummaryConcept.prototype = {};
SummaryConcept.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.tokens = new TokenRefSequence();
        this.tokens.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.concept = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.DOUBLE) {
        this.confidence = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.DOUBLE) {
        this.utility = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SummaryConcept.prototype.write = function(output) {
  output.writeStructBegin('SummaryConcept');
  if (this.tokens !== null && this.tokens !== undefined) {
    output.writeFieldBegin('tokens', Thrift.Type.STRUCT, 1);
    this.tokens.write(output);
    output.writeFieldEnd();
  }
  if (this.concept !== null && this.concept !== undefined) {
    output.writeFieldBegin('concept', Thrift.Type.STRING, 2);
    output.writeString(this.concept);
    output.writeFieldEnd();
  }
  if (this.confidence !== null && this.confidence !== undefined) {
    output.writeFieldBegin('confidence', Thrift.Type.DOUBLE, 3);
    output.writeDouble(this.confidence);
    output.writeFieldEnd();
  }
  if (this.utility !== null && this.utility !== undefined) {
    output.writeFieldBegin('utility', Thrift.Type.DOUBLE, 4);
    output.writeDouble(this.utility);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

Summary = function(args) {
  this.summaryCommunication = null;
  this.concepts = null;
  if (args) {
    if (args.summaryCommunication !== undefined && args.summaryCommunication !== null) {
      this.summaryCommunication = new Communication(args.summaryCommunication);
    }
    if (args.concepts !== undefined && args.concepts !== null) {
      this.concepts = Thrift.copyList(args.concepts, [SummaryConcept]);
    }
  }
};
Summary.prototype = {};
Summary.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.summaryCommunication = new Communication();
        this.summaryCommunication.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.concepts = [];
        var _rtmp311 = input.readListBegin();
        var _size10 = _rtmp311.size || 0;
        for (var _i12 = 0; _i12 < _size10; ++_i12) {
          var elem13 = null;
          elem13 = new SummaryConcept();
          elem13.read(input);
          this.concepts.push(elem13);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

Summary.prototype.write = function(output) {
  output.writeStructBegin('Summary');
  if (this.summaryCommunication !== null && this.summaryCommunication !== undefined) {
    output.writeFieldBegin('summaryCommunication', Thrift.Type.STRUCT, 1);
    this.summaryCommunication.write(output);
    output.writeFieldEnd();
  }
  if (this.concepts !== null && this.concepts !== undefined) {
    output.writeFieldBegin('concepts', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRUCT, this.concepts.length);
    for (var iter14 in this.concepts) {
      if (this.concepts.hasOwnProperty(iter14)) {
        iter14 = this.concepts[iter14];
        iter14.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SummarizationCapability = function(args) {
  this.type = null;
  this.lang = null;
  if (args) {
    if (args.type !== undefined && args.type !== null) {
      this.type = args.type;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field type is unset!');
    }
    if (args.lang !== undefined && args.lang !== null) {
      this.lang = args.lang;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field lang is unset!');
    }
  }
};
SummarizationCapability.prototype = {};
SummarizationCapability.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.type = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.lang = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SummarizationCapability.prototype.write = function(output) {
  output.writeStructBegin('SummarizationCapability');
  if (this.type !== null && this.type !== undefined) {
    output.writeFieldBegin('type', Thrift.Type.I32, 1);
    output.writeI32(this.type);
    output.writeFieldEnd();
  }
  if (this.lang !== null && this.lang !== undefined) {
    output.writeFieldBegin('lang', Thrift.Type.STRING, 2);
    output.writeString(this.lang);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


//HELPER FUNCTIONS AND STRUCTURES

SummarizationService_summarize_args = function(args) {
  this.query = null;
  if (args) {
    if (args.query !== undefined && args.query !== null) {
      this.query = new SummarizationRequest(args.query);
    }
  }
};
SummarizationService_summarize_args.prototype = {};
SummarizationService_summarize_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.query = new SummarizationRequest();
        this.query.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SummarizationService_summarize_args.prototype.write = function(output) {
  output.writeStructBegin('SummarizationService_summarize_args');
  if (this.query !== null && this.query !== undefined) {
    output.writeFieldBegin('query', Thrift.Type.STRUCT, 1);
    this.query.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SummarizationService_summarize_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new Summary(args.success);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
SummarizationService_summarize_result.prototype = {};
SummarizationService_summarize_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new Summary();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SummarizationService_summarize_result.prototype.write = function(output) {
  output.writeStructBegin('SummarizationService_summarize_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SummarizationService_getCapabilities_args = function(args) {
};
SummarizationService_getCapabilities_args.prototype = {};
SummarizationService_getCapabilities_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SummarizationService_getCapabilities_args.prototype.write = function(output) {
  output.writeStructBegin('SummarizationService_getCapabilities_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SummarizationService_getCapabilities_result = function(args) {
  this.success = null;
  this.ex = null;
  if (args instanceof ServicesException) {
    this.ex = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [SummarizationCapability]);
    }
    if (args.ex !== undefined && args.ex !== null) {
      this.ex = args.ex;
    }
  }
};
SummarizationService_getCapabilities_result.prototype = {};
SummarizationService_getCapabilities_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 0:
      if (ftype == Thrift.Type.LIST) {
        this.success = [];
        var _rtmp316 = input.readListBegin();
        var _size15 = _rtmp316.size || 0;
        for (var _i17 = 0; _i17 < _size15; ++_i17) {
          var elem18 = null;
          elem18 = new SummarizationCapability();
          elem18.read(input);
          this.success.push(elem18);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.ex = new ServicesException();
        this.ex.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

SummarizationService_getCapabilities_result.prototype.write = function(output) {
  output.writeStructBegin('SummarizationService_getCapabilities_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.LIST, 0);
    output.writeListBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter19 in this.success) {
      if (this.success.hasOwnProperty(iter19)) {
        iter19 = this.success[iter19];
        iter19.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.ex !== null && this.ex !== undefined) {
    output.writeFieldBegin('ex', Thrift.Type.STRUCT, 1);
    this.ex.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

SummarizationServiceClient = function(input, output) {
  this.input = input;
  this.output = (!output) ? input : output;
  this.seqid = 0;
};
Thrift.inherits(SummarizationServiceClient, ServiceClient);

SummarizationServiceClient.prototype.summarize = function(query, callback) {
  if (callback === undefined) {
    this.send_summarize(query);
    return this.recv_summarize();
  } else {
    var postData = this.send_summarize(query, true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_summarize);
  }
};

SummarizationServiceClient.prototype.send_summarize = function(query, callback) {
  var params = {
    query: query
  };
  var args = new SummarizationService_summarize_args(params);
  try {
    this.output.writeMessageBegin('summarize', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

SummarizationServiceClient.prototype.recv_summarize = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new SummarizationService_summarize_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'summarize failed: unknown result';
};

SummarizationServiceClient.prototype.getCapabilities = function(callback) {
  if (callback === undefined) {
    this.send_getCapabilities();
    return this.recv_getCapabilities();
  } else {
    var postData = this.send_getCapabilities(true);
    return this.output.getTransport()
      .jqRequest(this, postData, arguments, this.recv_getCapabilities);
  }
};

SummarizationServiceClient.prototype.send_getCapabilities = function(callback) {
  var args = new SummarizationService_getCapabilities_args();
  try {
    this.output.writeMessageBegin('getCapabilities', Thrift.MessageType.CALL, this.seqid);
    args.write(this.output);
    this.output.writeMessageEnd();
    return this.output.getTransport().flush(callback);
  }
  catch (e) {
    if (typeof this.output.getTransport().reset === 'function') {
      this.output.getTransport().reset();
    }
    throw e;
  }
};

SummarizationServiceClient.prototype.recv_getCapabilities = function() {
  var ret = this.input.readMessageBegin();
  var mtype = ret.mtype;
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(this.input);
    this.input.readMessageEnd();
    throw x;
  }
  var result = new SummarizationService_getCapabilities_result();
  result.read(this.input);
  this.input.readMessageEnd();

  if (null !== result.ex) {
    throw result.ex;
  }
  if (null !== result.success) {
    return result.success;
  }
  throw 'getCapabilities failed: unknown result';
};
;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


TwitterUser = function(args) {
  this.id = null;
  this.name = null;
  this.screenName = null;
  this.lang = null;
  this.geoEnabled = null;
  this.createdAt = null;
  this.friendsCount = null;
  this.statusesCount = null;
  this.verified = null;
  this.listedCount = null;
  this.favouritesCount = null;
  this.followersCount = null;
  this.location = null;
  this.timeZone = null;
  this.description = null;
  this.utcOffset = null;
  this.url = null;
  if (args) {
    if (args.id !== undefined && args.id !== null) {
      this.id = args.id;
    }
    if (args.name !== undefined && args.name !== null) {
      this.name = args.name;
    }
    if (args.screenName !== undefined && args.screenName !== null) {
      this.screenName = args.screenName;
    }
    if (args.lang !== undefined && args.lang !== null) {
      this.lang = args.lang;
    }
    if (args.geoEnabled !== undefined && args.geoEnabled !== null) {
      this.geoEnabled = args.geoEnabled;
    }
    if (args.createdAt !== undefined && args.createdAt !== null) {
      this.createdAt = args.createdAt;
    }
    if (args.friendsCount !== undefined && args.friendsCount !== null) {
      this.friendsCount = args.friendsCount;
    }
    if (args.statusesCount !== undefined && args.statusesCount !== null) {
      this.statusesCount = args.statusesCount;
    }
    if (args.verified !== undefined && args.verified !== null) {
      this.verified = args.verified;
    }
    if (args.listedCount !== undefined && args.listedCount !== null) {
      this.listedCount = args.listedCount;
    }
    if (args.favouritesCount !== undefined && args.favouritesCount !== null) {
      this.favouritesCount = args.favouritesCount;
    }
    if (args.followersCount !== undefined && args.followersCount !== null) {
      this.followersCount = args.followersCount;
    }
    if (args.location !== undefined && args.location !== null) {
      this.location = args.location;
    }
    if (args.timeZone !== undefined && args.timeZone !== null) {
      this.timeZone = args.timeZone;
    }
    if (args.description !== undefined && args.description !== null) {
      this.description = args.description;
    }
    if (args.utcOffset !== undefined && args.utcOffset !== null) {
      this.utcOffset = args.utcOffset;
    }
    if (args.url !== undefined && args.url !== null) {
      this.url = args.url;
    }
  }
};
TwitterUser.prototype = {};
TwitterUser.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I64) {
        this.id = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.name = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.screenName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.lang = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.BOOL) {
        this.geoEnabled = input.readBool().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.STRING) {
        this.createdAt = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.I32) {
        this.friendsCount = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 9:
      if (ftype == Thrift.Type.I32) {
        this.statusesCount = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 10:
      if (ftype == Thrift.Type.BOOL) {
        this.verified = input.readBool().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 11:
      if (ftype == Thrift.Type.I32) {
        this.listedCount = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 12:
      if (ftype == Thrift.Type.I32) {
        this.favouritesCount = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 13:
      if (ftype == Thrift.Type.I32) {
        this.followersCount = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 14:
      if (ftype == Thrift.Type.STRING) {
        this.location = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 15:
      if (ftype == Thrift.Type.STRING) {
        this.timeZone = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 16:
      if (ftype == Thrift.Type.STRING) {
        this.description = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 18:
      if (ftype == Thrift.Type.I32) {
        this.utcOffset = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 19:
      if (ftype == Thrift.Type.STRING) {
        this.url = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TwitterUser.prototype.write = function(output) {
  output.writeStructBegin('TwitterUser');
  if (this.id !== null && this.id !== undefined) {
    output.writeFieldBegin('id', Thrift.Type.I64, 1);
    output.writeI64(this.id);
    output.writeFieldEnd();
  }
  if (this.name !== null && this.name !== undefined) {
    output.writeFieldBegin('name', Thrift.Type.STRING, 3);
    output.writeString(this.name);
    output.writeFieldEnd();
  }
  if (this.screenName !== null && this.screenName !== undefined) {
    output.writeFieldBegin('screenName', Thrift.Type.STRING, 4);
    output.writeString(this.screenName);
    output.writeFieldEnd();
  }
  if (this.lang !== null && this.lang !== undefined) {
    output.writeFieldBegin('lang', Thrift.Type.STRING, 5);
    output.writeString(this.lang);
    output.writeFieldEnd();
  }
  if (this.geoEnabled !== null && this.geoEnabled !== undefined) {
    output.writeFieldBegin('geoEnabled', Thrift.Type.BOOL, 6);
    output.writeBool(this.geoEnabled);
    output.writeFieldEnd();
  }
  if (this.createdAt !== null && this.createdAt !== undefined) {
    output.writeFieldBegin('createdAt', Thrift.Type.STRING, 7);
    output.writeString(this.createdAt);
    output.writeFieldEnd();
  }
  if (this.friendsCount !== null && this.friendsCount !== undefined) {
    output.writeFieldBegin('friendsCount', Thrift.Type.I32, 8);
    output.writeI32(this.friendsCount);
    output.writeFieldEnd();
  }
  if (this.statusesCount !== null && this.statusesCount !== undefined) {
    output.writeFieldBegin('statusesCount', Thrift.Type.I32, 9);
    output.writeI32(this.statusesCount);
    output.writeFieldEnd();
  }
  if (this.verified !== null && this.verified !== undefined) {
    output.writeFieldBegin('verified', Thrift.Type.BOOL, 10);
    output.writeBool(this.verified);
    output.writeFieldEnd();
  }
  if (this.listedCount !== null && this.listedCount !== undefined) {
    output.writeFieldBegin('listedCount', Thrift.Type.I32, 11);
    output.writeI32(this.listedCount);
    output.writeFieldEnd();
  }
  if (this.favouritesCount !== null && this.favouritesCount !== undefined) {
    output.writeFieldBegin('favouritesCount', Thrift.Type.I32, 12);
    output.writeI32(this.favouritesCount);
    output.writeFieldEnd();
  }
  if (this.followersCount !== null && this.followersCount !== undefined) {
    output.writeFieldBegin('followersCount', Thrift.Type.I32, 13);
    output.writeI32(this.followersCount);
    output.writeFieldEnd();
  }
  if (this.location !== null && this.location !== undefined) {
    output.writeFieldBegin('location', Thrift.Type.STRING, 14);
    output.writeString(this.location);
    output.writeFieldEnd();
  }
  if (this.timeZone !== null && this.timeZone !== undefined) {
    output.writeFieldBegin('timeZone', Thrift.Type.STRING, 15);
    output.writeString(this.timeZone);
    output.writeFieldEnd();
  }
  if (this.description !== null && this.description !== undefined) {
    output.writeFieldBegin('description', Thrift.Type.STRING, 16);
    output.writeString(this.description);
    output.writeFieldEnd();
  }
  if (this.utcOffset !== null && this.utcOffset !== undefined) {
    output.writeFieldBegin('utcOffset', Thrift.Type.I32, 18);
    output.writeI32(this.utcOffset);
    output.writeFieldEnd();
  }
  if (this.url !== null && this.url !== undefined) {
    output.writeFieldBegin('url', Thrift.Type.STRING, 19);
    output.writeString(this.url);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TwitterLatLong = function(args) {
  this.latitude = null;
  this.longitude = null;
  if (args) {
    if (args.latitude !== undefined && args.latitude !== null) {
      this.latitude = args.latitude;
    }
    if (args.longitude !== undefined && args.longitude !== null) {
      this.longitude = args.longitude;
    }
  }
};
TwitterLatLong.prototype = {};
TwitterLatLong.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.DOUBLE) {
        this.latitude = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.DOUBLE) {
        this.longitude = input.readDouble().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TwitterLatLong.prototype.write = function(output) {
  output.writeStructBegin('TwitterLatLong');
  if (this.latitude !== null && this.latitude !== undefined) {
    output.writeFieldBegin('latitude', Thrift.Type.DOUBLE, 1);
    output.writeDouble(this.latitude);
    output.writeFieldEnd();
  }
  if (this.longitude !== null && this.longitude !== undefined) {
    output.writeFieldBegin('longitude', Thrift.Type.DOUBLE, 2);
    output.writeDouble(this.longitude);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

BoundingBox = function(args) {
  this.type = null;
  this.coordinateList = null;
  if (args) {
    if (args.type !== undefined && args.type !== null) {
      this.type = args.type;
    }
    if (args.coordinateList !== undefined && args.coordinateList !== null) {
      this.coordinateList = Thrift.copyList(args.coordinateList, [TwitterLatLong]);
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field coordinateList is unset!');
    }
  }
};
BoundingBox.prototype = {};
BoundingBox.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.type = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.coordinateList = [];
        var _rtmp31 = input.readListBegin();
        var _size0 = _rtmp31.size || 0;
        for (var _i2 = 0; _i2 < _size0; ++_i2) {
          var elem3 = null;
          elem3 = new TwitterLatLong();
          elem3.read(input);
          this.coordinateList.push(elem3);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

BoundingBox.prototype.write = function(output) {
  output.writeStructBegin('BoundingBox');
  if (this.type !== null && this.type !== undefined) {
    output.writeFieldBegin('type', Thrift.Type.STRING, 1);
    output.writeString(this.type);
    output.writeFieldEnd();
  }
  if (this.coordinateList !== null && this.coordinateList !== undefined) {
    output.writeFieldBegin('coordinateList', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRUCT, this.coordinateList.length);
    for (var iter4 in this.coordinateList) {
      if (this.coordinateList.hasOwnProperty(iter4)) {
        iter4 = this.coordinateList[iter4];
        iter4.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

PlaceAttributes = function(args) {
  this.streetAddress = null;
  this.region = null;
  this.locality = null;
  if (args) {
    if (args.streetAddress !== undefined && args.streetAddress !== null) {
      this.streetAddress = args.streetAddress;
    }
    if (args.region !== undefined && args.region !== null) {
      this.region = args.region;
    }
    if (args.locality !== undefined && args.locality !== null) {
      this.locality = args.locality;
    }
  }
};
PlaceAttributes.prototype = {};
PlaceAttributes.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.streetAddress = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.region = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.locality = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

PlaceAttributes.prototype.write = function(output) {
  output.writeStructBegin('PlaceAttributes');
  if (this.streetAddress !== null && this.streetAddress !== undefined) {
    output.writeFieldBegin('streetAddress', Thrift.Type.STRING, 1);
    output.writeString(this.streetAddress);
    output.writeFieldEnd();
  }
  if (this.region !== null && this.region !== undefined) {
    output.writeFieldBegin('region', Thrift.Type.STRING, 2);
    output.writeString(this.region);
    output.writeFieldEnd();
  }
  if (this.locality !== null && this.locality !== undefined) {
    output.writeFieldBegin('locality', Thrift.Type.STRING, 3);
    output.writeString(this.locality);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

UserMention = function(args) {
  this.startOffset = null;
  this.endOffset = null;
  this.screenName = null;
  this.name = null;
  this.id = null;
  if (args) {
    if (args.startOffset !== undefined && args.startOffset !== null) {
      this.startOffset = args.startOffset;
    }
    if (args.endOffset !== undefined && args.endOffset !== null) {
      this.endOffset = args.endOffset;
    }
    if (args.screenName !== undefined && args.screenName !== null) {
      this.screenName = args.screenName;
    }
    if (args.name !== undefined && args.name !== null) {
      this.name = args.name;
    }
    if (args.id !== undefined && args.id !== null) {
      this.id = args.id;
    }
  }
};
UserMention.prototype = {};
UserMention.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.startOffset = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.endOffset = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.screenName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.name = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.I64) {
        this.id = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

UserMention.prototype.write = function(output) {
  output.writeStructBegin('UserMention');
  if (this.startOffset !== null && this.startOffset !== undefined) {
    output.writeFieldBegin('startOffset', Thrift.Type.I32, 1);
    output.writeI32(this.startOffset);
    output.writeFieldEnd();
  }
  if (this.endOffset !== null && this.endOffset !== undefined) {
    output.writeFieldBegin('endOffset', Thrift.Type.I32, 2);
    output.writeI32(this.endOffset);
    output.writeFieldEnd();
  }
  if (this.screenName !== null && this.screenName !== undefined) {
    output.writeFieldBegin('screenName', Thrift.Type.STRING, 4);
    output.writeString(this.screenName);
    output.writeFieldEnd();
  }
  if (this.name !== null && this.name !== undefined) {
    output.writeFieldBegin('name', Thrift.Type.STRING, 5);
    output.writeString(this.name);
    output.writeFieldEnd();
  }
  if (this.id !== null && this.id !== undefined) {
    output.writeFieldBegin('id', Thrift.Type.I64, 6);
    output.writeI64(this.id);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

URL = function(args) {
  this.startOffset = null;
  this.endOffset = null;
  this.expandedUrl = null;
  this.url = null;
  this.displayUrl = null;
  if (args) {
    if (args.startOffset !== undefined && args.startOffset !== null) {
      this.startOffset = args.startOffset;
    }
    if (args.endOffset !== undefined && args.endOffset !== null) {
      this.endOffset = args.endOffset;
    }
    if (args.expandedUrl !== undefined && args.expandedUrl !== null) {
      this.expandedUrl = args.expandedUrl;
    }
    if (args.url !== undefined && args.url !== null) {
      this.url = args.url;
    }
    if (args.displayUrl !== undefined && args.displayUrl !== null) {
      this.displayUrl = args.displayUrl;
    }
  }
};
URL.prototype = {};
URL.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.startOffset = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.endOffset = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.expandedUrl = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.url = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.displayUrl = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

URL.prototype.write = function(output) {
  output.writeStructBegin('URL');
  if (this.startOffset !== null && this.startOffset !== undefined) {
    output.writeFieldBegin('startOffset', Thrift.Type.I32, 1);
    output.writeI32(this.startOffset);
    output.writeFieldEnd();
  }
  if (this.endOffset !== null && this.endOffset !== undefined) {
    output.writeFieldBegin('endOffset', Thrift.Type.I32, 2);
    output.writeI32(this.endOffset);
    output.writeFieldEnd();
  }
  if (this.expandedUrl !== null && this.expandedUrl !== undefined) {
    output.writeFieldBegin('expandedUrl', Thrift.Type.STRING, 3);
    output.writeString(this.expandedUrl);
    output.writeFieldEnd();
  }
  if (this.url !== null && this.url !== undefined) {
    output.writeFieldBegin('url', Thrift.Type.STRING, 4);
    output.writeString(this.url);
    output.writeFieldEnd();
  }
  if (this.displayUrl !== null && this.displayUrl !== undefined) {
    output.writeFieldBegin('displayUrl', Thrift.Type.STRING, 5);
    output.writeString(this.displayUrl);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

HashTag = function(args) {
  this.text = null;
  this.startOffset = null;
  this.endOffset = null;
  if (args) {
    if (args.text !== undefined && args.text !== null) {
      this.text = args.text;
    }
    if (args.startOffset !== undefined && args.startOffset !== null) {
      this.startOffset = args.startOffset;
    }
    if (args.endOffset !== undefined && args.endOffset !== null) {
      this.endOffset = args.endOffset;
    }
  }
};
HashTag.prototype = {};
HashTag.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.text = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.startOffset = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.endOffset = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

HashTag.prototype.write = function(output) {
  output.writeStructBegin('HashTag');
  if (this.text !== null && this.text !== undefined) {
    output.writeFieldBegin('text', Thrift.Type.STRING, 1);
    output.writeString(this.text);
    output.writeFieldEnd();
  }
  if (this.startOffset !== null && this.startOffset !== undefined) {
    output.writeFieldBegin('startOffset', Thrift.Type.I32, 2);
    output.writeI32(this.startOffset);
    output.writeFieldEnd();
  }
  if (this.endOffset !== null && this.endOffset !== undefined) {
    output.writeFieldBegin('endOffset', Thrift.Type.I32, 3);
    output.writeI32(this.endOffset);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TwitterEntities = function(args) {
  this.hashtagList = null;
  this.urlList = null;
  this.userMentionList = null;
  if (args) {
    if (args.hashtagList !== undefined && args.hashtagList !== null) {
      this.hashtagList = Thrift.copyList(args.hashtagList, [HashTag]);
    }
    if (args.urlList !== undefined && args.urlList !== null) {
      this.urlList = Thrift.copyList(args.urlList, [URL]);
    }
    if (args.userMentionList !== undefined && args.userMentionList !== null) {
      this.userMentionList = Thrift.copyList(args.userMentionList, [UserMention]);
    }
  }
};
TwitterEntities.prototype = {};
TwitterEntities.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.LIST) {
        this.hashtagList = [];
        var _rtmp36 = input.readListBegin();
        var _size5 = _rtmp36.size || 0;
        for (var _i7 = 0; _i7 < _size5; ++_i7) {
          var elem8 = null;
          elem8 = new HashTag();
          elem8.read(input);
          this.hashtagList.push(elem8);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.LIST) {
        this.urlList = [];
        var _rtmp310 = input.readListBegin();
        var _size9 = _rtmp310.size || 0;
        for (var _i11 = 0; _i11 < _size9; ++_i11) {
          var elem12 = null;
          elem12 = new URL();
          elem12.read(input);
          this.urlList.push(elem12);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.LIST) {
        this.userMentionList = [];
        var _rtmp314 = input.readListBegin();
        var _size13 = _rtmp314.size || 0;
        for (var _i15 = 0; _i15 < _size13; ++_i15) {
          var elem16 = null;
          elem16 = new UserMention();
          elem16.read(input);
          this.userMentionList.push(elem16);
        }
        input.readListEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TwitterEntities.prototype.write = function(output) {
  output.writeStructBegin('TwitterEntities');
  if (this.hashtagList !== null && this.hashtagList !== undefined) {
    output.writeFieldBegin('hashtagList', Thrift.Type.LIST, 1);
    output.writeListBegin(Thrift.Type.STRUCT, this.hashtagList.length);
    for (var iter17 in this.hashtagList) {
      if (this.hashtagList.hasOwnProperty(iter17)) {
        iter17 = this.hashtagList[iter17];
        iter17.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.urlList !== null && this.urlList !== undefined) {
    output.writeFieldBegin('urlList', Thrift.Type.LIST, 2);
    output.writeListBegin(Thrift.Type.STRUCT, this.urlList.length);
    for (var iter18 in this.urlList) {
      if (this.urlList.hasOwnProperty(iter18)) {
        iter18 = this.urlList[iter18];
        iter18.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  if (this.userMentionList !== null && this.userMentionList !== undefined) {
    output.writeFieldBegin('userMentionList', Thrift.Type.LIST, 3);
    output.writeListBegin(Thrift.Type.STRUCT, this.userMentionList.length);
    for (var iter19 in this.userMentionList) {
      if (this.userMentionList.hasOwnProperty(iter19)) {
        iter19 = this.userMentionList[iter19];
        iter19.write(output);
      }
    }
    output.writeListEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TwitterPlace = function(args) {
  this.placeType = null;
  this.countryCode = null;
  this.country = null;
  this.fullName = null;
  this.name = null;
  this.id = null;
  this.url = null;
  this.boundingBox = null;
  this.attributes = null;
  if (args) {
    if (args.placeType !== undefined && args.placeType !== null) {
      this.placeType = args.placeType;
    }
    if (args.countryCode !== undefined && args.countryCode !== null) {
      this.countryCode = args.countryCode;
    }
    if (args.country !== undefined && args.country !== null) {
      this.country = args.country;
    }
    if (args.fullName !== undefined && args.fullName !== null) {
      this.fullName = args.fullName;
    }
    if (args.name !== undefined && args.name !== null) {
      this.name = args.name;
    }
    if (args.id !== undefined && args.id !== null) {
      this.id = args.id;
    }
    if (args.url !== undefined && args.url !== null) {
      this.url = args.url;
    }
    if (args.boundingBox !== undefined && args.boundingBox !== null) {
      this.boundingBox = new BoundingBox(args.boundingBox);
    }
    if (args.attributes !== undefined && args.attributes !== null) {
      this.attributes = new PlaceAttributes(args.attributes);
    }
  }
};
TwitterPlace.prototype = {};
TwitterPlace.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.placeType = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.countryCode = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.country = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.fullName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.name = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRING) {
        this.id = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.STRING) {
        this.url = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.STRUCT) {
        this.boundingBox = new BoundingBox();
        this.boundingBox.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 9:
      if (ftype == Thrift.Type.STRUCT) {
        this.attributes = new PlaceAttributes();
        this.attributes.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TwitterPlace.prototype.write = function(output) {
  output.writeStructBegin('TwitterPlace');
  if (this.placeType !== null && this.placeType !== undefined) {
    output.writeFieldBegin('placeType', Thrift.Type.STRING, 1);
    output.writeString(this.placeType);
    output.writeFieldEnd();
  }
  if (this.countryCode !== null && this.countryCode !== undefined) {
    output.writeFieldBegin('countryCode', Thrift.Type.STRING, 2);
    output.writeString(this.countryCode);
    output.writeFieldEnd();
  }
  if (this.country !== null && this.country !== undefined) {
    output.writeFieldBegin('country', Thrift.Type.STRING, 3);
    output.writeString(this.country);
    output.writeFieldEnd();
  }
  if (this.fullName !== null && this.fullName !== undefined) {
    output.writeFieldBegin('fullName', Thrift.Type.STRING, 4);
    output.writeString(this.fullName);
    output.writeFieldEnd();
  }
  if (this.name !== null && this.name !== undefined) {
    output.writeFieldBegin('name', Thrift.Type.STRING, 5);
    output.writeString(this.name);
    output.writeFieldEnd();
  }
  if (this.id !== null && this.id !== undefined) {
    output.writeFieldBegin('id', Thrift.Type.STRING, 6);
    output.writeString(this.id);
    output.writeFieldEnd();
  }
  if (this.url !== null && this.url !== undefined) {
    output.writeFieldBegin('url', Thrift.Type.STRING, 7);
    output.writeString(this.url);
    output.writeFieldEnd();
  }
  if (this.boundingBox !== null && this.boundingBox !== undefined) {
    output.writeFieldBegin('boundingBox', Thrift.Type.STRUCT, 8);
    this.boundingBox.write(output);
    output.writeFieldEnd();
  }
  if (this.attributes !== null && this.attributes !== undefined) {
    output.writeFieldBegin('attributes', Thrift.Type.STRUCT, 9);
    this.attributes.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TwitterCoordinates = function(args) {
  this.type = null;
  this.coordinates = null;
  if (args) {
    if (args.type !== undefined && args.type !== null) {
      this.type = args.type;
    }
    if (args.coordinates !== undefined && args.coordinates !== null) {
      this.coordinates = new TwitterLatLong(args.coordinates);
    }
  }
};
TwitterCoordinates.prototype = {};
TwitterCoordinates.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.type = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.coordinates = new TwitterLatLong();
        this.coordinates.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TwitterCoordinates.prototype.write = function(output) {
  output.writeStructBegin('TwitterCoordinates');
  if (this.type !== null && this.type !== undefined) {
    output.writeFieldBegin('type', Thrift.Type.STRING, 1);
    output.writeString(this.type);
    output.writeFieldEnd();
  }
  if (this.coordinates !== null && this.coordinates !== undefined) {
    output.writeFieldBegin('coordinates', Thrift.Type.STRUCT, 2);
    this.coordinates.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

TweetInfo = function(args) {
  this.id = null;
  this.text = null;
  this.createdAt = null;
  this.user = null;
  this.truncated = null;
  this.entities = null;
  this.source = null;
  this.coordinates = null;
  this.place = null;
  this.favorited = null;
  this.retweeted = null;
  this.retweetCount = null;
  this.inReplyToScreenName = null;
  this.inReplyToStatusId = null;
  this.inReplyToUserId = null;
  this.retweetedScreenName = null;
  this.retweetedStatusId = null;
  this.retweetedUserId = null;
  if (args) {
    if (args.id !== undefined && args.id !== null) {
      this.id = args.id;
    }
    if (args.text !== undefined && args.text !== null) {
      this.text = args.text;
    }
    if (args.createdAt !== undefined && args.createdAt !== null) {
      this.createdAt = args.createdAt;
    }
    if (args.user !== undefined && args.user !== null) {
      this.user = new TwitterUser(args.user);
    }
    if (args.truncated !== undefined && args.truncated !== null) {
      this.truncated = args.truncated;
    }
    if (args.entities !== undefined && args.entities !== null) {
      this.entities = new TwitterEntities(args.entities);
    }
    if (args.source !== undefined && args.source !== null) {
      this.source = args.source;
    }
    if (args.coordinates !== undefined && args.coordinates !== null) {
      this.coordinates = new TwitterCoordinates(args.coordinates);
    }
    if (args.place !== undefined && args.place !== null) {
      this.place = new TwitterPlace(args.place);
    }
    if (args.favorited !== undefined && args.favorited !== null) {
      this.favorited = args.favorited;
    }
    if (args.retweeted !== undefined && args.retweeted !== null) {
      this.retweeted = args.retweeted;
    }
    if (args.retweetCount !== undefined && args.retweetCount !== null) {
      this.retweetCount = args.retweetCount;
    }
    if (args.inReplyToScreenName !== undefined && args.inReplyToScreenName !== null) {
      this.inReplyToScreenName = args.inReplyToScreenName;
    }
    if (args.inReplyToStatusId !== undefined && args.inReplyToStatusId !== null) {
      this.inReplyToStatusId = args.inReplyToStatusId;
    }
    if (args.inReplyToUserId !== undefined && args.inReplyToUserId !== null) {
      this.inReplyToUserId = args.inReplyToUserId;
    }
    if (args.retweetedScreenName !== undefined && args.retweetedScreenName !== null) {
      this.retweetedScreenName = args.retweetedScreenName;
    }
    if (args.retweetedStatusId !== undefined && args.retweetedStatusId !== null) {
      this.retweetedStatusId = args.retweetedStatusId;
    }
    if (args.retweetedUserId !== undefined && args.retweetedUserId !== null) {
      this.retweetedUserId = args.retweetedUserId;
    }
  }
};
TweetInfo.prototype = {};
TweetInfo.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.I64) {
        this.id = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.STRING) {
        this.text = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.createdAt = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRUCT) {
        this.user = new TwitterUser();
        this.user.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.BOOL) {
        this.truncated = input.readBool().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.STRUCT) {
        this.entities = new TwitterEntities();
        this.entities.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 8:
      if (ftype == Thrift.Type.STRING) {
        this.source = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 9:
      if (ftype == Thrift.Type.STRUCT) {
        this.coordinates = new TwitterCoordinates();
        this.coordinates.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 11:
      if (ftype == Thrift.Type.STRUCT) {
        this.place = new TwitterPlace();
        this.place.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 12:
      if (ftype == Thrift.Type.BOOL) {
        this.favorited = input.readBool().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 13:
      if (ftype == Thrift.Type.BOOL) {
        this.retweeted = input.readBool().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 14:
      if (ftype == Thrift.Type.I32) {
        this.retweetCount = input.readI32().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 15:
      if (ftype == Thrift.Type.STRING) {
        this.inReplyToScreenName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 16:
      if (ftype == Thrift.Type.I64) {
        this.inReplyToStatusId = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 18:
      if (ftype == Thrift.Type.I64) {
        this.inReplyToUserId = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 19:
      if (ftype == Thrift.Type.STRING) {
        this.retweetedScreenName = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 20:
      if (ftype == Thrift.Type.I64) {
        this.retweetedStatusId = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 21:
      if (ftype == Thrift.Type.I64) {
        this.retweetedUserId = input.readI64().value;
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

TweetInfo.prototype.write = function(output) {
  output.writeStructBegin('TweetInfo');
  if (this.id !== null && this.id !== undefined) {
    output.writeFieldBegin('id', Thrift.Type.I64, 1);
    output.writeI64(this.id);
    output.writeFieldEnd();
  }
  if (this.text !== null && this.text !== undefined) {
    output.writeFieldBegin('text', Thrift.Type.STRING, 3);
    output.writeString(this.text);
    output.writeFieldEnd();
  }
  if (this.createdAt !== null && this.createdAt !== undefined) {
    output.writeFieldBegin('createdAt', Thrift.Type.STRING, 4);
    output.writeString(this.createdAt);
    output.writeFieldEnd();
  }
  if (this.user !== null && this.user !== undefined) {
    output.writeFieldBegin('user', Thrift.Type.STRUCT, 5);
    this.user.write(output);
    output.writeFieldEnd();
  }
  if (this.truncated !== null && this.truncated !== undefined) {
    output.writeFieldBegin('truncated', Thrift.Type.BOOL, 6);
    output.writeBool(this.truncated);
    output.writeFieldEnd();
  }
  if (this.entities !== null && this.entities !== undefined) {
    output.writeFieldBegin('entities', Thrift.Type.STRUCT, 7);
    this.entities.write(output);
    output.writeFieldEnd();
  }
  if (this.source !== null && this.source !== undefined) {
    output.writeFieldBegin('source', Thrift.Type.STRING, 8);
    output.writeString(this.source);
    output.writeFieldEnd();
  }
  if (this.coordinates !== null && this.coordinates !== undefined) {
    output.writeFieldBegin('coordinates', Thrift.Type.STRUCT, 9);
    this.coordinates.write(output);
    output.writeFieldEnd();
  }
  if (this.place !== null && this.place !== undefined) {
    output.writeFieldBegin('place', Thrift.Type.STRUCT, 11);
    this.place.write(output);
    output.writeFieldEnd();
  }
  if (this.favorited !== null && this.favorited !== undefined) {
    output.writeFieldBegin('favorited', Thrift.Type.BOOL, 12);
    output.writeBool(this.favorited);
    output.writeFieldEnd();
  }
  if (this.retweeted !== null && this.retweeted !== undefined) {
    output.writeFieldBegin('retweeted', Thrift.Type.BOOL, 13);
    output.writeBool(this.retweeted);
    output.writeFieldEnd();
  }
  if (this.retweetCount !== null && this.retweetCount !== undefined) {
    output.writeFieldBegin('retweetCount', Thrift.Type.I32, 14);
    output.writeI32(this.retweetCount);
    output.writeFieldEnd();
  }
  if (this.inReplyToScreenName !== null && this.inReplyToScreenName !== undefined) {
    output.writeFieldBegin('inReplyToScreenName', Thrift.Type.STRING, 15);
    output.writeString(this.inReplyToScreenName);
    output.writeFieldEnd();
  }
  if (this.inReplyToStatusId !== null && this.inReplyToStatusId !== undefined) {
    output.writeFieldBegin('inReplyToStatusId', Thrift.Type.I64, 16);
    output.writeI64(this.inReplyToStatusId);
    output.writeFieldEnd();
  }
  if (this.inReplyToUserId !== null && this.inReplyToUserId !== undefined) {
    output.writeFieldBegin('inReplyToUserId', Thrift.Type.I64, 18);
    output.writeI64(this.inReplyToUserId);
    output.writeFieldEnd();
  }
  if (this.retweetedScreenName !== null && this.retweetedScreenName !== undefined) {
    output.writeFieldBegin('retweetedScreenName', Thrift.Type.STRING, 19);
    output.writeString(this.retweetedScreenName);
    output.writeFieldEnd();
  }
  if (this.retweetedStatusId !== null && this.retweetedStatusId !== undefined) {
    output.writeFieldBegin('retweetedStatusId', Thrift.Type.I64, 20);
    output.writeI64(this.retweetedStatusId);
    output.writeFieldEnd();
  }
  if (this.retweetedUserId !== null && this.retweetedUserId !== undefined) {
    output.writeFieldBegin('retweetedUserId', Thrift.Type.I64, 21);
    output.writeI64(this.retweetedUserId);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;//
// Autogenerated by Thrift Compiler (0.19.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
if (typeof Int64 === 'undefined' && typeof require === 'function') {
  var Int64 = require('node-int64');
}


UUID = function(args) {
  this.uuidString = null;
  if (args) {
    if (args.uuidString !== undefined && args.uuidString !== null) {
      this.uuidString = args.uuidString;
    } else {
      throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.UNKNOWN, 'Required field uuidString is unset!');
    }
  }
};
UUID.prototype = {};
UUID.prototype.read = function(input) {
  input.readStructBegin();
  while (true) {
    var ret = input.readFieldBegin();
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid) {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.uuidString = input.readString().value;
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

UUID.prototype.write = function(output) {
  output.writeStructBegin('UUID');
  if (this.uuidString !== null && this.uuidString !== undefined) {
    output.writeFieldBegin('uuidString', Thrift.Type.STRING, 1);
    output.writeString(this.uuidString);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

;/**
 * @namespace concrete
 */
var concrete = concrete || {};

/**
 * @namespace concrete.util
 */
concrete.util = (function() {
  var util = {};

  /**
   * Generate a Concrete UUID
   *
   * @returns {UUID}
   *
   * @function concrete.util.generateUUID
   * @memberof concrete.util
   */
  util.generateUUID = function() {
    var uuid = new UUID();
    uuid.uuidString = util.generateUUIDString();
    return uuid;
  };

  /**
   * Generate a UUID string
   * Code based on the uuid.core.js script from MIT licensed project 'UUID.js':
   *    https://github.com/LiosK/UUID.js
   *
   * @returns {String}
   *
   * @function concrete.util.generateUUIDString
   * @memberof concrete.util
   */
  util.generateUUIDString = function() {
    /**
     * Returns an unsigned x-bit random integer.
     * @param {int} x A positive integer ranging from 0 to 53, inclusive.
     * @returns {int} An unsigned x-bit random integer (0 <= f(x) < 2^x).
     */
    function rand(x) {  // _getRandomInt
      if (x <   0) return NaN;
      if (x <= 30) return (0 | Math.random() * (1 <<      x));
      if (x <= 53) return (0 | Math.random() * (1 <<     30)) +
        (0 | Math.random() * (1 << x - 30)) * (1 << 30);
      return NaN;
    }

    /**
     * Converts an integer to a zero-filled hexadecimal string.
     * @param {int} num
     * @param {int} length
     * @returns {string}
     */
    function hex(num, length) { // _hexAligner
      var str = num.toString(16), i = length - str.length, z = "0";
      for (; i > 0; i >>>= 1, z += z) { if (i & 1) { str = z + str; } }
      return str;
    }

    return  hex(rand(32), 8) +    // time_low
      "-" +
      hex(rand(16), 4) +          // time_mid
      "-" +
      hex(0x4000 | rand(12), 4) + // time_hi_and_version
      "-" +
      hex(0x8000 | rand(14), 4) + // clock_seq_hi_and_reserved clock_seq_low
      "-" +
      hex(rand(48), 12);        // node
  };

  /** Retrieve HTTP GET parameters by name
   *
   * Adapted from:
   *   http://stackoverflow.com/questions/19491336/get-url-parameter-jquery-or-how-to-get-query-string-values-in-js
   *
   * @param {String} sParam - Name of HTTP GET parameter to retrieve
   * @returns {String}
   *
   * @function concrete.util.getURLParameter
   * @memberof concrete.util
   */
  util.getURLParameter = function(sParam) {
    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
      sParameterName = sURLVariables[i].split('=');

      if (sParameterName[0] === sParam) {
        return sParameterName[1] === undefined ? true : sParameterName[1];
      }
    }
  };


  /**
   * Takes a string, returns a version of the string that replaces
   * any of the CSS selector metacharacters:
   *   !"#$%&'()*+,./:;<=>?@[\]^`{|}~
   * with an underscore.  Per the jQuery documentation, these
   * metacharacters in CSS selector names if they are escaped with '\\',
   * but replacing them with underscores seems less likely to cause
   * strange behavior.
   *
   * Useful for handling Entity IDs that are prefixed with a colon,
   * e.g. ':Entity_ENG_EDL_0088070'.
   *
   * @param {String} s
   * @returns {String}
   */
  util.selectorSafeString = function(s) {
    return s.replace(/[!"#$%&'()*+,./:;<=>?@[\]^`{|}~]/g, '_');
  };


  return util;
})();
;/**
 * @class Communication
 * @classdesc concrete.js extensions to the Communication class
 */


/**
 * Adds internal references between data structures contained in Communication
 *
 * Specifically, adds:
 *   - to each concrete.Section, a section.communication reference to the enclosing Communication
 *   - to each concrete.Sentence, a sentence.section reference to the enclosing Section
 *   - to each concrete.Tokenization, a tokenization.sentence reference to the enclosing Sentence
 */
Communication.prototype.addInternalReferences = function() {
  if (this.sectionList) {
    for (var sectionIndex in this.sectionList) {
      var section = this.sectionList[sectionIndex];
      // We add both a 'comm' and 'communication' field to each section.  We
      // originally only added 'comm', but 'communication' is arguably more
      // consistent.  We keep both variable names to avoid breaking existing code.
      section.comm = this;
      section.communication = this;

      if (section.sentenceList) {
        for (var sentenceIndex in section.sentenceList) {
          var sentence = section.sentenceList[sentenceIndex];
          sentence.section = section;
          if (sentence.tokenization) {
            sentence.tokenization.sentence = sentence;
          }
        }
      }
    }
  }
};


/**
 * Return the Entity (or null) that has an EntityMention with the specified UUID
 *
 * @param {UUID} uuid
 * @returns {Entity|null}
 */
Communication.prototype.getEntityForEntityMentionUUID = function(uuid) {
  if (!uuid || !uuid.uuidString) {
    console.error("ERROR: getEntityForEntityMentionUUID() was not passed a valid UUID");
    return null;
  }

  if (this.entitySetList) {
    for (var entitySetIndex in this.entitySetList) {
      var entityList = this.entitySetList[entitySetIndex].entityList;
      for (var entityIndex in entityList) {
        var entity = entityList[entityIndex];
        for (var entityMentionIndex in entity.mentionIdList) {
          if (entity.mentionIdList[entityMentionIndex].uuidString === uuid.uuidString) {
            return entity;
          }
        }
      }
    }
  }
  // TODO: Error handling if no matching UUID could be found
  console.error("ERROR: No Entity found for EntityMention with UUID " + uuid.uuidString);
  return null;
};


/**
 * Return the EntityMentionSet in the Communication with the specified toolname
 *
 * @param {String} toolname
 * @returns {EntityMentionSet|null}
 */
Communication.prototype.getEntityMentionSetWithToolname = function(toolname) {
  if (this.entityMentionSetList && this.entityMentionSetList.length > 0) {
    for (var i = 0; i < this.entityMentionSetList.length; i++) {
      if (this.entityMentionSetList[i].metadata.tool === toolname) {
        return this.entityMentionSetList[i];
      }
    }
  }
  return null;
};


/**
 * Return the EntityMention (or null) with the specified UUID
 *
 * @param {UUID} uuid
 * @returns {EntityMention|null}
 */
Communication.prototype.getEntityMentionWithUUID = function(uuid) {
  if (!uuid || !uuid.uuidString) {
    console.error("ERROR: getEntityMentionWithUUID() was not passed a valid UUID");
    return null;
  }

  if (this.entityMentionSetList) {
    for (var entityMentionSetIndex in this.entityMentionSetList) {
      if (this.entityMentionSetList[entityMentionSetIndex].mentionList) {
        for (var mentionListIndex in this.entityMentionSetList[entityMentionSetIndex].mentionList) {
          var entityMention = this.entityMentionSetList[entityMentionSetIndex].mentionList[mentionListIndex];
          if (entityMention.uuid.uuidString == uuid.uuidString) {
            return entityMention;
          }
        }
      }
    }
  }
  // TODO: Error handling if no matching UUID could be found
  console.error("ERROR: No EntityMention found with UUID " + uuid.uuidString);
  return null;
};


/**
 * Return the Entity (or null) that has the specified Entity ID
 *
 * @param {String} entityId
 * @returns {Entity|null}
 */
Communication.prototype.getEntityWithEntityId = function(entityId) {
  if (!entityId) {
    console.error("ERROR: getEntityWithEntityId() was not passed a valid entityId");
    return null;
  }

  if (this.entitySetList) {
    for (var entitySetIndex in this.entitySetList) {
      var entityList = this.entitySetList[entitySetIndex].entityList;
      for (var entityIndex in entityList) {
        var entity = entityList[entityIndex];
        if (entity.id === entityId) {
          return entity;
        }
      }
    }
  }
  // TODO: Error handling if no matching entityId could be found
  console.error("ERROR: No Entity found for entityId " + entityId);
  return null;
};


/**
 * Return the first Sentence in a Communication if it exists, or null
 *
 * @returns {Sentence|null}
 */
Communication.prototype.getFirstSentence = function() {
  // The first few Sections may be empty, so we need to iterate over Sections
  if (this.sectionList && this.sectionList.length) {
    for (var i = 0; i < this.sectionList.length; i++) {
      if (this.sectionList[i].sentenceList && this.sectionList[i].sentenceList.length) {
        return this.sectionList[i].sentenceList[0];
      }
    }
  }
  return null;
};


/**
 * Return the first Tokenization in a Communication if it exists, or null
 *
 * @returns {Tokenization|null}
 */
Communication.prototype.getFirstTokenization = function() {
  var firstSentence = this.getFirstSentence();
  if (firstSentence) {
    return firstSentence.tokenization;
  }
  else {
    return null;
  }
};


/**
 * Return the Sentence (or null) with the specified UUID
 *
 * @param {UUID} uuid
 * @returns {Sentence|null}
 */
Communication.prototype.getSentenceWithUUID = function(uuid) {
  if (!uuid || !uuid.uuidString) {
    console.error("ERROR: getSentenceWithUUID() was not passed a valid UUID");
    return null;
  }

  if (this.sectionList) {
    for (var sectionListIndex in this.sectionList) {
      var section = this.sectionList[sectionListIndex];
      if (section.sentenceList) {
        for (var sentenceIndex in section.sentenceList) {
          var sentence = section.sentenceList[sentenceIndex];
          if (sentence.uuid.uuidString == uuid.uuidString) {
            return sentence;
          }
        }
      }
    }
  }
  // TODO: Error handling if no matching UUID could be found
  console.error("ERROR: No Sentence found with UUID " + uuid.uuidString);
  return null;
};


/**
 * Return the SituationMention (or null) with the specified UUID
 *
 * @param {UUID} uuid
 * @returns {SituationMention|null}
 */
Communication.prototype.getSituationMentionWithUUID = function(uuid) {
  if (!uuid || !uuid.uuidString) {
    console.error("ERROR: getSituationMentionWithUUID() was not passed a valid UUID");
    return null;
  }

  if (this.situationMentionSetList) {
    for (var situationMentionSetIndex in this.situationMentionSetList) {
      var situationMentionSet = this.situationMentionSetList[situationMentionSetIndex];
      for (var mentionListIndex in situationMentionSet.mentionList) {
        var mention = situationMentionSet.mentionList[mentionListIndex];
        if (mention.uuid.uuidString === uuid.uuidString) {
          return mention;
        }
      }
    }
  }
  // TODO: Error handling if no matching UUID could be found
  console.error("ERROR: No SituationMention found with UUID " + uuid.uuidString);
  return null;
};


/**
 * Return all Sections in a Communication as a (flat) list
 *
 * @returns {List}
 */
Communication.prototype.getSectionsAsList = function() {
  var sections = [];

  if (this.sectionList && this.sectionList.length) {
    for (var i = 0; i < this.sectionList.length; i++) {
      sections.push(this.sectionList[i]);
    }
  }

  return sections;
};


/**
 * Return all Sentences in a Communication as a (flat) list
 *
 * @returns {List}
 */
Communication.prototype.getSentencesAsList = function() {
  var sentences = [];

  if (this.sectionList && this.sectionList.length) {
    for (var i = 0; i < this.sectionList.length; i++) {
      if (this.sectionList[i].sentenceList && this.sectionList[i].sentenceList.length) {
        for (var j = 0; j < this.sectionList[i].sentenceList.length; j++) {
          sentences.push(this.sectionList[i].sentenceList[j]);
        }
      }
    }
  }

  return sentences;
};


/**
 * Return all Tokenizations in a Communication as a (flat) list
 *
 * @returns {List}
 */
Communication.prototype.getTokenizationsAsList = function() {
  var tokenizations = [];

  if (this.sectionList && this.sectionList.length) {
    for (var i = 0; i < this.sectionList.length; i++) {
      if (this.sectionList[i].sentenceList && this.sectionList[i].sentenceList.length) {
        for (var j = 0; j < this.sectionList[i].sentenceList.length; j++) {
          if (this.sectionList[i].sentenceList[j].tokenization) {
            tokenizations.push(this.sectionList[i].sentenceList[j].tokenization);
          }
        }
      }
    }
  }

  return tokenizations;
};

/**
 * Return the Tokenization (or null) with the specified UUID
 *
 * @param {UUID} uuid
 * @returns {Tokenization|null}
 */
Communication.prototype.getTokenizationWithUUID = function(uuid) {
  if (!uuid || !uuid.uuidString) {
    console.error("ERROR: getTokenizationWithUUID() was not passed a valid UUID");
    return null;
  }

  if (this.sectionList) {
    for (var sectionListIndex in this.sectionList) {
      var section = this.sectionList[sectionListIndex];
      if (section.sentenceList) {
        for (var sentenceIndex in section.sentenceList) {
          var sentence = section.sentenceList[sentenceIndex];
          if (sentence.tokenization && sentence.tokenization.uuid.uuidString == uuid.uuidString) {
            return sentence.tokenization;
          }
        }
      }
    }
  }
  // TODO: Error handling if no matching UUID could be found
  console.error("ERROR: No Tokenization found with UUID " + uuid.uuidString);
  return null;
};


/**
 * Get list of token text strings for the EntityMention specified by the UUID
 *
 * @param {UUID} mentionId
 * @returns {Array} An array of token text strings
 */
Communication.prototype.getTokensForEntityMentionID = function(mentionId) {
  var entityMention = this.getEntityMentionWithUUID(mentionId);
  var tokenization = this.getTokenizationWithUUID(entityMention.tokens.tokenizationId);

  var tokens = [];

  for (var tokenIndex in entityMention.tokens.tokenIndexList) {
    tokens.push(tokenization.tokenList.tokenList[entityMention.tokens.tokenIndexList[tokenIndex]].text);
  }
  return tokens;
};


/**
 * Initialize Communication from a TJSONProtocol object created from a Communication.
 *
 * Thrift's TJSONProtocol is used to serialize objects to JSON.  The objects look
 * something like this:
 *
 *     {
 *       "1":{"str":"tests/testdata/serif_dog-bites-man.xml"},
 *       "2":{"rec":{"1":{"str":"a90d397a-560f-44a0-baae-c82a34e4be09"}}},
 *       "3":{"str":"CommunicationType.OTHER"},
 *       ...
 *     }
 *
 * @param {Object} commJSONObject - An object created from a Communication using TJSONProtocol
 * @returns {Communication} - This Communication
 */
Communication.prototype.initFromTJSONProtocolObject = function(commJSONObject) {
  // We convert the JSON object to a JSON string, and then
  // initFromTJSONProtocol converts the JSON string back to a JSON
  // object.  This is done deliberately.  We create a copy of the
  // original JSON object, and this copy is then destructively
  // modified by Communication.read().
  return this.initFromTJSONProtocolString(JSON.stringify(commJSONObject));
};


/**
 * Initialize Communication from a TJSONProtocol string created from a Communication
 *
 * @param {String} commJSONString - A JSON string created from a Communication using TJSONProtocol
 * @returns {Communication} - This Communication
 */
Communication.prototype.initFromTJSONProtocolString = function(commJSONString) {
  var commJSONObject = JSON.parse(commJSONString);
  var transport = new Thrift.Transport();
  var protocol = new Thrift.TJSONProtocol(transport);

  // The values for these protocol object fields was determined by
  // mucking around with the JavaScript debugger to figure out how
  // Thrift RPC calls used TJSONProtocol objects.
  protocol.rpos = [];

  // The object stored in protocol.rstack[] is destructively modified
  // by Communication.read()
  protocol.rstack = [commJSONObject];

  this.read(protocol);

  return this;
};


/**
 * Returns JSON object for Communication serialized using TJSONProtocol
 *
 * @returns {Object}
 */
Communication.prototype.toTJSONProtocolObject = function() {
  return JSON.parse(this.toTJSONProtocolString());
};


/**
 * Returns JSON string for Communication serialized using TJSONProtocol
 *
 * @returns {String}
 */
Communication.prototype.toTJSONProtocolString = function() {
  var transport = new Thrift.Transport();
  var protocol = new Thrift.TJSONProtocol(transport);
  protocol.tpos = [];
  protocol.tstack = [];
  this.write(protocol);

  return protocol.tstack[0];
};
;/**
 * @external jQuery_Object
 * @see https://learn.jquery.com/using-jquery-core/jquery-object/
 */

/**
 * @namespace concrete
 */
var concrete = concrete || {};

/**
 * @namespace concrete.widget
 */
concrete.widget = (function() {
  var widget = {};

  /**
   * Returns a jQuery object containing the DOM structure:
   *
   *     <div class="communication communication_[COMMUNICATION_UUID]">
   *         <div class="section section_[SECTION_UUID]">
   *             [...]
   *         <div class="section section_[SECTION_UUID]">
   *             [...]
   *
   * {@link concrete.widget.createCommunicationDiv} calls
   * {@link concrete.widget.createSectionDiv} to create the
   * DOM structure for the Sections.  The `options` object
   * is passed to {@link concrete.widget.createSectionDiv}
   * (which passes it to {@link concrete.widget.createSentenceDiv},
   * which passes it to {@link concrete.widget.createTokenizationDiv}).
   *
   * Parameters for `options` object:
   * - `convertTreebankBrackets` (Boolean): Convert
   *   {@link http://www.cis.upenn.edu/~treebank/tokenization.html Penn Treebank-style symbols}
   *   for bracket characters to corresponding bracket characters.
   *   Default value: *true*
   * - `whitespaceTokenization` (Boolean): Use whitespace
   *   tokenization instead of character offsets specified
   *   by the Tokenization.  Default value: *false*
   *
   * @param {Communication} communication
   * @param {Object} options
   * @returns {external:jQuery_Object}
   *
   * @function concrete.widget.createCommunicationDiv
   * @memberof concrete.widget
   */
  widget.createCommunicationDiv = function(communication, options) {
    if (!communication) {
      throw 'ERROR: CreateWidgets.createCommunicationDiv() must be passed a communication';
    }

    var communicationDiv = $('<div>')
        .addClass('communication communication_' + communication.uuid.uuidString);
    if (options && options.communicationDivClass) {
      communicationDiv.addClass(options.communicationDivClass);
    }

    if (communication.sectionList && communication.sectionList.length) {
      for (var i = 0; i < communication.sectionList.length; i++) {
        communicationDiv.append(
          widget.createSectionDiv(communication.sectionList[i], options));
      }
    }
    else {
      console.log('WARNING: CreateWidgets.createCommunicationsDiv() was passed a Communication ' +
                  'without any Sections');
      communicationDiv.text(communication.text);
    }

    return communicationDiv;
  };

  /**
   * Returns a jQuery object containing the DOM structure:
   *
   *     <div class="section section_[SECTION_UUID]">
   *         <div class="sentence sentence_[SENTENCE_UUID]">
   *             [...]
   *         <span class="sentence_padding"> </span>
   *         <div class="sentence sentence_[SENTENCE_UUID]">
   *             [...]
   *
   * {@link concrete.widget.createSectionDiv} calls
   * {@link concrete.widget.createSentenceDiv}
   * to create the DOM structure for the Sentence.
   *
   * See {@link concrete.widget.createCommunicationDiv} for
   * a list of possible `options` object parameters.
   *
   * @param {Section} section
   * @param {Object} options
   * @returns {external:jQuery_Object}
   *
   * @function concrete.widget.createSectionDiv
   * @memberof concrete.widget
   */
  widget.createSectionDiv = function(section, options) {
    if (!section) {
      throw 'CreateWidgets.createSectionDiv() must be passed a section';
    }

    var opts = $.extend({}, widget.createSectionDiv.defaultOptions, options);

    var sectionDiv = $('<div>')
        .addClass('section section_' + section.uuid.uuidString +
                  ' section_kind_' + concrete.util.selectorSafeString(section.kind))
        .data('section', section);
    if (opts.sectionDivClass) {
      sectionDiv.addClass(opts.sectionDivClass);
    }

    if (!section.sentenceList) {
      return sectionDiv;
    }

    var textSpansUsed = false;
    if (section.sentenceList.length > 0) {
      textSpansUsed = concreteObjectUsesTextSpans(section.sentenceList[0]);
    }

    for (var i = 0; i < section.sentenceList.length; i++) {
      sectionDiv.append(
        widget.createSentenceDiv(section.sentenceList[i], options));

      if (i+1 < section.sentenceList.length) {
        if (textSpansUsed && !opts.whitespaceTokenization) {
          // Add whitespace IFF there is a character-offset gap between sentences
          if ((section.sentenceList[i+1].textSpan.start - section.sentenceList[i].textSpan.ending) > 0) {
            sectionDiv.append(
              $('<span>')
                .addClass('sentence_padding')
                .text(' '));
          }
        }
      }
    }

    return sectionDiv;
  };

  widget.createSectionDiv.defaultOptions = {
    'whitespaceTokenization': false,
  };

  /**
   * Returns a jQuery object containing the DOM structure:
   *
   *     <div class="sentence sentence_[SENTENCE_UUID]">
   *         <div class="tokenization tokenization_[TOKENIZATION_UUID]">
   *             [...]
   *
   * {@link concrete.widget.createSentenceDiv} calls
   * {@link concrete.widget.createTokenizationDiv}
   * to create the DOM structure for the Sentence's Tokenization.
   *
   * See {@link concrete.widget.createCommunicationDiv} for
   * a list of possible `options` object parameters.
   *
   * @param {Sentence} sentence
   * @param {Object} options
   * @returns {external:jQuery_Object}
   *
   * @function concrete.widget.createSentenceDiv
   * @memberof concrete.widget
   */
  widget.createSentenceDiv = function(sentence, options) {
    if (!sentence) {
      throw 'CreateWidgets.createSentenceDiv() must be passed a sentence';
    }

    var sentenceDiv = $('<div>')
        .addClass('sentence sentence_' + sentence.uuid.uuidString)
        .append(widget.createTokenizationDiv(sentence.tokenization, options))
        .data('sentence', sentence);
    if (options && options.sentenceDivClass) {
      sentenceDiv.addClass(options.sentenceDivClass);
    }
    return sentenceDiv;
  };

  /**
   * Returns a jQuery object containing the DOM structure:
   *
   *     <div class="tokenization_container">
   *         <div class="tokenization tokenization_[TOKENIZATION_UUID]">
   *             <span class="token token_[TOKENIZATION_UUID]_[TOKEN_INDEX_0]">
   *             <span class="token_padding token_padding_[TOKENIZATION_UUID]_[TOKEN_INDEX_0]">
   *             <span class="token token_[TOKENIZATION_UUID]_[TOKEN_INDEX_1]">
   *             <span class="token_padding token_padding_[TOKENIZATION_UUID]_[TOKEN_INDEX_1]">
   *             [...]
   *
   * See {@link concrete.widget.createCommunicationDiv} for
   * a list of possible `options` object parameters.
   *
   * @param {Tokenization} tokenization
   * @param {Object} options
   * @returns {external:jQuery_Object}
   *
   * @function concrete.widget.createTokenizationDiv
   * @memberof concrete.widget
   */
  widget.createTokenizationDiv = function(tokenization, options) {
    if (!tokenization) {
      throw 'CreateWidgets.createTokenizationDiv() must be passed a tokenization';
    }

    var opts = $.extend({}, widget.createTokenizationDiv.defaultOptions, options);
    var textSpansUsed = tokenizationUsesTextSpans(tokenization);
    var tokenList = tokenization.tokenList.tokenList;

    var tokenizationContainerDiv = $('<div>')
        .addClass('tokenization_container');

    var tokenizationDiv = $('<div>')
        .addClass('tokenization tokenization_' + tokenization.uuid.uuidString)
        .data('tokenization', tokenization);
    if (opts.tokenizationDivClass) {
      tokenizationDiv.addClass(opts.tokenizationDivClass);
    }

    for (var i = 0; i < tokenList.length; i++) {
      var tokenText;
      if (opts.convertTreebankBrackets) {
        tokenText = convertTreebankBrackets(tokenList[i].text);
      }
      else {
        tokenText = tokenList[i].text;
      }

      var tokenSpan = $('<span>')
          .addClass('token token_' + tokenization.uuid.uuidString + '_' + i)
          .data('tokenization', tokenization)
          .data('tokenIndex', i)
          .text(tokenText);
      tokenizationDiv.append(tokenSpan);

      if (i+1 < tokenList.length) {
        var tokenPaddingSpan = $('<span>')
            .addClass('token_padding token_padding_' + tokenization.uuid.uuidString + '_' + i);

        if (textSpansUsed && !opts.whitespaceTokenization) {
          // Add whitespace IFF there is a character-offset gap between tokens
          if ((tokenList[i+1].textSpan.start - tokenList[i].textSpan.ending) > 0) {
            tokenPaddingSpan.text(' ');
          }
        }
        else {
          // Without TextSpans, we can't determine character offsets between
          // tokens, so we default to using whitespace tokenization
          tokenPaddingSpan.text(' ');
        }
        tokenizationDiv.append(tokenPaddingSpan);
      }
    }
    tokenizationContainerDiv.append(tokenizationDiv);
    return tokenizationContainerDiv;
  };

  widget.createTokenizationDiv.defaultOptions = {
    'convertTreebankBrackets': true,
    'whitespaceTokenization': false,
  };

  /**
   * Return a list of TokenRefSequences containing all tokens
   * that are currently selected.
   *
   * If all the selected tokens belong to the same tokenization,
   * then there will only be one TokenRefSequence in the list.  But
   * if the selected tokens include tokens from multiple sentences
   * or sections, multiple TokenRefSequences will be returned.
   *
   * @returns {TokenRefSequence[]}
   *
   * @function concrete.widget.getSelectedTokenRefSequences
   * @memberof concrete.widget
   */
  widget.getSelectedTokenRefSequences = function() {
    function getTokenRefSequenceForEndContainer(range) {
      var lastTokenesqueLastSentence = $(range.endContainer).parents('.token,.token_padding');
      var tokenRefSequence = new TokenRefSequence();

      if (lastTokenesqueLastSentence.hasClass('token')) {
        tokenRefSequence.tokenizationId = widget.getTokenizationUUIDForToken(lastTokenesqueLastSentence);
      }
      else {
        tokenRefSequence.tokenizationId = widget.getTokenizationUUIDForToken(
          lastTokenesqueLastSentence.prev('.token'));
      }
      tokenRefSequence.tokenIndexList = [];
      lastTokenesqueLastSentence.prevAll('.token').each(function(i, tokenElement) {
        tokenRefSequence.tokenIndexList.push(widget.getTokenIndex($(tokenElement)));
      });
      if (lastTokenesqueLastSentence.hasClass('token')) {
        tokenRefSequence.tokenIndexList.push(widget.getTokenIndex(lastTokenesqueLastSentence));
      }

      return tokenRefSequence;
    }

    function getTokenRefSequenceForEntireTokenization(tokenizationElement) {
      var tokenRefSequence = new TokenRefSequence();
      tokenRefSequence.tokenizationId = widget.getTokenizationUUIDForToken(tokenizationElement.find('.token').first());
      tokenRefSequence.tokenIndexList = [];
      tokenizationElement.find('.token').each(function(i, tokenElement) {
        tokenRefSequence.tokenIndexList.push(widget.getTokenIndex($(tokenElement)));
      });
      return tokenRefSequence;
    }

    function getTokenRefSequenceForStartContainer(range) {
      var firstTokenesqueFirstSentence = $(range.startContainer).parents('.token,.token_padding');

      var tokenRefSequence = new TokenRefSequence();
      tokenRefSequence.tokenIndexList = [];
      if (firstTokenesqueFirstSentence.hasClass('token')) {
        tokenRefSequence.tokenizationId = widget.getTokenizationUUIDForToken(firstTokenesqueFirstSentence);
        tokenRefSequence.tokenIndexList.push(widget.getTokenIndex(firstTokenesqueFirstSentence));
      }
      else {
        tokenRefSequence.tokenizationId = widget.getTokenizationUUIDForToken(
          firstTokenesqueFirstSentence.next('.token'));
      }
      firstTokenesqueFirstSentence.nextAll('.token').each(function(i, tokenElement) {
        tokenRefSequence.tokenIndexList.push(widget.getTokenIndex($(tokenElement)));
      });

      return tokenRefSequence;
    }

    var selection = window.getSelection();
    var tokenRefSequenceList = [];

    if (selection.rangeCount) {
      // Selection objects have, at most, one Range:
      //   https://developer.mozilla.org/en-US/docs/Web/API/Selection
      var range = selection.getRangeAt(0);
      var ancestorElement = $(range.commonAncestorContainer);

      if (ancestorElement.hasClass('tokenization')) {
        // The selected elements all belong to a single tokenization

        // The starting and ending elements of range may be tokens or token_padding ("tokenesque")
        var firstTokenesqueElement = $(range.startContainer).parents('.token,.token_padding');
        var lastTokenesqueElement = $(range.endContainer).parents('.token,.token_padding');
        var middleTokenElements = firstTokenesqueElement.nextUntil(lastTokenesqueElement).filter('.token');

        var tokenRefSequence = new TokenRefSequence();
        tokenRefSequence.tokenIndexList = [];
        if (firstTokenesqueElement.hasClass('token')) {
          tokenRefSequence.tokenizationId = widget.getTokenizationUUIDForToken(firstTokenesqueElement);
          tokenRefSequence.tokenIndexList.push(widget.getTokenIndex(firstTokenesqueElement));
        }
        else {
          tokenRefSequence.tokenizationId = widget.getTokenizationUUIDForToken(
            firstTokenesqueElement.next('.token'));
        }
        middleTokenElements.each(function(i, tokenElement) {
          tokenRefSequence.tokenIndexList.push(widget.getTokenIndex($(tokenElement)));
        });
        if (lastTokenesqueElement.hasClass('token')) {
          tokenRefSequence.tokenIndexList.push(widget.getTokenIndex(lastTokenesqueElement));
        }
        tokenRefSequenceList.push(tokenRefSequence);
      }
      else if (ancestorElement.hasClass('section')) {
        // The selected elements belong to multiple tokenizations in a single section

        var firstSentenceElement = $(range.startContainer).parents('.sentence');
        var lastSentenceElement = $(range.endContainer).parents('.sentence');
        var middleSentenceElements = firstSentenceElement.nextUntil(lastSentenceElement).filter('.sentence');

        tokenRefSequenceList.push(getTokenRefSequenceForStartContainer(range));
        middleSentenceElements.each(function(i, middleSentenceElement) {
          tokenRefSequenceList.push(
            getTokenRefSequenceForEntireTokenization(
              $(middleSentenceElement).find('.tokenization')));
        });
        tokenRefSequenceList.push(getTokenRefSequenceForEndContainer(range));
      }
      else if (ancestorElement.hasClass('communication')) {
        // The selected elements belong to tokenizations in multiple sections

        var firstSectionElement = $(range.startContainer).parents('.section');
        var lastSectionElement = $(range.endContainer).parents('.section');
        var middleSectionElements = firstSectionElement.nextUntil(lastSectionElement).filter('.section');

        tokenRefSequenceList.push(getTokenRefSequenceForStartContainer(range));
        var firstSectionFirstSentence = $(range.startContainer).parents('.sentence');
        var firstSectionSentences = firstSectionFirstSentence.nextAll('.sentence').each(
          function(i, sentenceElement) {
            tokenRefSequenceList.push(
              getTokenRefSequenceForEntireTokenization(
                $(sentenceElement).find('.tokenization')));
          }
        );

        middleSectionElements.find('.tokenization').each(function(i, tokenizationElement) {
          tokenRefSequenceList.push(
            getTokenRefSequenceForEntireTokenization(
              $(tokenizationElement)));
        });

        var lastSectionLastSentence = $(range.endContainer).parents('.sentence');
        var lastSectionSentences = lastSectionLastSentence.prevAll('.sentence').each(
          function(i, sentenceElement) {
            tokenRefSequenceList.push(
              getTokenRefSequenceForEntireTokenization(
                $(sentenceElement).find('.tokenization')));
          }
        );
        tokenRefSequenceList.push(getTokenRefSequenceForEndContainer(range));
      }
    }

    return tokenRefSequenceList;
  };

  widget.getTokenIndexAndTokenizationUUID = function(tokenElement) {
    var classList = tokenElement.attr('class').split(' ');
    for (var i in classList) {
      var fields = classList[i].split('_');
      if (fields.length === 3 && fields[0] === 'token' && fields[1].length === 36) {
        return [parseInt(fields[2]), new UUID({'uuidString': fields[1]})];
      }
      else if (fields.length === 4 && fields[0] === 'token' &&
               fields[1] === 'padding' && fields[2].length === 36) {
        return [parseInt(fields[3]), new UUID({'uuidString': fields[2]})];
      }
    }
    return [undefined, undefined];
  };

  widget.getTokenIndex = function(tokenElement) {
    return widget.getTokenIndexAndTokenizationUUID(tokenElement)[0];
  };

  widget.getTokenizationUUIDForToken = function(tokenElement) {
    return widget.getTokenIndexAndTokenizationUUID(tokenElement)[1];
  };


  /**
   * Creates a new TokenRefSequence for the Token represented by specified element
   *
   * @param {external:jQuery_Object} tokenObject - jQuery object for a Token element
   * @returns {TokenRefSequence}
   *
   * @function concrete.widget.getTokenRefSequenceForTokenObject
   * @memberof concrete.widget
   */
  widget.getTokenRefSequenceForTokenObject = function(tokenObject) {
    var tokenRefSequence = new TokenRefSequence();
    tokenRefSequence.tokenizationId = widget.getTokenizationUUIDForToken(tokenObject);
    tokenRefSequence.tokenIndexList = [widget.getTokenIndex(tokenObject)];
    return tokenRefSequence;
  };

  /**
   * Creates a new TokenRefSequence for the Tokens whose corresponding elements match selector
   *
   * @param {external:jQuery_Object} tokenizationObject - jQuery object for a Tokenization element
   * @param {String} selector - CSS selector string, e.g. '.selected_token'
   * @returns {TokenRefSequence}
   *
   * @function concrete.widget.getTokenRefSequenceForTokensMatchingSelector
   * @memberof concrete.widget
   */
  widget.getTokenRefSequenceForTokensMatchingSelector = function(tokenizationObject, selector) {
    if (!tokenizationObject.hasClass('tokenization')) {
      console.error("getTokenRefSequenceForTokensWithClass() expected a jQuery object " +
                    "with class 'tokenization', but object has class(es) '" +
                    tokenizationObject.attr('class') + "'");
      return;
    }
    var tokenRefSequence = new TokenRefSequence();
    var tokenElements = tokenizationObject.find('.token');
    tokenRefSequence.tokenizationId = widget.getTokenizationUUIDForToken(tokenElements.first());
    tokenRefSequence.tokenIndexList = [];
    tokenElements.filter(selector).each(function(i, tokenElement) {
      tokenRefSequence.tokenIndexList.push(widget.getTokenIndex($(tokenElement)));
    });
    return tokenRefSequence;
  };

  /**
   * Returns a boolean indicating if a Concrete Object (e.g. Section, Sentence, Token)
   * uses an (optional) TextSpan field.
   *
   * @param {Concrete_Object} concreteObject
   * @returns {Boolean}
   */
  function concreteObjectUsesTextSpans(concreteObject) {
    if (concreteObject &&
        concreteObject.textSpan &&
        Number.isInteger(concreteObject.textSpan.start) &&
        Number.isInteger(concreteObject.textSpan.ending)) {
      return true;
    }
    else {
      return false;
    }
  }

  /**
   * Function takes a token string, returns a "cleaned" version of that string
   *  with Penn Treebank-style bracket symbols replaced with actual bracket symbols.
   *
   * @param {String} tokenText
   * @returns {String}
   */
  function convertTreebankBrackets(tokenText) {
    // Convert Penn Treebank-style symbols for brackets to bracket characters
    //   http://www.cis.upenn.edu/~treebank/tokenization.html
    switch(tokenText) {
    case '-LRB-':
      return '(';
    case '-RRB-':
      return ')';
    case '-LSB-':
      return '[';
    case '-RSB-':
      return ']';
    case '-LCB-':
      return '{';
    case '-RCB-':
      return '}';
    default:
      return tokenText;
    }
  }

  /**
   * Returns a boolean indicating if a Tokenization's Tokens use (optional) TextSpans
   * @param {Tokenization} tokenization
   * @returns {Boolean}
   */
  function tokenizationUsesTextSpans(tokenization) {
    // We currently assume that if the first Token has a TextSpan, all Tokens have TextSpans
    return concreteObjectUsesTextSpans(tokenization.tokenList.tokenList[0]);
  }

  return widget;
})();


/**
 * The jQuery plugin namespace.
 * @external "jQuery.fn"
 * @see {@link http://learn.jquery.com/plugins/|jQuery Plugins}
 */

(function($) {
  /**
   * Add .entity_mention and .entity_mention_[UUID] classes to
   * .token elements for all EntityMentions associated with an
   * Entity in the Communication.
   *
   * @param {Communication} communication
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".addAllEntityMentionsInCommunication
   */
  $.fn.addAllEntityMentionsInCommunication = function(communication) {
    if (communication && communication.entityMentionSetList && communication.entityMentionSetList.length > 0) {
      for (var i = 0; i < communication.entityMentionSetList.length; i++) {
        this.addEntityMentionSet(communication.entityMentionSetList[i]);
      }
    }
    return this;
  };

  /**
   * Add .entity and .entity_[UUID] classes to .token elements
   * for all Entities with associated EntityMentions in the
   * Communication.
   *
   * @param {Communication} communication
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".addAllEntitiesInCommunication
   */
  $.fn.addAllEntitiesInCommunication = function(communication) {
    // Add DOM classes for entity and entity_set UUID's to EntityMentions for the Entities
    if (communication.entitySetList) {
      for (var entitySetListIndex in communication.entitySetList) {
        for (var entityListIndex in communication.entitySetList[entitySetListIndex].entityList) {
          var entity = communication.entitySetList[entitySetListIndex].entityList[entityListIndex];
          for (var i = 0; i < entity.mentionIdList.length; i++) {
            var entityMentionId = entity.mentionIdList[i];
            this.find('.entity_mention_' + entityMentionId.uuidString)
              .addClass('entity_' + entity.uuid.uuidString)
              .addClass('entity_set_' + communication.entitySetList[entitySetListIndex].uuid.uuidString);
          }
        }
      }
    }
    return this;
  };

  /**
   * Add .entity_mention and .entity_mention_[UUID] classes
   * to .token elements for entityMention
   *
   * @param {EntityMention} entityMention
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".addEntityMention
   */
  $.fn.addEntityMention = function(entityMention) {
    this.getEntityMentionElements(entityMention)
      .addClass('entity_mention entity_mention_' + entityMention.uuid.uuidString);
    return this;
  };

  /**
   * Add .entity_mention and .entity_mention_[UUID] classes
   * to .token elements for all EntityMentions in entityMentionSet.
   *
   * @param {EntityMentionSet} entityMentionSet
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".addEntityMentionSet
   */
  $.fn.addEntityMentionSet = function(entityMentionSet) {
    if (entityMentionSet && entityMentionSet.mentionList && entityMentionSet.mentionList.length > 0) {
      for (var i = 0; i < entityMentionSet.mentionList.length; i++) {
        this.addEntityMention(entityMentionSet.mentionList[i]);
      }
    }
    return this;
  };

  /**
   * jQuery plugin wrapper for {@link concrete.widget.createCommunicationDiv}
   *
   * Appends a div created by {@link concrete.widget.createCommunicationDiv}
   * to the current jQuery object, returns the current jQuery object.
   *
   * @param {Communication} communication
   * @param {Object} options
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".communicationWidget
   */
  $.fn.communicationWidget = function(communication, options) {
    this.append(concrete.widget.createCommunicationDiv(communication, options));
    return this;
  };

  /**
   * Enable "token click" callback functions that are registered
   * through {@link external:"jQuery.fn".getTokenClickCallbacks jQuery.fn.getTokenClickCallbacks}
   *
   * When the user clicks on a displayed tokens, all registered
   * "token select" callback functions will be called and passed a
   * list of TokenRefSequences containing the selected token.
   *
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".enableTokenClickCallbacks
   */
  $.fn.enableTokenClickCallbacks = function() {
    this.find('.token').click({tokenClickCallbacks: this.getTokenClickCallbacks()}, function(event) {
      var tokenRefSequenceList = [concrete.widget.getTokenRefSequenceForTokenObject($(this))];
      event.data.tokenClickCallbacks.fire(tokenRefSequenceList);
    });
    return this;
  };

  /**
   * Enable "token select" callback functions that are registered
   * through {@link external:"jQuery.fn".getTokenSelectCallbacks jQuery.fn.getTokenSelectCallbacks}
   *
   * When the user selects a set of displayed tokens, all registered
   * "token select" callback functions will be called and passed a
   * list of TokenRefSequences containing the selected tokens.
   *
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".enableTokenSelectCallbacks
   */
  $.fn.enableTokenSelectCallbacks = function() {
    this.mouseup({tokenSelectCallbacks: this.getTokenSelectCallbacks()}, function (event) {
      var tokenRefSequenceList = concrete.widget.getSelectedTokenRefSequences();
      event.data.tokenSelectCallbacks.fire(tokenRefSequenceList);

      // Unselect the selected elements
      selection = window.getSelection();
      if (selection.rangeCount) {
        selection.removeAllRanges();
      }
    });
    return this;
  };

  /**
   * Returns a jQuery object for .token element(s) for entityMention
   *
   * @param {EntityMention} entityMention
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".getEntityMentionElements
   */
  $.fn.getEntityMentionElements = function(entityMention) {
    return this.getTokenRefSequenceElements(entityMention.tokens);
  };

  /**
   * Returns a jQuery object for .sentence element(s) specified by sentence
   *
   * @param {Sentence} sentence
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".getSentenceElements
   */
  $.fn.getSentenceElements = function(sentence) {
    return this.find('.sentence.sentence_' + sentence.uuid.uuidString);
  };

  /**
   * Returns the jQuery.Callbacks object for "token click" callback
   * functions.  If the jQuery.Callbacks object does not already
   * exist, it will be created.
   *
   * @returns {jQuery.Callbacks}
   *
   * @function external:"jQuery.fn".getTokenClickCallbacks
   */
  $.fn.getTokenClickCallbacks = function() {
    if (!this.data('tokenClickCallbacks')) {
      this.data('tokenClickCallbacks', jQuery.Callbacks());
    }
    return this.data('tokenClickCallbacks');
  };

  /**
   * Returns a jQuery object for all .token element(s) for the
   * Tokenization object.
   *
   * If you want the .tokenization element(s) for the Tokenization object, use
   * {@link external:"jQuery.fn".getTokenizationElements jQuery.fn.getTokenizationElements}
   *
   * @param {Tokenization} tokenization
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".getTokenElements
   */
  $.fn.getTokenElements = function(tokenization) {
    return this.getTokenizationElements(tokenization).find('.token');
  };

  /**
   * Returns a jQuery object for .token element(s) specified by tokenization+tokenIndex
   *
   * @param {Tokenization} tokenization
   * @param {int} tokenIndex
   * @returns {external:jQuery_Object} - jQuery Object for .token element(s) for tokenization+tokenIndex
   *
   * @function external:"jQuery.fn".getTokenElementsWithIndex
   */
  $.fn.getTokenElementsWithIndex = function(tokenization, tokenIndex) {
    if (!tokenization) {
      return $();
    }

    return this.find('.token_' + tokenization.uuid.uuidString + '_' + tokenIndex);
  };

  /**
   * Returns a jQuery object for the DOM elements for the Tokens in a Tokenization,
   * selecting only those Tokens whose TokenTagging tags satisfy the specified
   * matchFunction.
   *
   * @param {Tokenization} tokenization
   * @param {TokenTagging} tokenTagging - The TokenTagging must be for the Tokenization
   *                                      specified as the first parameter.
   * @param {Function} matchFunction - Function that takes as input a TaggedToken.tag string,
   *                                   and returns true or false based on whether or not the
   *                                   string "matches".
   * @returns {external:jQuery_Object} - jQuery Object for DOM elements for "matching" Tokens
   *
   * @function external:"jQuery.fn".getTokenElementsWithMatchingTag
   */
  $.fn.getTokenElementsWithMatchingTag = function(tokenization, tokenTagging, matchFunction) {
    if (!tokenization || !tokenTagging || !tokenTagging.taggedTokenList || !matchFunction) {
      return $();
    }

    var tokenSelectorStrings = [];
    for (var i = 0; i < tokenTagging.taggedTokenList.length; i++) {
      if (matchFunction(tokenTagging.taggedTokenList[i].tag)) {
        tokenSelectorStrings.push(
          '.token_' + tokenization.uuid.uuidString +
            '_' + tokenTagging.taggedTokenList[i].tokenIndex);
      }
    }

    var tokenizationObject = this.find('.tokenization_' + tokenization.uuid.uuidString);
    var tokenObjects = tokenizationObject.find(tokenSelectorStrings.join(', '));

    return tokenObjects;
  };

  /**
   * Returns a jQuery object for all .tokenization element(s) for the
   * Tokenization object.
   *
   * If you want the .token element(s) for the Tokenization object, use
   * {@link external:"jQuery.fn".getTokenElements jQuery.fn.getTokenElements}
   *
   * @param {Tokenization} tokenization
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".getTokenizationElements
   */
  $.fn.getTokenizationElements = function(tokenization) {
    return this.find('.tokenization.tokenization_' + tokenization.uuid.uuidString);
  };

  /**
   * Returns a jQuery object for .token_padding element(s) specified by tokenization+tokenIndex
   *
   * @param {Tokenization} tokenization
   * @param {int} tokenIndex
   * @returns {external:jQuery_Object} - jQuery Object for .token_padding element(s) for tokenization+tokenIndex
   *
   * @function external:"jQuery.fn".getTokenPaddingElementsWithIndex
   */
  $.fn.getTokenPaddingElementsWithIndex = function(tokenization, tokenIndex) {
    if (!tokenization) {
      return $();
    }

    return this.find('.token_padding_' + tokenization.uuid.uuidString + '_' + tokenIndex);
  };

  /**
   * Returns a jQuery object for .token element(s) specified by tokenRefSequence
   *
   * @param {TokenRefSequence} tokenRefSequence
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".getTokenRefSequenceElements
   */
  $.fn.getTokenRefSequenceElements = function(tokenRefSequence) {
    if (!tokenRefSequence && !tokenRefSequence.tokenizationId) {
      return $();
    }

    var tokenSelectorStrings = [];
    for (var i = 0; i < tokenRefSequence.tokenIndexList.length; i++) {
      tokenSelectorStrings.push(
        '.token_' + tokenRefSequence.tokenizationId.uuidString +
          '_' + tokenRefSequence.tokenIndexList[i]);
    }

    var tokenizationObject = this.find('.tokenization_' + tokenRefSequence.tokenizationId.uuidString);
    var tokenObjects = tokenizationObject.find(tokenSelectorStrings.join(', '));

    return tokenObjects;
  };

  /**
   * jQuery plugin wrapper for {@link concrete.widget.getTokenRefSequenceForTokensMatchingSelector}
   *
   * @param {String} selector - CSS selector string, e.g. '.selected_token'
   * @returns {TokenRefSequence}
   *
   * @function external:"jQuery.fn".getTokenRefSequenceForTokensMatchingSelector
   */
  $.fn.getTokenRefSequenceForTokensMatchingSelector = function(selector) {
    return concrete.widget.getTokenRefSequenceForTokensMatchingSelector(this, selector);
  };

  /**
   * Returns the jQuery.Callbacks object for "token select" callback
   * functions.  If the jQuery.Callbacks object does not already exist,
   * it will be created.  For details about jQuery.Callbacks, see:
   *
   * {@link http://api.jquery.com/category/callbacks-object/}
   *
   * The "token select" callback functions will not be called unless
   * the user has also called
   * {@link external:"jQuery.fn".enableTokenSelectCallbacks jQuery.fn.enableTokenSelectCallbacks}.
   * Once
   * {@link external:"jQuery.fn".enableTokenSelectCallbacks jQuery.fn.enableTokenSelectCallbacks}
   * has been called, when the user selects a set of displayed
   * tokens, all registered "token select" callback functions
   * will be called and passed a list of TokenRefSequences
   * containing the selected tokens.
   *
   * @returns {jQuery.Callbacks}
   *
   * @function external:"jQuery.fn".getTokenSelectCallbacks
   */
  $.fn.getTokenSelectCallbacks = function() {
    if (!this.data('tokenSelectCallbacks')) {
      this.data('tokenSelectCallbacks', jQuery.Callbacks());
    }
    return this.data('tokenSelectCallbacks');
  };

  /**
   * jQuery plugin wrapper for {@link concrete.widget.createSectionDiv}
   *
   * Appends a div created by {@link concrete.widget.createSectionDiv}
   * to the current jQuery object, returns the current jQuery object.
   *
   * @param {Section} section
   * @param {Object} options
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".sectionWidget
   */
  $.fn.sectionWidget = function(section, options) {
    this.append(concrete.widget.createSectionDiv(section, options));
    return this;
  };

  /**
   * jQuery plugin wrapper for {@link concrete.widget.createSentenceDiv}
   *
   * Appends a div created by {@link concrete.widget.createSentenceDiv}
   * to the current jQuery object, returns the current jQuery object.
   *
   * @param {Sentence} sentence
   * @param {Object} options
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".sentenceWidget
   */
  $.fn.sentenceWidget = function(sentence, options) {
    this.append(concrete.widget.createSentenceDiv(sentence, options));
    return this;
  };

  /**
   * jQuery plugin wrapper for {@link concrete.widget.createTokenizationDiv}
   *
   * Appends a div created by {@link concrete.widget.createTokenizationDiv}
   * to the current jQuery object, returns the current jQuery object.
   *
   * @param {Tokenization} tokenization
   * @param {Object} options
   * @returns {external:jQuery_Object}
   *
   * @function external:"jQuery.fn".tokenizationWidget
   */
  $.fn.tokenizationWidget = function(tokenization, options) {
    this.append(concrete.widget.createTokenizationDiv(tokenization, options));
    return this;
  };

})(jQuery);
;var generateUUID = function() {
  console.warn("DEPRECATION WARNING: Use concrete.util.generateUUID() instead of generateUUID()");
  return concrete.util.generateUUID();
};

var generateUUIDString = function() {
  console.warn("DEPRECATION WARNING: Use concrete.util.generateUUIDString() instead of generateUUIDString()");
  return concrete.util.generateUUIDString();
};
;/**
 * Creates a Tokenization for a manualTokenizationWidget
 *
 * The {@link external:"jQuery.fn".manualTokenizationWidget jQuery.fn.manualTokenizationWidget}
 * function creates a UI widget that allows a user to specify
 * token boundaries between characters.  This function creates
 * a Tokenization object based on the token boundaries currently
 * shown in the UI.
 *
 * This function should be called on the same jQuery element
 * that {@link external:"jQuery.fn".manualTokenizationWidget jQuery.fn.manualTokenizationWidget}
 * was called on.
 *
 * @returns {Tokenization}
 *
 * @function external:"jQuery.fn".getManualTokenization
 */
$.fn.getManualTokenization = function() {
  var tokenizeSentenceDiv;
  if (this.hasClass('manual_tokenization')) {
    tokenizeSentenceDiv = this;
  }
  else {
    tokenizeSentenceDiv = this.find('.manual_tokenization').first();
  }
  var sentence = tokenizeSentenceDiv.data('sentence');

  var joinedTokenIndices = [];
  tokenizeSentenceDiv.find('.concrete_character_gap.connected_concrete_characters').each(function() {
    joinedTokenIndices.push($(this).data('tokenIndex'));
  });

  var tokenization = new Tokenization();
  tokenization.kind = TokenizationKind.TOKEN_LIST;
  tokenization.metadata = new AnnotationMetadata();
  tokenization.metadata.timestamp = Math.floor(Date.now()/1000);
  tokenization.metadata.tool = 'concrete.js - getManualTokenization()';
  tokenization.tokenList = new TokenList();
  tokenization.tokenList.tokenList = [];
  tokenization.uuid = concrete.util.generateUUID();

  for (var i = sentence.textSpan.start; i < sentence.textSpan.ending-1; i++) {
    var textSpan = new TextSpan();
    textSpan.start = i;
    while (joinedTokenIndices.includes(i)) {
      i += 1;
    }
    textSpan.ending = i+1;
    var token = new Token();
    token.text = sentence.section.comm.text.substring(textSpan.start, textSpan.ending);
    token.textSpan = textSpan;
    token.tokenIndex = tokenization.tokenList.tokenList.length;

    // Don't create Tokens if the text field contains only whitespace
    if (token.text.trim().length !== 0) {
      tokenization.tokenList.tokenList.push(token);
    }
  }

  return tokenization;
};


/**
 * UI widget for manual tokenization of a Concrete Sentence
 *
 * Takes a Sentence, creates DOM structure for characters in
 * Sentence, attaches event handlers for keyboard input and
 * navigation.  When the widget is first created, each character
 * is treated as a separate token.  The 'x' key can be used
 * to connect/disconnect characters, and the arrow keys used
 * to navigate between characters.
 *
 * Use {@link external:"jQuery.fn".getManualTokenization jQuery.fn.getManualTokenization}
 * to get a Tokenization object reflecting the current token
 * boundaries shown in the UI.
 *
 * This function attaches a div to the jQuery element with
 * the structure:
 *
 * ```
 * <div class="manual_tokenization">
 *   <span class="concrete_character">A</span>
 *   <span class="concrete_character_gap">&nbsp; </span>
 *   <span class="concrete_character">B</span>
 *   <span class="concrete_character_gap">&nbsp; </span>
 *   <span class="concrete_character">C</span>
 *   <span class="concrete_character_gap">&nbsp; </span>
 *   ...
 *   <span class="concrete_character">Z</span>
 * </div>
 * ```
 *
 * When the user uses the UI to "connect" two characters into
 * a single token, the .concrete_connected_character_class will
 * be added to the .concrete_character spans for the two
 * characters and the .concrete_character_gap span between the
 * character spans.
 *
 * Using the DOM structure shown above, if the character spans
 * for 'A' and 'B' were connected, the new DOM structure would be:
 *
 * ```
 * <div class="manual_tokenization">
 *   <span class="concrete_character connected_concrete_characters">A</span>
 *   <span class="concrete_character_gap connected_concrete_characters">&nbsp; </span>
 *   <span class="concrete_character connected_concrete_characters">B</span>
 *   <span class="concrete_character_gap">&nbsp; </span>
 *   <span class="concrete_character">C</span>
 *   <span class="concrete_character_gap">&nbsp; </span>
 *   ...
 *   <span class="concrete_character">Z</span>
 * </div>
 * ```
 *
 * This function does not set any CSS properties on the elements
 * it creates.  Here is some suggested CSS styling:
 *
 * ```
 *   .concrete_character {
 *     display: inline-block;
 *     border-bottom: 10px solid #F4F4F4;
 *   }
 *   .concrete_character_gap {
 *     cursor: pointer;
 *     display: inline-block;
 *     min-width: 1em;
 *   }
 *   .connected_concrete_characters {
 *     background-color: yellow;
 *     border-bottom: 10px solid #CCCCCC;
 *   }
 * ```
 *
 * Parameters for `options` object:
 * - `charactersInitiallyConnected` (Boolean): Flag
 *   for whether all characters in an *untokenized*
 *   Sentence should be connected.  If the Sentence
 *   already has a Tokenization, then this flag
 *   will be ignored.
 *   Default value: *true*
 * - `toggleConnectionKey` (String): Key used to toggle
 *   the connection between characters.  The string should
 *   be a
 *   {@link https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values
 *    valid KeyboardEvent.key value}.
 *   Please note that Safari/WebKit does not currently
 *   support the KeyboardEvent.key field, so you need
 *   to set the `toggleConnectionKeyCode` option for
 *   these browsers.
 *   Default value: 'x'
 * - `toggleConnectionKeyCode` (Number): KeyCode used to
 *   toggle the connection between characters.  Please
 *   note that KeyCode values are system and implementation
 *   dependent.
 *   Default value: 88 (KeyCode for 'x')
 *
 * @param {Sentence} sentence
 * @param {Object} options
 * @returns {external:jQuery_Object} - this jQuery object
 *
 * @function external:"jQuery.fn".manualTokenizationWidget
 */
$.fn.manualTokenizationWidget = function(sentence, options) {

  // onkeydown event handler for navigating manualTokenizationWidget
  //
  // 'x' key connects/disconnects characters, arrow keys used for
  // navigation.
  //
  // Tab and shift-tab can also be used to navigate, but tab
  // navigation is handled by the browser (using 'tabindex'
  // attributes) instead of this function.
  function manualTokenizationKeyboardNavigation(event) {
    var el = $(this);
    if (el.hasClass('concrete_character_gap')) {
      var characterGapEls;
      var characterGapIndex;

      if (event.key === opts.toggleConnectionKey || event.keyCode === opts.toggleConnectionKeyCode) {
        toggleConnectedCharacters(el);
      }
      else if (event.key === 'ArrowLeft' || event.keyCode === 37) {
        if (el.prev().prev('.concrete_character_gap').length !== 0) {
          // Move cursor to left
          el.prev().prev('.concrete_character_gap').focus();
        }
        else {
          characterGapEls = $('.concrete_character_gap');
          characterGapIndex = characterGapEls.index(el);
          if (characterGapIndex === 0) {
            // Wraparound
            characterGapEls.last().focus();
          }
          else {
            characterGapEls.eq(characterGapIndex-1).focus();
          }
        }
      }
      else if (event.key === 'ArrowRight' || event.keyCode === 39) {
        if (el.next().next('.concrete_character_gap').length !== 0) {
          // Move cursor to right
          el.next().next('.concrete_character_gap').focus();
        }
        else {
          characterGapEls = $('.concrete_character_gap');
          characterGapIndex = characterGapEls.index(el);
          if (characterGapIndex >= characterGapEls.length-1) {
            // Wraparound
            characterGapEls.first().focus();
          }
          else {
            characterGapEls.eq(characterGapIndex+1).focus();
          }
        }
      }
      else if (event.key === 'ArrowUp' || event.keyCode === 38) {
        characterGapEls = $('.concrete_character_gap');
        characterGapIndex = characterGapEls.index(el);
        if (characterGapIndex === 0 ||
            characterGapEls.index(el.siblings('.concrete_character_gap').first()) === 0)
        {
          // Wraparound
          characterGapEls.eq(characterGapEls.length-1).siblings('.concrete_character_gap').first().focus();
        }
        else {
          var firstInSentenceIndex = characterGapEls.index(el.siblings('.concrete_character_gap').first());
          if (characterGapEls.index(el) < firstInSentenceIndex) {
            // All siblings are to right of current element
            characterGapEls.eq(characterGapEls.index(el)-1).siblings('.concrete_character_gap').first().focus();
          }
          else {
            characterGapEls.eq(firstInSentenceIndex-1).siblings('.concrete_character_gap').first().focus();
          }
        }
      }
      else if (event.key === 'ArrowDown' || event.keyCode === 40) {
        characterGapEls = $('.concrete_character_gap');
        var lastInSentence = el.siblings('.concrete_character_gap').last();
        var lastInSentenceIndex = characterGapEls.index(lastInSentence);
        if (lastInSentenceIndex === characterGapEls.length-1) {
          // Wraparound
          characterGapEls.first().focus();
        }
        else {
          if (characterGapEls.index(el) > lastInSentenceIndex) {
            // All siblings are to left of current element
            characterGapEls.eq(characterGapEls.index(el)+1).focus();
          }
          else {
            characterGapEls.eq(lastInSentenceIndex+1).focus();
          }
        }
      }
    }
  }

  /**
   * mousedown event handler.  Toggles connected characters IFF
   * the element already has the focus.
   */
  function mouseToggleConnectedCharacters() {
    var el = $(this);
    if (el.hasClass('concrete_character_gap')) {
      if (el.is(':focus')) {
        toggleConnectedCharacters(el);
      }
    }
  }

  function toggleConnectedCharacters(el) {
    var prevEl = el.prev();
    var nextEl = el.next();

    if (el.hasClass('connected_concrete_characters')) {
      el.removeClass('connected_concrete_characters');
      if (!el.prev().prev('.concrete_character_gap').hasClass('connected_concrete_characters')) {
        prevEl.removeClass('connected_concrete_characters');
      }
      if (!el.next().next('.concrete_character_gap').hasClass('connected_concrete_characters')) {
        nextEl.removeClass('connected_concrete_characters');
      }
    }
    else {
      el.addClass('connected_concrete_characters');
      prevEl.addClass('connected_concrete_characters');
      nextEl.addClass('connected_concrete_characters');
    }
  }


  var opts = $.extend({}, $.fn.manualTokenizationWidget.defaultOptions, options);

  // We do not want any of the .concrete_character_gap spans to have a tabindex of 0, as
  // a tabindex of 0 is treated differently than a tabindex of 1 or greater:
  //   https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex
  // We use a positive offset, so that the character in the Communication with
  // character index 0 is not assigned a tabindex of 0.
  var TOKENIZE_TABINDEX_OFFSET = 10;

  var tokenizeSentenceDiv = $('<div>').addClass('manual_tokenization')
                                      .data('sentence', sentence);

  var hasTokenization = !!sentence.tokenization;
  var tokenConnectedCharacters = [];

  if (hasTokenization) {
    for (var j = 0; j < sentence.tokenization.tokenList.tokenList.length; j++) {
      var tokenTextSpan = sentence.tokenization.tokenList.tokenList[j].textSpan;
      if (tokenTextSpan.ending - tokenTextSpan.start > 1) {
        for (var k = tokenTextSpan.start; k < tokenTextSpan.ending-1; k++) {
          tokenConnectedCharacters.push(k);
        }
      }
    }
  }

  for (var i = sentence.textSpan.start; i < sentence.textSpan.ending; i++) {
    var characterSpan = $('<span>').addClass('concrete_character')
                                   .text(sentence.section.comm.text.substring(i, i+1));
    if (hasTokenization) {
      if (tokenConnectedCharacters.includes(i-1) || tokenConnectedCharacters.includes(i)) {
        characterSpan.addClass('connected_concrete_characters');
      }
    }
    else if (opts.charactersInitiallyConnected) {
      characterSpan.addClass('connected_concrete_characters');
    }

    tokenizeSentenceDiv.append(characterSpan);
    if (i < sentence.textSpan.ending-1) {
      var characterGapSpan = $('<span>').addClass('concrete_character_gap')
                                        .attr('tabindex', TOKENIZE_TABINDEX_OFFSET + i)
                                        .data('tokenIndex', i)
                                        .html('&nbsp; ')
                                        .keydown(manualTokenizationKeyboardNavigation)
                                        .mousedown(mouseToggleConnectedCharacters);
      if ((hasTokenization && tokenConnectedCharacters.includes(i)) ||
          (!hasTokenization && opts.charactersInitiallyConnected))
      {
        characterGapSpan.addClass('connected_concrete_characters');
      }

      tokenizeSentenceDiv.append(characterGapSpan);
    }
  }
  this.append(tokenizeSentenceDiv);

  return this;
};

$.fn.manualTokenizationWidget.defaultOptions = {
  'charactersInitiallyConnected': true,
  'toggleConnectionKey': 'x',
  'toggleConnectionKeyCode': 88,
};
;/**
 * @class Tokenization
 * @classdesc concrete.js extensions to the Tokenization class
 */

/**
 * Add a TokenTagging to this Tokenization
 * @param {TokenTagging} tokenTagging
 */
Tokenization.prototype.addTokenTagging = function(tokenTagging) {
  if (!this.tokenTaggingList) {
    this.tokenTaggingList = [];
  }
  this.tokenTaggingList.push(tokenTagging);
};

/**
 * Get all TokenTaggings with the specified taggingType
 * @param {String} taggingType - A string specifying a TokenTagging.taggingType
 * @returns {Array} A (possibly empty) array of TokenTagging objects
 */
Tokenization.prototype.getTokenTaggingsOfType = function(taggingType) {
  var tokenTaggings = [];

  for (var tokenTaggingIndex in this.tokenTaggingList) {
    if (this.tokenTaggingList[tokenTaggingIndex].taggingType === taggingType) {
      tokenTaggings.push(this.tokenTaggingList[tokenTaggingIndex]);
    }
  }

  return tokenTaggings;
};
;/**
 * @class TokenTagging
 * @classdesc concrete.js extensions to the TokenTagging class
 */


/**
 * Create a valid TokenTagging with required fields AnnotationMetadata and UUID
 *
 * Example usage:
 *
 *     tt = TokenTagging.create({taggingType: 'NER'}, {tool: 'HIT'})
 *
 * @param {Object} options - Override default TokenTagging fields (except metadata)
 * @param {Object} metadataOptions - Override default tokenTagging.metadata fields
 */
TokenTagging.create = function(options, metadataOptions) {
  var tokenTagging = new TokenTagging();
  tokenTagging.metadata = new AnnotationMetadata();
  tokenTagging.metadata.timestamp = Math.floor(Date.now()/1000);
  tokenTagging.metadata.tool = 'concrete.js - TokenTagging.create()';
  tokenTagging.taggedTokenList = [];
  tokenTagging.taggingType = '';
  tokenTagging.uuid = concrete.util.generateUUID();

  tokenTagging = $.extend({}, tokenTagging, options);
  tokenTagging.metadata = $.extend({}, tokenTagging.metadata, metadataOptions);
  return tokenTagging;
};

/**
 * Get BIO value for TaggedToken at tokenIndex
 *
 * @param {Integer] tokenIndex
 * @returns {String|null} - 'B', 'I', 'O' or null
 */
TokenTagging.prototype.bioGetBIOValue = function(tokenIndex) {
  var taggedToken = this.getTaggedTokenWithTokenIndex(tokenIndex);
  if (taggedToken && taggedToken.tag) {
    var firstChar = taggedToken.tag.charAt(0);
    if (firstChar === 'B' || firstChar === 'I' || firstChar === 'O' ) {
      return firstChar;
    }
  }
  return null;
};

/**
 * Get tag value (stripped of BIO tag and separator) for TaggedToken at tokenIndex
 *
 * @param {Integer] tokenIndex
 * @returns {String|null} - 'B', 'I', 'O' or null
 *
 */
TokenTagging.prototype.bioGetTagValue = function(tokenIndex) {
  var taggedToken = this.getTaggedTokenWithTokenIndex(tokenIndex);
  if (taggedToken && taggedToken.tag) {
    return taggedToken.tag.substring(2);
  }
  return null;
};

/**
 * Returns separator character for BIO TokenTaggings.
 *
 * If the separator character had not been set before this function was called,
 * the separator character will be set to '-'.
 *
 * @returns {String} - Separator character for BIO TokenTaggings
 */
TokenTagging.prototype.bioGetTagSeparator = function() {
  if (this.bioTagSeparator === undefined) {
    this.bioTagSeparator = '-';
  }
  return this.bioTagSeparator;
};

/**
 * Returns token index of 'B' tag for the (possibly multi-token) 'BI'
 * tagging at the specified tokenIndex.
 *
 * If the tag at tokenIndex is a 'B' tag, return tokenIndex.  If the
 * tag at tokenIndex is an 'I' tag, find the index of the 'B' tag for
 * this 'I' tag.
 *
 * @param {Number} tokenIndex -
 * @returns {Number} - Token index of "B" tag
 * @throws {TypeError} Thrown if the tag at TokenIndex is not a 'B' or
 *                     'I' tag.  Also thrown if the tag at TokenIndex
 *                     is a valid 'I' tag, but not part of a valid 'BI*'
 *                     multi-token tagging.
 */
TokenTagging.prototype.bioGetTokenIndexForB = function(tokenIndex) {
  if (this.bioGetBIOValue(tokenIndex) !== 'B' && this.bioGetBIOValue(tokenIndex) !== 'I') {
    throw new TypeError("TokenTagging.getBIOTokenIndexForB expected a 'B' or 'I' tag at tokenIndex " + tokenIndex);
  }

  var bTokenIndex = tokenIndex;
  while (this.bioGetBIOValue(bTokenIndex) === 'I') {
    bTokenIndex -= 1;
  }
  if (this.bioGetBIOValue(bTokenIndex) !== 'B') {
    throw new TypeError("TokenTagging.getBIOTokenIndex expected a 'B' tag at tokenIndex " +
                        bTokenIndex + ', but tag was "' +
                        this.getTaggedTokenWithTokenIndex(bTokenIndex) + "'");
  }
  return bTokenIndex;
};

/**
 * Set BIO TaggedToken tag
 *
 * @param {String} bioValue - Should be 'B', 'I' or 'O'
 * @param {String} tagText
 * @param {Number} tokenIndex
 * @throws {TypeError} Thrown if bioValue is not 'B'|'I'|'O'.  Also thrown
 *                     if bioValue is 'I', but not part of a valid 'BI*'
 *                     multi-token tagging.
 */
TokenTagging.prototype.bioSetTaggedTokenTag = function(bioValue, tagText, tokenIndex) {
  if (bioValue !== 'B' && bioValue !== 'I' && bioValue !== 'O') {
    throw new TypeError("TokenTagging.bioSetTaggedTokenTag() expected bioValue to be 'B', 'I' or 'O', " +
                        "but instead it was '" + bioValue + "'");
  }

  var bioTagText;
  if (bioValue === 'B') {
    this.setTaggedTokenTag(bioValue + this.bioGetTagSeparator() + tagText, tokenIndex);
  }
  else if (bioValue === 'I') {
    var bioPreviousValue = this.bioGetBIOValue(tokenIndex-1);
    if (bioPreviousValue === 'B' || bioPreviousValue === 'I') {
      // Get tag value from previous tag, ignore 'tagText' passed into function
      this.setTaggedTokenTag(bioValue + this.bioGetTagSeparator() + this.bioGetTagValue(tokenIndex-1), tokenIndex);
    }
    else {
      throw new TypeError("TokenTagging.bioSetTaggedTokenTag() encountered inconsistent BIO tagging " +
                          "at tokenIndex " + (tokenIndex-1));
    }
  }
  else {
    this.setTaggedTokenTag('O', tokenIndex);
  }

  var bioValueNext = this.bioGetBIOValue(tokenIndex+1);
  var tagTextNext = this.bioGetTagValue(tokenIndex+1);
  if (bioValueNext === 'I') {
    if (bioValue === 'O') {
      this.bioSetTaggedTokenTag('B', tagTextNext, tokenIndex+1);
    }
    else {
      if (tagText !== tagTextNext) {
        // Update tagText for all following 'I' tokens
        this.bioSetTaggedTokenTag('I', tagText, tokenIndex+1);
      }
    }
  }
};

/**
 * For BIO TokenTaggings, sets separator character to be used between
 * B/I/O character and rest of tag
 *
 * @param {String} separator - String used as separator character
 */
TokenTagging.prototype.bioSetTagSeparator = function(separator) {
  this.bioTagSeparator = separator;
};

/**
 * Return a deep copy of this TokenTagging's taggedTokenList.
 *
 * @returns {TaggedToken[]}
 */
TokenTagging.prototype.deepCopyTaggedTokenList = function() {
  var taggedTokenListCopy = [];
  for (var i = 0; i < this.taggedTokenList.length; i++) {
    var taggedToken = new TaggedToken();
    taggedTokenListCopy.push(jQuery.extend(true, taggedToken, this.taggedTokenList[i]));
  }
  return taggedTokenListCopy;
};

/**
 * Return the TaggedToken (or null) with the specified tokenIndex
 *
 * @param {Number} tokenIndex
 * @returns {TaggedToken|null}
 */
TokenTagging.prototype.getTaggedTokenWithTokenIndex = function(tokenIndex) {
  for (var i = 0; i < this.taggedTokenList.length; i++) {
    if (this.taggedTokenList[i].tokenIndex === tokenIndex) {
      return this.taggedTokenList[i];
    }
  }
  return null;
};

/**
 * Set taggedTokenList to a list of TaggedTokens (one per token) with identical tags
 *
 * @param {Tokenization} tokenization - Used to determine # of TokenTags
 * @param {String} tagText - Value for each TaggedToken's "tag" field
 */
TokenTagging.prototype.setAllTaggedTokenTags = function(tokenization, tagText) {
  // Discard the contents of the existing taggedTokenList
  this.taggedTokenList = [];

  for (var i = 0; i < tokenization.tokenList.tokenList.length; i++) {
    taggedToken = new TaggedToken();
    taggedToken.tag = tagText;
    taggedToken.tokenIndex = i;
    this.taggedTokenList.push(taggedToken);
  }
};

/**
 * Sets the tag of the TaggedToken with the specified tokenIndex.
 * If a TaggedToken with the specified tokenIndex does not exist,
 * than it will be created.
 *
 * @param {String} tagText
 * @param {Number} tokenIndex
 */
TokenTagging.prototype.setTaggedTokenTag = function(tagText, tokenIndex) {
  var taggedToken = this.getTaggedTokenWithTokenIndex(tokenIndex);
  if (!taggedToken) {
    taggedToken = new TaggedToken();
    taggedToken.tokenIndex = tokenIndex;
    this.taggedTokenList.push(taggedToken);
  }
  taggedToken.tag = tagText;
};
